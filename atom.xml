<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é›ªæ¼«åŸçš„é£å®…</title>
  
  <subtitle>è†å¬ä¸€æ®µé£é›ªä¸å¯†é…’çš„æ•…äº‹</subtitle>
  <link href="https://nightingalewk.github.io/atom.xml" rel="self"/>
  
  <link href="https://nightingalewk.github.io/"/>
  <updated>2024-10-11T02:49:44.429Z</updated>
  <id>https://nightingalewk.github.io/</id>
  
  <author>
    <name>NightingaleWK</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ä» 0 å¼€å§‹éƒ¨ç½² LNMP ç”Ÿäº§ç¯å¢ƒ</title>
    <link href="https://nightingalewk.github.io/2024/10/10/63.%20%E4%BB%8E%200%20%E5%BC%80%E5%A7%8B%E9%83%A8%E7%BD%B2%20LNMP%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83/"/>
    <id>https://nightingalewk.github.io/2024/10/10/63.%20%E4%BB%8E%200%20%E5%BC%80%E5%A7%8B%E9%83%A8%E7%BD%B2%20LNMP%20%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83/</id>
    <published>2024-10-10T01:00:00.000Z</published>
    <updated>2024-10-11T02:49:44.429Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰ç½®å‡†å¤‡å·¥ä½œ"><a href="#å‰ç½®å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‰ç½®å‡†å¤‡å·¥ä½œ"></a>å‰ç½®å‡†å¤‡å·¥ä½œ</h2><p>æœ¬æ–‡ç« å°†æŒ‡å¯¼æ‚¨å¦‚ä½•ä½¿ç”¨ä¸€å°ç©ºç™½çš„äº‘æœåŠ¡å™¨ï¼ˆè¿™é‡Œæ¼”ç¤ºçš„æ˜¯è…¾è®¯äº‘çš„è½»é‡æœåŠ¡å™¨ï¼‰ï¼Œåœ¨ä»…å®‰è£… ubuntu 24.04 æ“ä½œç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼Œä¸€æ­¥æ­¥å®Œæˆ LNMP ç¯å¢ƒçš„é…ç½®</p><h2 id="1-åˆå§‹åŒ–-root-è´¦æˆ·å¯†ç "><a href="#1-åˆå§‹åŒ–-root-è´¦æˆ·å¯†ç " class="headerlink" title="1. åˆå§‹åŒ– root è´¦æˆ·å¯†ç "></a>1. åˆå§‹åŒ– root è´¦æˆ·å¯†ç </h2><p>ä¸€è¡ŒæŒ‡ä»¤å³å¯å®ç°ï¼Œå…¶ä¸­éœ€è¦è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼Œè‡ªå·±è¦è®°ä½ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> passwd root</span><br></pre></td></tr></table></figure><p>å³ä¾¿å¦‚æ­¤ï¼Œè¿™ä¸ª root è´¦æˆ·æˆ‘ä»¬åŸºæœ¬ä¸ç”¨ï¼Œä½†æ˜¯åˆå§‹åŒ–ä¸€ä¸‹åˆæ²¡å•¥é—®é¢˜ã€‚</p><h2 id="2-æ›´æ–°ç³»ç»Ÿ"><a href="#2-æ›´æ–°ç³»ç»Ÿ" class="headerlink" title="2. æ›´æ–°ç³»ç»Ÿ"></a>2. æ›´æ–°ç³»ç»Ÿ</h2><p>ç›®çš„æ˜¯ç¡®ä¿ç³»ç»Ÿçš„æ‰€æœ‰è½¯ä»¶åŒ…éƒ½æ˜¯æœ€æ–°çš„ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt upgrade -y</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ-y æ˜¯ apt upgrade å‘½ä»¤ä¸­çš„ä¸€ä¸ªé€‰é¡¹ï¼Œå®ƒçš„ä½œç”¨æ˜¯è‡ªåŠ¨å›ç­” â€œyesâ€ï¼ˆæ˜¯ï¼‰ ä»¥ç¡®è®¤å®‰è£…æˆ–å‡çº§è¿‡ç¨‹ä¸­çš„æ‰€æœ‰æç¤ºã€‚</p><h2 id="3-å®‰è£…-Nginx"><a href="#3-å®‰è£…-Nginx" class="headerlink" title="3. å®‰è£… Nginx"></a>3. å®‰è£… Nginx</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install nginx -y</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ Nginx æ˜¯å¦å·²ç»æ­£ç¡®å¯åŠ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl status nginx</span><br></pre></td></tr></table></figure><p>è®¿é—®æœåŠ¡å™¨çš„ IP åœ°å€ï¼ˆä¾‹å¦‚ï¼š<a href="http://your_server_ip),ä½ åº”è¯¥èƒ½çœ‹åˆ°/">http://your_server_ipï¼‰ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°</a> Nginx çš„é»˜è®¤é¡µé¢ã€‚</p><h2 id="4-å®‰è£…-MySQL"><a href="#4-å®‰è£…-MySQL" class="headerlink" title="4. å®‰è£… MySQL"></a>4. å®‰è£… MySQL</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install mysql-server -y</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯¹ MySQL è¿›è¡Œå®‰å…¨æ€§è®¾ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mysql_secure_installation</span><br></pre></td></tr></table></figure><p>å®Œæˆåï¼Œç™»å½• MySQL æ£€æŸ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mysql</span><br></pre></td></tr></table></figure><h2 id="4-ä¿®æ”¹-MySQL-çš„è®¤è¯æœºåˆ¶ä»-auth-socket-æ’ä»¶è®¤è¯æ”¹ä¸ºå¯†ç éªŒè¯"><a href="#4-ä¿®æ”¹-MySQL-çš„è®¤è¯æœºåˆ¶ä»-auth-socket-æ’ä»¶è®¤è¯æ”¹ä¸ºå¯†ç éªŒè¯" class="headerlink" title="4. ä¿®æ”¹ MySQL çš„è®¤è¯æœºåˆ¶ä» auth_socket æ’ä»¶è®¤è¯æ”¹ä¸ºå¯†ç éªŒè¯"></a>4. ä¿®æ”¹ MySQL çš„è®¤è¯æœºåˆ¶ä» auth_socket æ’ä»¶è®¤è¯æ”¹ä¸ºå¯†ç éªŒè¯</h2><p>åœ¨æ–°çš„ MySQL ç‰ˆæœ¬ä¸­ï¼Œroot ç”¨æˆ·é»˜è®¤ä½¿ç”¨ auth_socket æ’ä»¶è¿›è¡Œèº«ä»½éªŒè¯ï¼Œè¿™æ„å‘³ç€åªæœ‰åœ¨ç³»ç»Ÿä¸­ä»¥ root æˆ– sudo æƒé™è¿è¡Œçš„ç”¨æˆ·æ‰å¯ä»¥ç™»å½• MySQLï¼Œè€Œæ— éœ€å¯†ç ã€‚</p><p>ä½†æ˜¯è¿™ä¸ªæœºåˆ¶ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œå¦‚æœä¸ä¸º MySQL çš„ root ç”¨æˆ·è®¾ç½®å¯†ç ï¼ŒLaravel å°†æ— æ³•é€šè¿‡é»˜è®¤çš„ DB_USERNAME&#x3D;root å’Œ DB_PASSWORD æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚å› ä¸º Laravel çš„æ•°æ®åº“è¿æ¥éœ€è¦ä½¿ç”¨ä¼ ç»Ÿçš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œèº«ä»½éªŒè¯ï¼Œè€Œä¸æ˜¯é€šè¿‡ auth_socket æ’ä»¶çš„æ–¹å¼ã€‚</p><p>ä¸ºäº†ç¡®ä¿ Laravel èƒ½å¤ŸæˆåŠŸè¿æ¥ MySQL æ•°æ®åº“ï¼Œéœ€è¦æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p><ol><li>ç™»å½• MySQLï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mysql</span><br></pre></td></tr></table></figure><ol start="2"><li>æŸ¥çœ‹ root ç”¨æˆ·çš„èº«ä»½éªŒè¯æ’ä»¶ï¼š</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">user</span>, host, plugin <span class="keyword">FROM</span> mysql.user;</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥ root ç”¨æˆ·çš„ plugin æ˜¯å¦ä¸º auth_socketã€‚</p><ol start="3"><li>è®¾ç½® root ç”¨æˆ·çš„å¯†ç ï¼Œå¹¶å°†èº«ä»½éªŒè¯æ’ä»¶æ›´æ”¹ä¸º mysql_native_passwordï¼ˆæˆ–è€… caching_sha2_passwordï¼‰ï¼š</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;your_new_password&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ caching_sha2_password æ’ä»¶ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> caching_sha2_password <span class="keyword">BY</span> <span class="string">&#x27;your_new_password&#x27;</span>;</span><br></pre></td></tr></table></figure><p>å°è¯¾å ‚ï¼šMySQL 8.0 åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œmysql_native_password å’Œ caching_sha2_password æ˜¯ MySQL ä¸­ä¸¤ç§ä¸åŒçš„èº«ä»½éªŒè¯æ’ä»¶ï¼Œå®ƒä»¬åœ¨å®‰å…¨æ€§å’Œæ€§èƒ½ä¸Šæœ‰ä¸€å®šçš„åŒºåˆ«ã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„è¯¦ç»†å¯¹æ¯”ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1. mysql_native_password æ’ä»¶</span><br><span class="line">    - æ¦‚è¿°ï¼šmysql_native_password æ˜¯ MySQL è¾ƒæ—©ç‰ˆæœ¬ï¼ˆ5.7 åŠä»¥å‰ï¼‰ä¸­çš„é»˜è®¤èº«ä»½éªŒè¯æ’ä»¶ï¼Œå®ƒé€šè¿‡å“ˆå¸Œç®—æ³•ï¼ˆSHA1ï¼‰åŠ å¯†ç”¨æˆ·å¯†ç ï¼Œå¹¶ç”¨äºéªŒè¯ç”¨æˆ·èº«ä»½ã€‚</span><br><span class="line">    - ä¼˜ç‚¹ï¼š</span><br><span class="line">        - å…¼å®¹æ€§å¥½ï¼šä¸ MySQL æ—©æœŸç‰ˆæœ¬ã€PHP åŠå…¶ä»–æ•°æ®åº“é©±åŠ¨ç¨‹åºï¼ˆå¦‚ PDOã€MySQLiï¼‰éƒ½æœ‰å¾ˆå¥½çš„å…¼å®¹æ€§ã€‚</span><br><span class="line">        - é…ç½®ç®€å•ï¼šä¸éœ€è¦é¢å¤–çš„å¯†ç åŠ å¯†è®¾ç½®ï¼Œå®¹æ˜“ç†è§£å’Œä½¿ç”¨ã€‚</span><br><span class="line">    - ç¼ºç‚¹ï¼š</span><br><span class="line">        - å®‰å…¨æ€§è¾ƒä½ï¼šä½¿ç”¨ SHA1 ä½œä¸ºå“ˆå¸Œç®—æ³•ï¼Œè€Œ SHA1 å·²è¢«è¯æ˜å­˜åœ¨å®‰å…¨æ¼æ´ï¼Œå› æ­¤ä½¿ç”¨è¯¥æ’ä»¶çš„å¯†ç å®¹æ˜“å—åˆ°å½©è™¹è¡¨æ”»å‡»å’Œå…¶ä»–å“ˆå¸Œç ´è§£æŠ€æœ¯çš„æ”»å‡»ã€‚</span><br><span class="line">    - é€‚ç”¨åœºæ™¯ï¼š</span><br><span class="line">        - ä¸æ—§ç‰ˆæœ¬ MySQL æˆ–æ—§ç‰ˆæœ¬å®¢æˆ·ç«¯ç¨‹åºçš„å…¼å®¹æ€§éœ€æ±‚ã€‚</span><br><span class="line">        - å‡ºäºå…¼å®¹æ€§è€ƒè™‘ï¼Œæ¨èåœ¨ä½é£é™©ç¯å¢ƒæˆ–å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</span><br><span class="line">2. caching_sha2_password æ’ä»¶</span><br><span class="line">    - æ¦‚è¿°ï¼šcaching_sha2_password æ˜¯ MySQL 8.0 åŠä¹‹åçš„é»˜è®¤èº«ä»½éªŒè¯æ’ä»¶ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„ SHA-256 å“ˆå¸Œç®—æ³•æ¥åŠ å¯†å¯†ç ï¼Œå¹¶å¸¦æœ‰å¯†ç ç¼“å­˜åŠŸèƒ½ï¼Œå¯ä»¥æé«˜èº«ä»½éªŒè¯çš„æ•ˆç‡ã€‚</span><br><span class="line">    - ä¼˜ç‚¹ï¼š</span><br><span class="line">        - æ›´é«˜çš„å®‰å…¨æ€§ï¼šSHA-256 æ¯” SHA1 æ›´å¼ºå¤§ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°æŠµå¾¡æš´åŠ›ç ´è§£å’Œå…¶ä»–ç±»å‹çš„å¯†ç æ”»å‡»ã€‚</span><br><span class="line">        - æé«˜æ€§èƒ½ï¼šä½¿ç”¨äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„èº«ä»½éªŒè¯ç¼“å­˜æœºåˆ¶ï¼Œå¯ä»¥å‡å°‘é‡å¤èº«ä»½éªŒè¯æ—¶çš„æ€§èƒ½å¼€é”€ï¼Œæå‡æ€§èƒ½è¡¨ç°ã€‚</span><br><span class="line">        - åŠ å¯†è¿æ¥ï¼šæ”¯æŒåŠ å¯†è¿æ¥ï¼ˆTLS/SSLï¼‰ï¼Œåœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸­ä¹Ÿå¯ä»¥ä¿è¯ä¼ è¾“ä¸­çš„æ•°æ®å®‰å…¨æ€§ã€‚</span><br><span class="line">    ç¼ºç‚¹ï¼š</span><br><span class="line">        - å…¼å®¹æ€§é—®é¢˜ï¼šç”±äº caching_sha2_password æ˜¯ MySQL 8.0 ä¸­å¼•å…¥çš„æ–°æ’ä»¶ï¼Œå› æ­¤å¯èƒ½ä¸æ—§ç‰ˆæœ¬çš„ MySQL å®¢æˆ·ç«¯å’Œé©±åŠ¨ç¨‹åºä¸å…¼å®¹ã€‚ä¾‹å¦‚ï¼šä¸€äº›æ—§ç‰ˆæœ¬çš„ PHP å’Œ MySQLi æ‰©å±•å¯èƒ½æ— æ³•ç›´æ¥è¿æ¥åˆ°ä½¿ç”¨ caching_sha2_password æ’ä»¶çš„ MySQL æ•°æ®åº“ã€‚</span><br><span class="line">    - é€‚ç”¨åœºæ™¯ï¼š</span><br><span class="line">        - å¼ºå®‰å…¨æ€§éœ€æ±‚ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ¨èä½¿ç”¨ caching_sha2_password æ¥ç¡®ä¿æ•°æ®å®‰å…¨æ€§ã€‚</span><br><span class="line">        - é«˜æ€§èƒ½éœ€æ±‚ï¼šç”±äºç¼“å­˜æœºåˆ¶çš„å­˜åœ¨ï¼Œé€‚ç”¨äºé«˜å¹¶å‘å’Œé¢‘ç¹æ•°æ®åº“è®¿é—®çš„åœºæ™¯ã€‚</span><br><span class="line"></span><br><span class="line">åœ¨é€‰æ‹©å»ºè®®æ–¹é¢ï¼š</span><br><span class="line"></span><br><span class="line">1. å…¼å®¹æ€§ä¼˜å…ˆæ—¶ä½¿ç”¨ mysql_native_passwordï¼š</span><br><span class="line">    - å¦‚æœä½ çš„ Laravel é¡¹ç›®ã€PHP ç‰ˆæœ¬è¾ƒæ—§ï¼ˆä¾‹å¦‚ PHP 7.xï¼‰ï¼Œæˆ–è€…ä½¿ç”¨äº†æ—§çš„ MySQL å®¢æˆ·ç«¯åº“ï¼ˆå¦‚ MySQLiï¼‰ï¼Œå¯èƒ½ä¼šé‡åˆ° caching_sha2_password ä¸å…¼å®¹çš„é—®é¢˜ã€‚</span><br><span class="line">    - åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é€‰æ‹© mysql_native_password ä½œä¸ºè¿‡æ¸¡è§£å†³æ–¹æ¡ˆï¼Œä»¥ä¿è¯ Laravel é¡¹ç›®èƒ½å¤Ÿæ­£å¸¸è¿æ¥åˆ°æ•°æ®åº“ã€‚</span><br><span class="line">2. å®‰å…¨æ€§ä¼˜å…ˆæ—¶ä½¿ç”¨ caching_sha2_passwordï¼š</span><br><span class="line">    - åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¦‚æœä½ çš„ Laravel é¡¹ç›®ã€PHP ç‰ˆæœ¬ä»¥åŠ MySQL å®¢æˆ·ç«¯å‡æ”¯æŒ MySQL 8.0 åŠä»¥ä¸Šï¼Œå¹¶ä¸”æ”¯æŒ caching_sha2_password æ’ä»¶ï¼Œå»ºè®®ä½¿ç”¨è¯¥æ’ä»¶ä»¥æé«˜å¯†ç å®‰å…¨æ€§ã€‚</span><br><span class="line">    - å¦å¤–ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ SSL/TLS åŠ å¯†çš„è¿æ¥ï¼Œä¹Ÿå»ºè®®ä½¿ç”¨ caching_sha2_passwordã€‚</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ <strong>caching_sha2_password</strong></p><ol start="4"><li>åˆ·æ–°æƒé™è¡¨ï¼š</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><ol start="5"><li>é€€å‡º MySQLï¼š</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit;</span><br></pre></td></tr></table></figure><ol start="6"><li>éªŒè¯ root å¯†ç æ˜¯å¦ç”Ÿæ•ˆ</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><h2 id="5-å®‰è£…-PHP"><a href="#5-å®‰è£…-PHP" class="headerlink" title="5. å®‰è£… PHP"></a>5. å®‰è£… PHP</h2><p>å®‰è£… PHP åŠå…¶æ‰©å±•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install php-fpm php-mysql php-cli php-xml php-mbstring php-curl php-zip php-gd php-imagick -y</span><br></pre></td></tr></table></figure><p>æˆªç¨¿æ—¶æœ€æ–°ç‰ˆæœ¬ä¸º 8.3</p><p>é…ç½® PHP-FPMï¼š ç¼–è¾‘ PHP é…ç½®æ–‡ä»¶ php.iniï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/php/8.3/fpm/php.ini</span><br></pre></td></tr></table></figure><p>ç¡®ä¿ä»¥ä¸‹å‚æ•°å€¼æ­£ç¡®ï¼ˆå¦‚æœæ²¡æœ‰åˆ™æ‰‹åŠ¨æ·»åŠ æˆ–ä¿®æ”¹ï¼‰ï¼š</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cgi.fix_pathinfo</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">memory_limit</span> = <span class="number">512</span>M</span><br><span class="line"><span class="attr">upload_max_filesize</span> = <span class="number">50</span>M</span><br><span class="line"><span class="attr">post_max_size</span> = <span class="number">50</span>M</span><br><span class="line"><span class="attr">max_execution_time</span> = <span class="number">300</span></span><br></pre></td></tr></table></figure><p>é‡å¯ PHP-FPM æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart php8.3-fpm</span><br></pre></td></tr></table></figure><h2 id="6-é…ç½®-Nginx-ä»¥æ”¯æŒ-PHP"><a href="#6-é…ç½®-Nginx-ä»¥æ”¯æŒ-PHP" class="headerlink" title="6. é…ç½® Nginx ä»¥æ”¯æŒ PHP"></a>6. é…ç½® Nginx ä»¥æ”¯æŒ PHP</h2><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ Nginx é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…ä¿®æ”¹é»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/nginx/sites-available/laravel</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆç¡®ä¿ä¸ Laravel é¡¹ç›®ç›®å½•åŒ¹é…ï¼‰ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span> your_domain_or_ip;</span><br><span class="line">    <span class="attribute">root</span> /var/www/laravel/public;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">index</span> index.php index.html index.htm;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> / &#123;</span><br><span class="line">        <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.php?<span class="variable">$query_string</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~ \.php$</span> &#123;</span><br><span class="line">        <span class="attribute">include</span> snippets/fastcgi-php.conf;</span><br><span class="line">        <span class="attribute">fastcgi_pass</span> unix:/var/run/php/php8.1-fpm.sock;</span><br><span class="line">        <span class="attribute">fastcgi_param</span> SCRIPT_FILENAME <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">        <span class="attribute">include</span> fastcgi_params;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="section">location</span> <span class="regexp">~ /\.ht</span> &#123;</span><br><span class="line">        <span class="attribute">deny</span> all;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ç”¨æ­¤é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s /etc/nginx/sites-available/laravel /etc/nginx/sites-enabled/</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥ Nginx é…ç½®è¯­æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nginx -t</span><br></pre></td></tr></table></figure><p>é‡å¯ Nginxï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl restart nginx</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…-Composer"><a href="#å®‰è£…-Composer" class="headerlink" title="å®‰è£… Composer"></a>å®‰è£… Composer</h2><p>å…¨å±€å®‰è£… Composerï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://getcomposer.org/installer | php</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mv</span> composer.phar /usr/local/bin/composer</span><br></pre></td></tr></table></figure><p>éªŒè¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer --version</span><br></pre></td></tr></table></figure><h2 id="å®Œäº‹å„¿"><a href="#å®Œäº‹å„¿" class="headerlink" title="å®Œäº‹å„¿"></a>å®Œäº‹å„¿</h2><p>è‡³æ­¤ï¼Œä¸€ä¸ªå´­æ–°çš„ LNMP ç¯å¢ƒå°±é…ç½®å¥½äº†ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘å°†ç»§ç»­ä»‹ç»å¦‚ä½•åœ¨æ­¤åŸºç¡€ä¸Šéƒ¨ç½²ä¸€ä¸ª Laravel é¡¹ç›®ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰ç½®å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‰ç½®å‡†å¤‡å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;å‰ç½®å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt;å‰ç½®å‡†å¤‡å·¥ä½œ&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ç« å°†æŒ‡å¯¼æ‚¨å¦‚ä½•ä½¿ç”¨ä¸€å°ç©ºç™½çš„äº‘æœåŠ¡å™¨ï¼ˆè¿™é‡Œæ¼”ç¤ºçš„æ˜¯è…¾è®¯äº‘çš„è½»é‡æœåŠ¡å™¨ï¼‰ï¼Œåœ¨ä»…å®‰è£… ubuntu 24.0</summary>
      
    
    
    
    <category term="LNMP" scheme="https://nightingalewk.github.io/categories/LNMP/"/>
    
    
    <category term="linux" scheme="https://nightingalewk.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>laravel 10 åœ¨ vite å·¥ä½œæµä¸­å¼•å…¥å¹¶ä½¿ç”¨ Font Awesome 6</title>
    <link href="https://nightingalewk.github.io/2023/11/21/62.%20laravel%2010%20%E5%9C%A8%20vite%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E4%B8%AD%E5%BC%95%E5%85%A5%E5%B9%B6%E4%BD%BF%E7%94%A8%20Font%20Awesome/"/>
    <id>https://nightingalewk.github.io/2023/11/21/62.%20laravel%2010%20%E5%9C%A8%20vite%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E4%B8%AD%E5%BC%95%E5%85%A5%E5%B9%B6%E4%BD%BF%E7%94%A8%20Font%20Awesome/</id>
    <published>2023-11-21T10:00:00.000Z</published>
    <updated>2023-11-21T08:50:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¼•å…¥ Font Awesome ç»„ä»¶åˆ° Laravel é¡¹ç›®çš„ Vite æ„å»ºä¸­æ¶‰åŠä¸€äº›æ­¥éª¤ã€‚ä»¥ä¸‹æ˜¯ä¸€èˆ¬çš„æŒ‡å—ï¼š</p><h2 id="1-å®‰è£…-Font-Awesomeï¼š"><a href="#1-å®‰è£…-Font-Awesomeï¼š" class="headerlink" title="1. å®‰è£… Font Awesomeï¼š"></a>1. å®‰è£… Font Awesomeï¼š</h2><p>é€šè¿‡ npm æˆ– yarn å®‰è£… Font Awesomeã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @fortawesome/fontawesome-free</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ yarnï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add @fortawesome/fontawesome-free</span><br></pre></td></tr></table></figure><h2 id="2-å¼•å…¥-Font-Awesome-æ ·å¼ï¼š"><a href="#2-å¼•å…¥-Font-Awesome-æ ·å¼ï¼š" class="headerlink" title="2. å¼•å…¥ Font Awesome æ ·å¼ï¼š"></a>2. å¼•å…¥ Font Awesome æ ·å¼ï¼š</h2><p>åœ¨ Vite é¡¹ç›®ä¸­ï¼Œä½ å¯ä»¥åœ¨å…¥å£æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ main.js æˆ– main.ts,laravel é»˜è®¤æ˜¯ app.js ï¼‰ä¸­å¼•å…¥ Font Awesome æ ·å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/main.js or src/main.ts or resources/js/app.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@fortawesome/fontawesome-free/css/all.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶ä»–çš„å…¥å£æ–‡ä»¶å†…å®¹...</span></span><br></pre></td></tr></table></figure><p>è¿™å°†å¼•å…¥ Font Awesome çš„æ‰€æœ‰æ ·å¼ã€‚å¦‚æœä½ åªéœ€è¦ä½¿ç”¨ç‰¹å®šå›¾æ ‡çš„æ ·å¼ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦å¼•å…¥ solidã€regular æˆ– brands ä¸­çš„å­é›†ã€‚</p><h2 id="4-npm-æ„å»º"><a href="#4-npm-æ„å»º" class="headerlink" title="4. npm æ„å»º"></a>4. npm æ„å»º</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br><span class="line"></span><br><span class="line"><span class="comment">## laravel sail ç¯å¢ƒéœ€è¦æ·»åŠ  sail å‰ç¼€</span></span><br><span class="line">sail npm run dev</span><br></pre></td></tr></table></figure><h2 id="3-å¼€å§‹ä½¿ç”¨"><a href="#3-å¼€å§‹ä½¿ç”¨" class="headerlink" title="3. å¼€å§‹ä½¿ç”¨"></a>3. å¼€å§‹ä½¿ç”¨</h2><p>ç„¶åä½ å°±å¯ä»¥ä½¿ç”¨ Font Awesome å›¾æ ‡äº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¼•å…¥ Font Awesome ç»„ä»¶åˆ° Laravel é¡¹ç›®çš„ Vite æ„å»ºä¸­æ¶‰åŠä¸€äº›æ­¥éª¤ã€‚ä»¥ä¸‹æ˜¯ä¸€èˆ¬çš„æŒ‡å—ï¼š&lt;/p&gt;
&lt;h2 id=&quot;1-å®‰è£…-Font-Awesomeï¼š&quot;&gt;&lt;a href=&quot;#1-å®‰è£…-Font-Awesomeï¼š&quot; class=&quot;headerlink&quot;</summary>
      
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="Font Awesome" scheme="https://nightingalewk.github.io/tags/Font-Awesome/"/>
    
    <category term="vite" scheme="https://nightingalewk.github.io/tags/vite/"/>
    
  </entry>
  
  <entry>
    <title>laravel é¡¹ç›®æ‰§è¡Œ sail up æŠ¥ 80 ç«¯å£å ç”¨é—®é¢˜</title>
    <link href="https://nightingalewk.github.io/2023/11/16/61.%20laravel%20%E9%A1%B9%E7%9B%AE%E6%89%A7%E8%A1%8C%20sail%20up%20%E6%8A%A5%2080%20%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98/"/>
    <id>https://nightingalewk.github.io/2023/11/16/61.%20laravel%20%E9%A1%B9%E7%9B%AE%E6%89%A7%E8%A1%8C%20sail%20up%20%E6%8A%A5%2080%20%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98/</id>
    <published>2023-11-16T09:00:00.000Z</published>
    <updated>2023-11-16T09:09:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©ç»™ä¸€å°æ–°æœºå™¨è£…å¥½ laravel sail ç¯å¢ƒåï¼Œåœ¨æœ€åä¸€æ­¥å¯åŠ¨é¡¹ç›®æ—¶ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">wangkai@Precision-<span class="number">7920</span>:~/code/daochenglin$ sail up -d</span><br><span class="line">[+] Building <span class="number">0.0</span>s (<span class="number">0</span>/<span class="number">0</span>)                                                                          docker:<span class="keyword">default</span></span><br><span class="line">[+] Running <span class="number">8</span>/<span class="number">8</span></span><br><span class="line"> âœ” Network daochenglin_sail              Created                                                           <span class="number">0.0</span>s</span><br><span class="line"> âœ” Container daochenglin-meilisearch-<span class="number">1</span>   Started                                                           <span class="number">0.1</span>s</span><br><span class="line"> âœ” Container daochenglin-selenium-<span class="number">1</span>      Started                                                           <span class="number">0.1</span>s</span><br><span class="line"> âœ” Container daochenglin-redis-<span class="number">1</span>         Started                                                           <span class="number">0.1</span>s</span><br><span class="line"> âœ” Container daochenglin-memcached-<span class="number">1</span>     Started                                                           <span class="number">0.1</span>s</span><br><span class="line"> âœ” Container daochenglin-mysql-<span class="number">1</span>         Started                                                           <span class="number">0.1</span>s</span><br><span class="line"> âœ” Container daochenglin-mailpit-<span class="number">1</span>       Started                                                           <span class="number">0.1</span>s</span><br><span class="line"> âœ” Container daochenglin-laravel.test-<span class="number">1</span>  Created                                                           <span class="number">0.1</span>s</span><br><span class="line"><span class="built_in">Error</span> response <span class="keyword">from</span> daemon: Ports are not available: exposing port TCP <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">80</span> -&gt; <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">0</span>: listen tcp <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">80</span>: bind: An attempt was made to access a socket in a way forbidden by its access permissions.</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé—®é¢˜å°±æ˜¯æˆ‘ä»¬æœ¬æœºçš„ 80 ç«¯å£è¢«å ç”¨äº†ï¼Œæˆ‘ä¸ªäººçš„ç”µè„‘æ˜¯ windows 11ï¼Œç³»ç»ŸæœåŠ¡é»˜è®¤å¼€å¯ä¸€ä¸ªå« <code>World Wide Web å‘å¸ƒæœåŠ¡</code> çš„æœåŠ¡ï¼Œä»–æ˜¯è‡ªåŠ¨å¯åŠ¨çš„ï¼Œè¯¥æœåŠ¡é€šè¿‡ Internet Information Services ç®¡ç†å™¨æä¾› Web è¿æ¥å’Œç®¡ç†ï¼Œé»˜è®¤å ç”¨ 80 ç«¯å£ï¼Œè¿™ä¸ªæœåŠ¡æˆ‘ä»¬å¾ˆæ˜æ˜¾ç”¨ä¸åˆ°ï¼Œç»™ä»–ç¦ç”¨æ‰ï¼Œç„¶åå† sail up å°± ok äº†ã€‚</p><p>ä¸€ç‚¹å°å°çš„ç»éªŒåˆ†äº« ğŸ˜</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä»Šå¤©ç»™ä¸€å°æ–°æœºå™¨è£…å¥½ laravel sail ç¯å¢ƒåï¼Œåœ¨æœ€åä¸€æ­¥å¯åŠ¨é¡¹ç›®æ—¶ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/s</summary>
      
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="laravel sail" scheme="https://nightingalewk.github.io/tags/laravel-sail/"/>
    
    <category term="æ•…éšœæ’é™¤" scheme="https://nightingalewk.github.io/tags/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/"/>
    
  </entry>
  
  <entry>
    <title>laravel artisan route ç”¨æ³•</title>
    <link href="https://nightingalewk.github.io/2023/11/15/60.%20laravel%20artisan%20route%20%E7%94%A8%E6%B3%95/"/>
    <id>https://nightingalewk.github.io/2023/11/15/60.%20laravel%20artisan%20route%20%E7%94%A8%E6%B3%95/</id>
    <published>2023-11-15T09:00:00.000Z</published>
    <updated>2023-11-15T09:22:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>åŸºæœ¬ç”¨æ³•æ˜¯ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">laravel artisan route ç”¨æ³•</span><br></pre></td></tr></table></figure><p>å¯æ·»åŠ çš„åç¼€æœ‰ï¼š</p><table><thead><tr><th>åç¼€å‚æ•°</th><th>æè¿°</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>â€“method&#x3D;<TERM></td><td>Filters the routes by method.</td><td>æ— </td></tr><tr><td>â€“name&#x3D;<TERM></td><td>Filters the routes by name.</td><td>æ— </td></tr><tr><td>â€“path&#x3D;<TERM></td><td>Filters the routes by path (URI).</td><td>æ— </td></tr><tr><td>â€“reverse</td><td>Reverses the order the routes are displayed in the table.</td><td>æ— </td></tr><tr><td>-r</td><td>Reverses the order the routes are displayed in the table (shortcut to â€“reverse).</td><td>æ— </td></tr><tr><td>â€“sort</td><td>The column to sort by. Accepted values are host, method, uri, name, action or middleware.</td><td>uri</td></tr></tbody></table><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Filter the route list by name.</span></span><br><span class="line">php artisan route:<span class="keyword">list</span> --name=account</span><br><span class="line"></span><br><span class="line"><span class="comment"># Filter the route list by URI.</span></span><br><span class="line">php artisan route:<span class="keyword">list</span> --path=<span class="string">&#x27;api/v1/&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># Filter the route list by method.</span></span><br><span class="line">php artisan route:<span class="keyword">list</span> --method=GET</span><br><span class="line"></span><br><span class="line"><span class="comment"># The filters can be combined; results will be aggregated using &quot;and&quot; logic. The following command:</span></span><br><span class="line">php artisan route:<span class="keyword">list</span> --path=account --method=GET</span><br><span class="line"></span><br><span class="line"><span class="comment"># Filter the routes and display them in reverse order.</span></span><br><span class="line">php artisan route:<span class="keyword">list</span> --method=GET --reverse</span><br><span class="line"> </span><br><span class="line"><span class="comment"># The following is equivalent to the previous example.</span></span><br><span class="line">php artisan route:<span class="keyword">list</span> --method=GET -r</span><br><span class="line"> </span><br><span class="line"><span class="comment"># Filter the routes and sort `name` column.</span></span><br><span class="line">php artisan route:<span class="keyword">list</span> --method=GET --sort=name</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åŸºæœ¬ç”¨æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;p</summary>
      
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="artisan æŒ‡ä»¤" scheme="https://nightingalewk.github.io/tags/artisan-%E6%8C%87%E4%BB%A4/"/>
    
  </entry>
  
  <entry>
    <title>å“ï¼ŒåˆæŠŠåšå®¢è¿ç§»äº†</title>
    <link href="https://nightingalewk.github.io/2023/11/07/59.%20%E5%93%8E%EF%BC%8C%E5%8F%88%E6%8A%8A%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB%E4%BA%86/"/>
    <id>https://nightingalewk.github.io/2023/11/07/59.%20%E5%93%8E%EF%BC%8C%E5%8F%88%E6%8A%8A%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB%E4%BA%86/</id>
    <published>2023-11-07T02:57:43.000Z</published>
    <updated>2023-11-07T03:08:08.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å°±ç»“æœæ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯å›å½’ hexo çš„æ€€æŠ±äº†ã€‚</p></blockquote><p>æœ¬æ¥æˆ‘çš„åšå®¢éƒ¨ç½²åœ¨è‡ªå·±çš„è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨ï¼Œä½†æ˜¯æœ€è¿‘æ‰‹å¤´çš„é¡¹ç›®éœ€è¦éƒ¨ç½²æµ‹è¯•ï¼Œå°±å¯èƒ½å¯¹æœåŠ¡å™¨è¿›è¡Œä¸€äº›å˜åŠ¨å’Œä¿®æ”¹ï¼Œç”šè‡³é‡è£…ï¼Œè¿™å°±å¯¹åšå®¢çš„ç¨³å®šé€ æˆäº†å½±å“ã€‚ä¸ºäº†è¿½æ±‚ç¨³å®šï¼Œæˆ‘å†³å®šè¿˜æ˜¯æŠŠç½‘ç«™éƒ¨ç½²åˆ° github pages ä¸Šï¼Œè™½ç„¶å¯èƒ½å­˜åœ¨éƒ¨åˆ†æ‰“ä¸å¼€çš„æƒ…å†µï¼Œä½†è‡³å°‘æ˜¯å…è´¹çš„ï¼Œæˆ‘å†æŠŠæˆ‘çš„åŸŸåæŒ‡å‘é»˜è®¤åœ°å€ä¸Šï¼Œå°±æ²¡é—®é¢˜äº†ã€‚</p><p>å…¶å® typecho ç”¨å¾—å¥½å¥½çš„ï¼Œéå¸¸é¡ºæ‰‹ï¼Œè¦ä¸æ˜¯æœåŠ¡å™¨æœ‰å…¶ä»–ç”¨å¤„ï¼Œæˆ‘æ‰ä¸æ¢å‘¢ã€‚</p><p>å•¥ä¹Ÿæ²¡ä¸¢ï¼Œå•¥éƒ½å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè€Œä¸” github ä¸ºæˆ‘ä»¬æä¾›ç¨³å®šå¯é è°±çš„æœåŠ¡ï¼Œæˆ‘è§‰å¾—å°±è¶³å¤Ÿäº†</p><p>å›é¡¾ä¸€è·¯èµ°æ¥çš„åšå®¢è·¯çº¿ï¼Œä» wordpressï¼Œå†åˆ° hexoï¼Œå†åˆ° typechoï¼Œå†å›åˆ° hexoï¼Œä¸ªäººçš„åå¥½ä»ä¸€å¼€å§‹è¿½å¯»èŠ±é‡Œèƒ¡å“¨ï¼Œå¤§è€Œå…¨ï¼Œæ…¢æ…¢çš„è½¬ä¸ºç®€å•ç®€çº¦ï¼Œç¨³å®šå¯é ã€‚æ…¢æ…¢å›å½’åšå®¢çš„è®°å½•æœ¬è´¨ã€‚</p><p>åœ¨å‘æ–‡çš„æ—¶å€™ï¼Œæˆ‘æŠŠè¯¥è½¬ç§»çš„èµ„æºéƒ½å®Œæˆäº†è½¬ç§»ï¼Œé‚£å°±è®©æˆ‘ä»¬ç»§ç»­åœ¨ github pages å¼ºåŠ›é©±åŠ¨ä¸‹çš„ hexo é‡Œç»§ç»­è®°å½•æˆ‘çš„æˆé•¿å†ç¨‹å§</p><blockquote><p>ç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å°±ç»“æœæ¥è¯´ï¼Œæˆ‘è¿˜æ˜¯å›å½’ hexo çš„æ€€æŠ±äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æœ¬æ¥æˆ‘çš„åšå®¢éƒ¨ç½²åœ¨è‡ªå·±çš„è…¾è®¯äº‘è½»é‡æœåŠ¡å™¨ï¼Œä½†æ˜¯æœ€è¿‘æ‰‹å¤´çš„é¡¹ç›®éœ€è¦éƒ¨ç½²æµ‹è¯•ï¼Œå°±å¯èƒ½å¯¹æœåŠ¡å™¨è¿›è¡Œä¸€äº›å˜åŠ¨å’Œä¿®æ”¹ï¼Œç”šè‡³é‡è£…ï¼Œè¿™å°±å¯¹åšå®¢çš„ç¨³å®šé€ æˆäº†å½±å“ã€‚ä¸ºäº†è¿½æ±‚ç¨³å®šï¼Œ</summary>
      
    
    
    
    <category term="ä¸ªäºº" scheme="https://nightingalewk.github.io/categories/%E4%B8%AA%E4%BA%BA/"/>
    
    
    <category term="è¿ç§»" scheme="https://nightingalewk.github.io/tags/%E8%BF%81%E7%A7%BB/"/>
    
  </entry>
  
  <entry>
    <title>é…ç½®å¹¶éƒ¨ç½² laravel 10 é¡¹ç›®åˆ° ubuntu 22.04.2 æœåŠ¡å™¨</title>
    <link href="https://nightingalewk.github.io/2023/07/10/57.%20%E9%85%8D%E7%BD%AE%E5%B9%B6%E9%83%A8%E7%BD%B2%20laravel%2010%20%E9%A1%B9%E7%9B%AE%E5%88%B0%20ubuntu%2022.04.2%20%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://nightingalewk.github.io/2023/07/10/57.%20%E9%85%8D%E7%BD%AE%E5%B9%B6%E9%83%A8%E7%BD%B2%20laravel%2010%20%E9%A1%B9%E7%9B%AE%E5%88%B0%20ubuntu%2022.04.2%20%E6%9C%8D%E5%8A%A1%E5%99%A8/</id>
    <published>2023-07-10T06:21:00.000Z</published>
    <updated>2023-11-07T03:12:56.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ubuntu-é•œåƒä¸‹è½½ä¸å®‰è£…"><a href="#ubuntu-é•œåƒä¸‹è½½ä¸å®‰è£…" class="headerlink" title="ubuntu é•œåƒä¸‹è½½ä¸å®‰è£…"></a>ubuntu é•œåƒä¸‹è½½ä¸å®‰è£…</h2><p>ubuntu å®˜æ–¹å¯å…è´¹ä¸‹è½½æœåŠ¡å™¨ç‰ˆæœ¬çš„ iso é•œåƒæ–‡ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ¬é•œåƒè¿›è¡Œæœ€å°åŒ–å®‰è£…å³å¯ã€‚æˆ‘è‡ªå·±çš„æ“ä½œæ˜¯æŠŠé•œåƒäº¤ç»™æˆ‘ä»¬å…¬å¸çš„ç½‘ç»œè¿ç»´å·¥ç¨‹å¸ˆï¼Œè®©ä»–ç»™æˆ‘é‚£è¿™ä¸ªé•œåƒå¼€äº†ä¸ªè™šæœºï¼Œåˆ†é…äº†ä¸€ä¸ªå†…ç½‘ IP ç”¨æ¥æµ‹è¯•ã€‚</p><p>è®°å¾—è·Ÿç½‘ç»œè¿ç»´å·¥ç¨‹å¸ˆè¯´ä¸€ä¸‹è®©æœåŠ¡å™¨é€šäº’è”ç½‘ï¼Œå†é…ç½®ä¸€ä¸‹é˜¿é‡Œäº‘çš„æº</p><h2 id="ç³»ç»Ÿå¿…è¦çš„é…ç½®"><a href="#ç³»ç»Ÿå¿…è¦çš„é…ç½®" class="headerlink" title="ç³»ç»Ÿå¿…è¦çš„é…ç½®"></a>ç³»ç»Ÿå¿…è¦çš„é…ç½®</h2><p>ç³»ç»Ÿé»˜è®¤æ²¡åˆå§‹åŒ– root è´¦å·ï¼Œä½¿ç”¨ä¸‹æ–¹æŒ‡ä»¤åˆå§‹åŒ–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure><p>ç„¶åå®šä¸€ä¸ªå®‰å…¨å¥½è®°çš„å¯†ç å°±è¡Œï¼Œæˆ‘ä»¬ä¹‹åçš„æ“ä½œéƒ½åœ¨ root è´¦å·ä¸‹æ‰§è¡Œã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯å‡çº§ ubuntu ç³»ç»Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt upgrade</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å®‰è£… vim ç¼–è¾‘å™¨ï¼Œæ–¹ä¾¿ç¼–è¾‘æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install vim</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å®‰è£… screen å·¥å…·ï¼Œä¿è¯æˆ‘ä»¬çš„æ“ä½œä¸å› å…³é—­ç»ˆç«¯è€Œç»ˆæ­¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install screen</span><br></pre></td></tr></table></figure><p>è‡³æ­¤è¯¥é…ç½®çš„éƒ½é…ç½®å¥½äº†</p><h2 id="å®‰è£…å¹¶é…ç½®-oneinstack"><a href="#å®‰è£…å¹¶é…ç½®-oneinstack" class="headerlink" title="å®‰è£…å¹¶é…ç½® oneinstack"></a>å®‰è£…å¹¶é…ç½® oneinstack</h2><p>oneinstack æ˜¯ä¸€æ¬¾è‡ªåŠ¨åŒ–éƒ¨ç½² lnmp ç¯å¢ƒçš„ç»„ä»¶å·¥å…·ï¼Œç™¾åº¦å¹¶è®¿é—®å®˜ç½‘ï¼Œé€‰æ‹©è‡ªåŠ¨å®‰è£…ï¼Œé€‰å¥½ä½ éœ€è¦çš„é…ç½®åï¼Œå¤åˆ¶å¥½å®‰è£…çš„å‘½ä»¤ï¼Œåé¢ç”¨</p><p>å®‰è£… lnmp ç¯å¢ƒä¹‹å‰ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª screen çª—å£ï¼Œä¿è¯æˆ‘ä»¬çš„å®‰è£…ä¸å› çª—å£å…³é—­è€Œç»ˆæ­¢ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -S lnmp</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨æ“ä½œï¼Œå¯ä»¥å‚è€ƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ctrl a + d    // æš‚é€€å½“å‰çš„ screen çª—å£</span><br><span class="line">screen -r lnmp    // æ¢å¤åä¸º lnmp çš„ screen çª—å£</span><br><span class="line">screen -ls    // æŸ¥çœ‹å½“å‰çš„æ‰€æœ‰ screen çª—å£ä¿¡æ¯</span><br></pre></td></tr></table></figure><p>å›åˆ°è¯é¢˜ï¼Œé…ç½®å¥½ screen å°±å¯ä»¥å¼€å§‹å®‰è£… lnmp ç¯å¢ƒå•¦ï¼Œç”¨ä¸Šé¢çš„ä½ å¤åˆ¶çš„ oneinstack ç”Ÿæˆçš„æŒ‡ä»¤åˆ°ä½ çš„ç»ˆç«¯ï¼Œå›è½¦ï¼Œç„¶åç­‰å¾…å®‰è£…å®Œæ¯•å¹¶é‡å¯æœåŠ¡å™¨å³å¯ã€‚</p><p>æ­¤è¿‡ç¨‹ä¸€èˆ¬æ²¡é—®é¢˜ï¼Œè‹¥å‡ºç°æŠ¥é”™ï¼Œå®‰è£…ä¼šç»ˆæ­¢å¹¶æç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå»ºè®®é‡æ–°æ‰§è¡Œä¸€éã€‚å†æœ‰æ•…éšœé‚£å°±è¦è‡ªè¡Œè§£å†³äº†ã€‚</p><h2 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h2><p>æ ¹æ® oneinstack å®‰è£…æ—¶é…ç½®çš„æ•°æ®åº“å¯†ç ï¼Œæˆ‘ä»¬é€šè¿‡è®¿é—®å’±ä»¬ä¸»æœºçš„ ip è¿›å…¥ oneinstack é»˜è®¤é¡µé¢ï¼Œç„¶åæ‰¾åˆ° phpmyadmin ï¼Œä½¿ç”¨ root å’Œåˆšæ‰è¯´çš„å¯†ç è¿›å…¥æ•°æ®åº“ä¸­ï¼Œæ–°å»ºä¸€ä¸ªæ‰€éœ€çš„ç©ºç™½æ•°æ®åº“ã€‚</p><h2 id="éƒ¨ç½²é¡¹ç›®"><a href="#éƒ¨ç½²é¡¹ç›®" class="headerlink" title="éƒ¨ç½²é¡¹ç›®"></a>éƒ¨ç½²é¡¹ç›®</h2><p>å‡è®¾ä½ çš„ laravel 10 é¡¹ç›®åœ¨ github ä¸­ï¼Œä»£ç é€šè¿‡ git è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å‰å¾€ç½‘ç«™ç›®å½•ï¼Œå¹¶å°†ä»£ç  clone åˆ°æœ¬åœ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /date/wwwroot</span><br><span class="line">mv default default_back</span><br><span class="line">git clone [ ä½ çš„è¿œç«¯ git åœ°å€ ] jiepade</span><br></pre></td></tr></table></figure><h2 id="php-é…ç½®"><a href="#php-é…ç½®" class="headerlink" title="php é…ç½®"></a>php é…ç½®</h2><p>æˆ‘ä»¬éœ€è¦å°†éƒ¨åˆ†çš„ php é»˜è®¤ç¦ç”¨çš„å‡½æ•°æ–¹æ³•æ‰“å¼€ï¼Œæ–¹ä¾¿ä½¿ç”¨è¯¸å¦‚ composer ä¹‹ç±»çš„å‘½ä»¤ï¼Œå…·ä½“æ“ä½œä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/php/etc/</span><br><span class="line">vim php.ini</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰¾åˆ°å¦‚ä¸‹è¿™è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">; This directive allows you to disable certain functions.</span><br><span class="line">; It receives a comma-delimited list of function names.</span><br><span class="line">; https://php.net/disable-functions</span><br><span class="line">disable_functions = passthru,exec,system,chroot,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_restore,dl,readlink,symlink,popepassthru,stream_socket_server,fsocket,popen</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disable_functions = passthru,exec,system,chroot,chgrp,chown,shell_exec,ini_alter,ini_restore,dl,readlink,popepassthru,stream_socket_server,fsocket,popen</span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡ºåï¼Œé‡å¯ phpâ€”fpm æœåŠ¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service php-fpm restart</span><br></pre></td></tr></table></figure><h2 id="composer-å®‰è£…ä¸æ‰§è¡Œ"><a href="#composer-å®‰è£…ä¸æ‰§è¡Œ" class="headerlink" title="composer å®‰è£…ä¸æ‰§è¡Œ"></a>composer å®‰è£…ä¸æ‰§è¡Œ</h2><p>å›åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå®‰è£… composerï¼Œè‹¥å·²å®‰è£…ï¼Œç›´æ¥é…ç½®ä¸‹ä¸€æ­¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">php -r &quot;copy(&#x27;https://install.phpcomposer.com/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span><br><span class="line">php composer-setup.php</span><br><span class="line">mv composer.phar /usr/local/bin/composer</span><br></pre></td></tr></table></figure><p>è‹¥ä»¥ä¸ŠæŒ‡ä»¤æŠ¥é”™ php æ— æ³•æ‰¾åˆ°ï¼Œè¯·æ£€æŸ¥pathè·¯å¾„æ˜¯å¦æ·»åŠ äº†phpçš„binç›®å½•ï¼Œå…·ä½“ç™¾åº¦å³å¯ã€‚ä¸å¯èƒ½æ˜¯æ²¡è£… phpï¼Œoneinstack å·²ç»ç»™ä½ è£…å¥½äº†ï¼Œè¿™ä¸ªé—®é¢˜åŸºæœ¬ä¸Šæ˜¯ubuntuä¸‹ä¸€èˆ¬è´¦å·èƒ½è·‘ phpï¼Œä½† root ä¸è¡Œã€‚å°é—®é¢˜çš„ã€‚</p><p>æˆ‘ä»¬ä¸ä½¿ç”¨é˜¿é‡Œäº‘çš„ composer é•œåƒï¼Œå› ä¸ºå›½å†…é•œåƒçš„composerå„ä¾èµ–ç‰ˆæœ¬ä¸å¤Ÿæ–°ï¼Œå½±å“ä½¿ç”¨ï¼Œç”¨å›½å¤–åŸç‰ˆé•œåƒæ…¢ç‚¹ï¼Œä½†æ˜¯ç¨³å®šä¸”æœ€æ–°ã€‚</p><p>å®‰è£…å¥½åï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ composer i æŒ‡ä»¤ï¼Œå®‰è£…é¡¹ç›®æ‰€éœ€çš„ä¾èµ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer i</span><br></pre></td></tr></table></figure><h2 id="laravel-åˆå§‹åŒ–é…ç½®"><a href="#laravel-åˆå§‹åŒ–é…ç½®" class="headerlink" title="laravel åˆå§‹åŒ–é…ç½®"></a>laravel åˆå§‹åŒ–é…ç½®</h2><p>æ¥ä¸‹æ¥å°±å¯ä»¥è¿›è¡ŒåŸºç¡€çš„ laravel é…ç½®äº†ï¼Œé¦–å…ˆæˆ‘ä»¬å¤åˆ¶æ ¹ç›®å½•ä¸‹çš„ .env ä¸€ä»½å‡ºæ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp .env.example .env</span><br></pre></td></tr></table></figure><p>ç„¶åç”Ÿæˆå¯†é’¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan key:generate</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ .env ä¸ºé¡¹ç›®å®é™…éœ€è¦è°ƒæ•´çš„å†…å®¹ï¼Œå…·ä½“éœ€è¦å’¨è¯¢å¼€å‘äººå‘˜è¦æ”¹å“ªäº›ã€‚</p><p>å®Œæˆä¸Šè¿°ç¯èŠ‚åï¼Œå°±å¯ä»¥è¿›è¡Œæ•°æ®åº“å¡«å……å·¥ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan migrate:refresh --seed &amp;&amp; php artisan admin:install </span><br></pre></td></tr></table></figure><p>ä¹‹åä½ å¯èƒ½éœ€è¦å€ŸåŠ©æ•°æ®åº“ç¨‹åºï¼Œè¿æ¥åˆ°æœåŠ¡å™¨ï¼ŒæŠŠä¸€äº›ä½ å¤‡ä»½çš„é¡¹ç›®åˆå§‹åŒ–æ•°æ®åº“å¡«å……åˆ°é¡¹ç›®ä¸­ï¼Œå…·ä½“è‡ªè¡Œæ“ä½œå³å¯ï¼Œæ¨èä½¿ç”¨ Dbeaverï¼Œå¼€æºä¸”å…è´¹ï¼Œå®˜æ–¹ä¹Ÿåœ¨æ›´æ–°ï¼Œåˆ«ç”¨ç›—ç‰ˆçš„ navicat è¾£</p><h2 id="é…ç½®-nginx"><a href="#é…ç½®-nginx" class="headerlink" title="é…ç½® nginx"></a>é…ç½® nginx</h2><p>è¿™æ—¶å€™ä½ è®¿é—®ç½‘å€æ˜¯æ— æ³•çœ‹åˆ°ä½ çš„é¡¹ç›®çš„ï¼Œéœ€è¦å¯¹ nginx é…ç½®ï¼Œé¦–å…ˆæ‰¾åˆ°é…ç½®æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/nginx/conf/</span><br><span class="line">vim nginx.conf</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¦‚ä¸‹çš„å‡ ä¸ªå€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">######################## default ############################</span><br><span class="line">  server &#123;</span><br><span class="line">    listen 2333;             &lt;------------------here,change it</span><br><span class="line">    server_name _;</span><br><span class="line">    access_log /data/wwwlogs/access_nginx.log combined;</span><br><span class="line">    root /data/wwwroot/default/public;             &lt;------------------here,change it</span><br><span class="line">    index index.html index.htm index.php;</span><br><span class="line">    #error_page 404 /404.html;</span><br><span class="line">    #error_page 502 /502.html;</span><br><span class="line">    location /nginx_status &#123;</span><br><span class="line">      stub_status on;</span><br><span class="line">      access_log off;</span><br><span class="line">      allow 127.0.0.1;</span><br><span class="line">      deny all;</span><br><span class="line">    &#125;</span><br><span class="line">    location ~ [^/]\.php(/|$) &#123;</span><br><span class="line">      #fastcgi_pass remote_php_ip:9000;</span><br><span class="line">      fastcgi_pass unix:/dev/shm/php-cgi.sock;</span><br><span class="line">      fastcgi_index index.php;</span><br><span class="line">      include fastcgi.conf;</span><br><span class="line">    &#125;</span><br><span class="line">    location ~ .*\.(gif|jpg|jpeg|png|bmp|swf|flv|mp4|ico)$ &#123;</span><br><span class="line">      expires 30d;</span><br><span class="line">      access_log off;</span><br><span class="line">    &#125;</span><br><span class="line">    location ~ .*\.(js|css)?$ &#123;</span><br><span class="line">      expires 7d;</span><br><span class="line">      access_log off;</span><br><span class="line">    &#125;</span><br><span class="line">    location ~ ^/(\.user.ini|\.ht|\.git|\.svn|\.project|LICENSE|README.md) &#123;</span><br><span class="line">      deny all;</span><br><span class="line">    &#125;</span><br><span class="line">    location /.well-known &#123;</span><br><span class="line">      allow all;</span><br><span class="line">    &#125;</span><br><span class="line">    location / &#123;             &lt;------------------here,add it</span><br><span class="line">      try_files $uri $uri/ /index.php?$query_string;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡ºåï¼Œé‡å¯ nginx ä½¿ä¹‹ç”Ÿæ•ˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx restart</span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶æƒé™è°ƒæ•´"><a href="#æ–‡ä»¶æƒé™è°ƒæ•´" class="headerlink" title="æ–‡ä»¶æƒé™è°ƒæ•´"></a>æ–‡ä»¶æƒé™è°ƒæ•´</h2><p>æˆ‘ä»¬éœ€è¦å¯¹é¡¹ç›®çš„æ–‡ä»¶ææƒï¼Œå…è®¸é¡¹ç›®è¿›è¡Œè¯¸å¦‚å­˜å‚¨æ–‡ä»¶ç­‰æ“ä½œã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chmod -R 777 default</span><br><span class="line">chown -R www-data:www-data default</span><br><span class="line"></span><br><span class="line">cd default</span><br><span class="line">chgrp -R www storage bootstrap/cache</span><br><span class="line">chmod -R ug+rwx storage bootstrap/cache</span><br></pre></td></tr></table></figure><p>ä¹‹åè®¿é—® http:&#x2F;&#x2F;[ä½ çš„ IP åœ°å€]:2333&#x2F; å°±å¯ä»¥çœ‹åˆ°ä½ çš„é¡¹ç›®è¾£ï¼Œé¡¹ç›®éƒ¨ç½²åˆ°æ­¤ç»“æŸ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ubuntu-é•œåƒä¸‹è½½ä¸å®‰è£…&quot;&gt;&lt;a href=&quot;#ubuntu-é•œåƒä¸‹è½½ä¸å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;ubuntu é•œåƒä¸‹è½½ä¸å®‰è£…&quot;&gt;&lt;/a&gt;ubuntu é•œåƒä¸‹è½½ä¸å®‰è£…&lt;/h2&gt;&lt;p&gt;ubuntu å®˜æ–¹å¯å…è´¹ä¸‹è½½æœåŠ¡å™¨ç‰ˆæœ¬çš„ i</summary>
      
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="ä»£ç éƒ¨ç½²" scheme="https://nightingalewk.github.io/tags/%E4%BB%A3%E7%A0%81%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>git åŒæ—¶æ¨é€æœ¬åœ°ä»£ç åˆ°è¿œç«¯ 2 ä¸ªä»“åº“</title>
    <link href="https://nightingalewk.github.io/2023/07/06/58.%20git%20%E5%90%8C%E6%97%B6%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%A0%81%E5%88%B0%E8%BF%9C%E7%AB%AF%202%20%E4%B8%AA%E4%BB%93%E5%BA%93/"/>
    <id>https://nightingalewk.github.io/2023/07/06/58.%20git%20%E5%90%8C%E6%97%B6%E6%8E%A8%E9%80%81%E6%9C%AC%E5%9C%B0%E4%BB%A3%E7%A0%81%E5%88%B0%E8%BF%9C%E7%AB%AF%202%20%E4%B8%AA%E4%BB%93%E5%BA%93/</id>
    <published>2023-07-06T00:36:00.000Z</published>
    <updated>2023-11-07T02:52:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬åœ°ä»£ç æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯å°†ä»£ç åŒæ—¶æäº¤åˆ° github å’Œ coding ä¸¤ä¸ªå¹³å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add -A</span><br><span class="line">git commit -m &quot;åˆå§‹åŒ–é¡¹ç›®&quot;</span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin git@github.com:NightingaleWK/jiepade.git</span><br><span class="line">git remote set-url --add origin git@e.coding.net:nightingalewk/jiepade/v1.git</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬åœ°ä»£ç æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¯å°†ä»£ç åŒæ—¶æäº¤åˆ° github å’Œ coding ä¸¤ä¸ªå¹³å°ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;</summary>
      
    
    
    
    <category term="git" scheme="https://nightingalewk.github.io/categories/git/"/>
    
    
  </entry>
  
  <entry>
    <title>ï¼ˆæ›´æ–°ä¸­ï¼‰å°† homestead ä¸­çš„é¡¹ç›®è¿ç§»åˆ° laravel sail ä¸­è¿›è¡Œå¼€å‘</title>
    <link href="https://nightingalewk.github.io/2023/05/09/56.%20%EF%BC%88%E6%9B%B4%E6%96%B0%E4%B8%AD%EF%BC%89%E5%B0%86%20homestead%20%E4%B8%AD%E7%9A%84%E9%A1%B9%E7%9B%AE%E8%BF%81%E7%A7%BB%E5%88%B0%20laravel%20sail%20%E4%B8%AD%E8%BF%9B%E8%A1%8C%E5%BC%80%E5%8F%91/"/>
    <id>https://nightingalewk.github.io/2023/05/09/56.%20%EF%BC%88%E6%9B%B4%E6%96%B0%E4%B8%AD%EF%BC%89%E5%B0%86%20homestead%20%E4%B8%AD%E7%9A%84%E9%A1%B9%E7%9B%AE%E8%BF%81%E7%A7%BB%E5%88%B0%20laravel%20sail%20%E4%B8%AD%E8%BF%9B%E8%A1%8C%E5%BC%80%E5%8F%91/</id>
    <published>2023-05-09T01:43:00.000Z</published>
    <updated>2023-11-07T02:51:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡çš„ç›®çš„æ˜¯ï¼šå°†åŸæœ¬è·‘ homestead ç¯å¢ƒä¸‹çš„ laravel é¡¹ç›®ï¼Œè¿ç§»åˆ°å®˜æ–¹æœ€æ–°æ¨èçš„ laravel sail å¼€å‘ç¯å¢ƒä¸­ã€‚ä¸‹é¢æˆ‘åˆ†äº«ä¸€ä¸‹æˆ‘çš„æ“ä½œæ–¹æ³•ã€‚</p><p>åœ¨æ–‡ç« å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é»˜è®¤å¤§å®¶å‡å·²æ‹¥æœ‰ä¸€ä¸ª homestead å¼€å‘ç¯å¢ƒï¼Œä¸”ä½ ä¹Ÿæ˜¯åœ¨å…¶ä¹‹ä¸Šæœ¬åœ°å¼€å‘å¤šæ¬¡çš„å¼€å‘è€…ï¼Œè€Œä¸”ä½ çš„éœ€æ±‚æ˜¯å°†ä½ çš„ homestead å¼€å‘ç¯å¢ƒè½¬æ¢æˆ laravel sailï¼Œå¸Œæœ›å€ŸåŠ© docker æŠ€æœ¯æ¥æå‡ç³»ç»Ÿçš„</p><h2 id="1-é¡¹ç›®å…‹éš†"><a href="#1-é¡¹ç›®å…‹éš†" class="headerlink" title="1. é¡¹ç›®å…‹éš†"></a>1. é¡¹ç›®å…‹éš†</h2><p>é¦–å…ˆæˆ‘ä»¬ä½ å°†çº¿ä¸Šä»“åº“çš„ä»£ç cloneåˆ°æœ¬åœ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:NightingaleWK/larabbs.git larabbs</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å¯åŠ¨ homestead ï¼Œå¹¶åœ¨ homestead çš„ linux ç¯å¢ƒä¸­æ‰§è¡Œæ¥ä¸‹æ¥çš„å·¥ä½œã€‚</p><p>æˆ‘ä»¬å…ˆæ¥åˆ°é¡¹ç›®æ ¹ç›®å½•å¤åˆ¶ä¸€ä»½ .env æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp .env.example .env</span><br><span class="line"></span><br><span class="line">vim .env</span><br><span class="line"></span><br><span class="line">// ç¼–è¾‘ä¸€ä¸‹ .env æ–‡ä»¶å¹¶ä¿å­˜</span><br></pre></td></tr></table></figure><h2 id="2-é¡¹ç›®æ”¹é€ "><a href="#2-é¡¹ç›®æ”¹é€ " class="headerlink" title="2. é¡¹ç›®æ”¹é€ "></a>2. é¡¹ç›®æ”¹é€ </h2><p>ç„¶ååœ¨å·²è¿è¡Œçš„åº”ç”¨ä¸­å®‰è£… Composer ä¾èµ–ï¼Œä»¥ä¸‹æŒ‡ä»¤æ‰§è¡Œåï¼Œå…¶ä½™æœªå®‰è£…çš„ä»¥æ¥ä¹Ÿå°†ä¸€å¹¶å®‰è£…ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ²¡æœ‰æ‰§è¡Œè¿‡ composer i å˜›</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require laravel/sail --dev</span><br></pre></td></tr></table></figure><p>åœ¨ Sail å®Œæˆå®‰è£…åï¼Œä½ å¯ä»¥è¿è¡Œ Artisan å‘½ä»¤ sail:installã€‚è¿™ä¸ªå‘½ä»¤å°†ä¼šå‘å¸ƒ Sail çš„ docker-compose.yml æ–‡ä»¶åˆ°ä½ åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan sail:install --with=mysql,redis</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šè¿™ä¸€æ­¥çš„æ‰§è¡Œå¯èƒ½ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šä¿®æ”¹ç›¸å…³é…ç½®çš„æ¥æé«˜é€Ÿåº¦ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±æœç´¢ï¼Œè‡³äºä¸ºä»€ä¹ˆæˆ‘ä¸ç”¨ï¼Œé‚£å°±æ˜¯å¸Œæœ›è¿½æ±‚çº¯ç²¹æ­£ç»Ÿï¼Œcomposer é˜¿é‡Œäº‘çš„æºä¸å®˜æ–¹æºå®Œå…¨è·Ÿä¸ä¸Šï¼Œcomposer u æ‰§è¡Œå®Œç®€ç›´æ˜¯åå‘å‡çº§ï¼Œä»¥åå†ä¹Ÿä¸ç›¸ä¿¡å›½å†…çš„æºäº†ã€‚</p><p>ç„¶åæˆ‘å†è¯´ä¸€ä¸‹ with åé¢çš„è¯¥æ€ä¹ˆå¡«å†™ï¼Œä½ å¯ä»¥å°è¯•æ‰§è¡Œä¸å¸¦ with çš„å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°å‡ ä¸ªå¯é€‰çš„é€‰é¡¹ï¼Œè¿™äº›å°±æ˜¯å¡«å†™åœ¨ with åé¢çš„å†…å®¹ï¼ŒæŒ‰éœ€é€‰æ‹©å®‰è£…å³å¯ã€‚</p><p>ä¸Šè¿°æ­¥éª¤å®‰è£…å®Œæ¯•ä¼šç³»ç»Ÿä¼šæç¤º Sail build successful. è¿™å°±ä»£è¡¨ç€è¿™ä¸€é˜¶æ®µä»»åŠ¡å®Œæˆ</p><p>ç„¶åæˆ‘ä»¬æŠŠé¡¹ç›®æ¨é€åˆ°çº¿ä¸Šä»“åº“</p><h2 id="3-ä»£ç ä¸Šä¼ "><a href="#3-ä»£ç ä¸Šä¼ " class="headerlink" title="3. ä»£ç ä¸Šä¼ "></a>3. ä»£ç ä¸Šä¼ </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br><span class="line">git commit -m &quot;ready for docker&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h2 id="4-ä»£ç éƒ¨ç½²"><a href="#4-ä»£ç éƒ¨ç½²" class="headerlink" title="4. ä»£ç éƒ¨ç½²"></a>4. ä»£ç éƒ¨ç½²</h2><p>ç„¶åæˆ‘ä»¬å›åˆ°æˆ‘ä»¬çš„sailç¯å¢ƒä¸­ï¼ŒæŠŠæœ€æ–°çš„é¡¹ç›®ä»£ç ä»ä»“åº“æ‹‰ä¸‹æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:NightingaleWK/larabbs.git larabbs</span><br></pre></td></tr></table></figure><p>ä¹‹åæˆ‘ä»¬ä¹Ÿæ˜¯é‡æ–°é…ç½® .env æ–‡ä»¶</p><p>ç„¶åæˆ‘ä»¬æ‰§è¡Œ composer å‘½ä»¤ï¼Œå®‰è£…åœ¨ sail ç¯å¢ƒä¸‹çš„ä¾èµ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm \</span><br><span class="line">    -u &quot;$(id -u):$(id -g)&quot; \</span><br><span class="line">    -v &quot;$(pwd):/var/www/html&quot; \</span><br><span class="line">    -w /var/www/html \</span><br><span class="line">    laravelsail/php82-composer:latest \</span><br><span class="line">    composer install --ignore-platform-reqs</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¸åœ¨ homestead ä¸­ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬ sail ç¯å¢ƒä¸åŒ…æ‹¬ composer å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤ä½¿ç”¨ä¸€ä¸ªåŒ…å« PHP ä¸ Composer çš„å°å‹ Docker å®¹å™¨è¿›è¡Œåº”ç”¨ç¨‹åºä¾èµ–çš„å®‰è£…ã€‚</p><p>å½“ä½ ä½¿ç”¨ laravelsail&#x2F;phpXX-composer é•œåƒæ—¶ï¼Œä½ åº”è¯¥é€‰æ‹©å’Œä½ çš„åº”ç”¨ç¨‹åºæ‰€ç”¨ç¯å¢ƒç›¸åŒçš„ PHP ç‰ˆæœ¬ï¼ˆ74ã€80ã€81 æˆ– 82ï¼‰ã€‚</p><h2 id="5-ç¯å¢ƒè¿è¡Œ"><a href="#5-ç¯å¢ƒè¿è¡Œ" class="headerlink" title="5. ç¯å¢ƒè¿è¡Œ"></a>5. ç¯å¢ƒè¿è¡Œ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sail up -d</span><br><span class="line"></span><br><span class="line">// -d è¡¨ç¤ºåå°è¿è¡Œï¼Œå»æ‰é‚£å°±æ˜¯å‰å°è¿è¡Œï¼Œéœ€è¦ ctrl + c æ¥ç»“æŸã€‚åŠ å…¥å¸¦ç€ -dï¼Œé‚£ä¹ˆæˆ‘ä»¬é€€å‡ºçš„è¯åˆ™éœ€è¦è¾“å…¥ sail down æ¥ç»“æŸ</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ¬æ–‡çš„ç›®çš„æ˜¯ï¼šå°†åŸæœ¬è·‘ homestead ç¯å¢ƒä¸‹çš„ laravel é¡¹ç›®ï¼Œè¿ç§»åˆ°å®˜æ–¹æœ€æ–°æ¨èçš„ laravel sail å¼€å‘ç¯å¢ƒä¸­ã€‚ä¸‹é¢æˆ‘åˆ†äº«ä¸€ä¸‹æˆ‘çš„æ“ä½œæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ–‡ç« å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬é»˜è®¤å¤§å®¶å‡å·²æ‹¥æœ‰ä¸€ä¸ª homestead å¼€å‘ç¯å¢ƒï¼Œä¸”ä½ ä¹Ÿæ˜¯åœ¨å…¶ä¹‹ä¸Šæœ¬åœ°å¼€</summary>
      
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="homestead" scheme="https://nightingalewk.github.io/tags/homestead/"/>
    
    <category term="laravel sail" scheme="https://nightingalewk.github.io/tags/laravel-sail/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ .gitignore æ— æ•ˆçš„é—®é¢˜</title>
    <link href="https://nightingalewk.github.io/2023/03/28/55.%20%E8%A7%A3%E5%86%B3%20.gitignore%20%E6%97%A0%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>https://nightingalewk.github.io/2023/03/28/55.%20%E8%A7%A3%E5%86%B3%20.gitignore%20%E6%97%A0%E6%95%88%E7%9A%84%E9%97%AE%E9%A2%98/</id>
    <published>2023-03-28T00:38:00.000Z</published>
    <updated>2023-11-07T02:50:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆç¡®å®šå¥½éœ€è¦å¿½ç•¥çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå¹¶åŠ å…¥åˆ° .gitignore ä¸­ï¼Œç„¶åæ‰§è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached .</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;update .gitignore&quot;</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>è‹¥ä½ çš„å¦ä¸€å°æœºå­ä¹Ÿéœ€è¦æ›´æ–°ä»£ç ï¼Œé‚£ä¹ˆä»–åœ¨ git pull çš„æ—¶å€™ï¼Œ.gitignore ä¸­ä½ åˆšæ‰æ·»åŠ çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹éƒ½ä¼šåˆ é™¤ï¼Œè®°å¾—é‡æ–°ç”Ÿæˆæˆ–æ–°å»ºä¸Šã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é¦–å…ˆç¡®å®šå¥½éœ€è¦å¿½ç•¥çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå¹¶åŠ å…¥åˆ° .gitignore ä¸­ï¼Œç„¶åæ‰§è¡Œï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;</summary>
      
    
    
    
    <category term="git" scheme="https://nightingalewk.github.io/categories/git/"/>
    
    
    <category term="debug" scheme="https://nightingalewk.github.io/tags/debug/"/>
    
  </entry>
  
  <entry>
    <title>çš®è›‹ç˜¦è‚‰ç²¥</title>
    <link href="https://nightingalewk.github.io/2023/01/04/54.%20%E7%9A%AE%E8%9B%8B%E7%98%A6%E8%82%89%E7%B2%A5/"/>
    <id>https://nightingalewk.github.io/2023/01/04/54.%20%E7%9A%AE%E8%9B%8B%E7%98%A6%E8%82%89%E7%B2%A5/</id>
    <published>2023-01-04T09:31:00.000Z</published>
    <updated>2023-11-07T02:49:46.000Z</updated>
    
    <content type="html"><![CDATA[<ol><li>200å…‹å¤§ç±³ï¼ˆä¹Ÿå¯ç³¯ç±³å¤§ç±³å„100å…‹ï¼‰ï¼Œæ·˜ç±³æ´—å‡€ï¼Œç„¶åé‡æ–°åŠ å…¥æ¸…æ°´500å…‹ï¼Œæµ¸æ³¡5å°æ—¶ï¼Œæµ¸æ³¡å®Œæ¯•åå€’æ‰æ°´</li><li>é‡Œè„Šè‚‰50gåˆ‡ä¸ã€çš®è›‹ä¸€ä¸ªæç¢æˆ–åˆ‡ä¸ã€æ–™é…’2gã€ç›6gã€é¸¡ç²¾3gã€å‘³ç²¾3gã€é£Ÿç”¨ç¢±0.5g</li><li>ç”¨ä¸Šæ–¹çš„ç›ã€æ–™é…’è…Œåˆ¶ä¸€ä¸‹è‚‰ä¸ã€‚</li><li>ç ‚é”…å€’å…¥é£Ÿç”¨ç¢±ã€ç›ã€2000gçƒ­æ°´ï¼ˆç±³ï¼Œçƒ­æ°´ &#x3D; 1ï¼š10ï¼‰ï¼Œå¼€å¤§ç«çƒ§å¼€ï¼Œè½¬å°ç«ç†¬25åˆ†é’Ÿã€‚æœŸé—´ä¸åœæ…åŠ¨ï¼Œä»¥é˜²æ­¢ç³Šé”…</li><li>å¿«å¼€é”…çš„æ—¶å€™åŠ å…¥è‚‰ä¸ã€çš®è›‹ä¸ã€å‘³ç²¾ã€é¸¡ç²¾ã€‚ç„¶åå¯è‡ªè¡ŒåŠ ç‚¹åˆ«çš„ï¼Œæ¯”å¦‚å§œä¸ã€è‘±æœ«</li><li>å‡ºé”…</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;200å…‹å¤§ç±³ï¼ˆä¹Ÿå¯ç³¯ç±³å¤§ç±³å„100å…‹ï¼‰ï¼Œæ·˜ç±³æ´—å‡€ï¼Œç„¶åé‡æ–°åŠ å…¥æ¸…æ°´500å…‹ï¼Œæµ¸æ³¡5å°æ—¶ï¼Œæµ¸æ³¡å®Œæ¯•åå€’æ‰æ°´&lt;/li&gt;
&lt;li&gt;é‡Œè„Šè‚‰50gåˆ‡ä¸ã€çš®è›‹ä¸€ä¸ªæç¢æˆ–åˆ‡ä¸ã€æ–™é…’2gã€ç›6gã€é¸¡ç²¾3gã€å‘³ç²¾3gã€é£Ÿç”¨ç¢±0.5g&lt;/li&gt;
&lt;li&gt;ç”¨ä¸Šæ–¹çš„ç›ã€æ–™é…’è…Œåˆ¶ä¸€ä¸‹è‚‰ä¸</summary>
      
    
    
    
    <category term="ç¾é£Ÿ" scheme="https://nightingalewk.github.io/categories/%E7%BE%8E%E9%A3%9F/"/>
    
    
    <category term="ç²¥" scheme="https://nightingalewk.github.io/tags/%E7%B2%A5/"/>
    
  </entry>
  
  <entry>
    <title>åœ°é“é»„ç„–é¸¡</title>
    <link href="https://nightingalewk.github.io/2022/12/20/53.%20%E5%9C%B0%E9%81%93%E9%BB%84%E7%84%96%E9%B8%A1/"/>
    <id>https://nightingalewk.github.io/2022/12/20/53.%20%E5%9C%B0%E9%81%93%E9%BB%84%E7%84%96%E9%B8%A1/</id>
    <published>2022-12-20T09:25:00.000Z</published>
    <updated>2023-11-07T02:49:15.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸæ–™"><a href="#åŸæ–™" class="headerlink" title="åŸæ–™"></a>åŸæ–™</h2><p>1.5 æ–¤é¸¡è…¿<br>åœŸè±†åˆ‡å—<br>æ­æ¤’è¾£æ¤’ç­‰åˆ‡å—</p><h2 id="è°ƒå‘³"><a href="#è°ƒå‘³" class="headerlink" title="è°ƒå‘³"></a>è°ƒå‘³</h2><p>è€—æ²¹15å…‹<br>æµ·é²œé…±20å…‹<br>é»„è±†é…±15å…‹<br>è‘±ä¼´ä¾£å¤§é…±15å…‹<br>ä¸œå¤ä¸€å“é²œé…±æ²¹25å…‹<br>çº¢çƒ§é…±æ²¹5å…‹</p><h2 id="è…Œåˆ¶"><a href="#è…Œåˆ¶" class="headerlink" title="è…Œåˆ¶"></a>è…Œåˆ¶</h2><p>è‘±å§œæ–™é…’å»è…¥ï¼ŒåŠ é…±æ–™ï¼Œæ…åŒ€ï¼Œè…Œåˆ¶åŠå°æ—¶</p><h2 id="ä¸­è¯"><a href="#ä¸­è¯" class="headerlink" title="ä¸­è¯"></a>ä¸­è¯</h2><p>å…«è§’ä¸‰å…‹ï¼Œæ¡‚çš®äº”å…‹ï¼Œé¦™å¶ä¸€å…‹ï¼Œå°èŒ´é¦™ä¸¤å…‹ï¼Œç™½èŠ·ä¸‰å…‹ï¼ŒèŠ±æ¤’ä¸‰å…‹ï¼Œè‰æœçš®ä¸€ä¸ªå»ç±½ï¼Œè£…åŒ…é‡Œï¼Œå†²æ´—3æ¬¡</p><h2 id="çµé­‚"><a href="#çµé­‚" class="headerlink" title="çµé­‚"></a>çµé­‚</h2><p>å¹²é¦™è‡å…­é¢—æ´—å‡€ï¼ŒåŠ å¼€æ°´300gï¼Œåˆ¶é¦™è‡æ°´ï¼Œè¿™æ˜¯é»„ç„–é¸¡çš„çµé­‚</p><h2 id="çƒ¹é¥ª"><a href="#çƒ¹é¥ª" class="headerlink" title="çƒ¹é¥ª"></a>çƒ¹é¥ª</h2><p>é”…ä¸­åŠ é»„ç„–é¸¡ï¼Œé¦™è‡æ°´ï¼Œäº”å…‹é¸¡ç²¾ï¼Œä¸‰å…‹å‘³ç²¾ï¼Œäº”å…‹ç™½ç³–ï¼Œä¸‹æ–™åŒ…ï¼Œé«˜å‹é”…å°ç›–ï¼Œä¸Šæ±½åè®¡æ—¶5åˆ†é’Ÿï¼Œä¹‹åå†ç„– 20 åˆ†é’Ÿã€‚ç ‚é”…æ”¾é¦™è‡ï¼ŒåœŸè±†å—ï¼Œçƒ§å¼€ï¼Œæ”¾é’çº¢æ¤’ï¼Œæ”¶æ±ï¼Œæ’’é¦™è‘±å’Œé¦™èœ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;åŸæ–™&quot;&gt;&lt;a href=&quot;#åŸæ–™&quot; class=&quot;headerlink&quot; title=&quot;åŸæ–™&quot;&gt;&lt;/a&gt;åŸæ–™&lt;/h2&gt;&lt;p&gt;1.5 æ–¤é¸¡è…¿&lt;br&gt;åœŸè±†åˆ‡å—&lt;br&gt;æ­æ¤’è¾£æ¤’ç­‰åˆ‡å—&lt;/p&gt;
&lt;h2 id=&quot;è°ƒå‘³&quot;&gt;&lt;a href=&quot;#è°ƒå‘³&quot; class=&quot;header</summary>
      
    
    
    
    <category term="ç¾é£Ÿ" scheme="https://nightingalewk.github.io/categories/%E7%BE%8E%E9%A3%9F/"/>
    
    
    <category term="ç‰¹è‰²å°åƒ" scheme="https://nightingalewk.github.io/tags/%E7%89%B9%E8%89%B2%E5%B0%8F%E5%90%83/"/>
    
  </entry>
  
  <entry>
    <title>å‘èµ· laravel é˜Ÿåˆ—ä»»åŠ¡ä¸ç”Ÿæ•ˆ</title>
    <link href="https://nightingalewk.github.io/2022/12/14/52.%20%E5%8F%91%E8%B5%B7%20laravel%20%E9%98%9F%E5%88%97%E4%BB%BB%E5%8A%A1%E4%B8%8D%E7%94%9F%E6%95%88/"/>
    <id>https://nightingalewk.github.io/2022/12/14/52.%20%E5%8F%91%E8%B5%B7%20laravel%20%E9%98%9F%E5%88%97%E4%BB%BB%E5%8A%A1%E4%B8%8D%E7%94%9F%E6%95%88/</id>
    <published>2022-12-14T08:48:00.000Z</published>
    <updated>2023-11-07T03:12:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>å½“ç¡®å®šä½ çš„ä»£ç éƒ½æ²¡é—®é¢˜ï¼Œè€Œä¸”é˜Ÿåˆ—éƒ½åœ¨è¿è¡Œï¼Œè€Œä¸”æ˜¯ä½ å˜åŠ¨äº† job æ–‡ä»¶ï¼Œé‚£å¾ˆæœ‰å¯èƒ½æ˜¯ç¼“å­˜åŸå› å¯¼è‡´çš„ï¼Œæ¸…ç†ä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan cache:clear &amp;&amp; php artisan config:clear &amp;&amp; php artisan route:clear &amp;&amp; php artisan view:clear</span><br></pre></td></tr></table></figure><p>è‹¥æ˜¯åœ¨ laravel sail å¼€å‘ç¯å¢ƒä¸­ï¼Œä¿®æ”¹ä¸€ä¸‹å³å¯ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sail artisan cache:clear &amp;&amp; sail artisan config:clear &amp;&amp; sail artisan route:clear &amp;&amp; sail artisan view:clear</span><br></pre></td></tr></table></figure><p>èŠ±å¼æ¸…ç†åå°±å¥½äº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å½“ç¡®å®šä½ çš„ä»£ç éƒ½æ²¡é—®é¢˜ï¼Œè€Œä¸”é˜Ÿåˆ—éƒ½åœ¨è¿è¡Œï¼Œè€Œä¸”æ˜¯ä½ å˜åŠ¨äº† job æ–‡ä»¶ï¼Œé‚£å¾ˆæœ‰å¯èƒ½æ˜¯ç¼“å­˜åŸå› å¯¼è‡´çš„ï¼Œæ¸…ç†ä¸€ä¸‹&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span c</summary>
      
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="debug" scheme="https://nightingalewk.github.io/tags/debug/"/>
    
    <category term="é˜Ÿåˆ—" scheme="https://nightingalewk.github.io/tags/%E9%98%9F%E5%88%97/"/>
    
    <category term="redis" scheme="https://nightingalewk.github.io/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨ laravel ä¸­ä½¿ç”¨ redis é˜Ÿåˆ—</title>
    <link href="https://nightingalewk.github.io/2022/12/09/51.%20%E5%9C%A8%20laravel%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20redis%20%E9%98%9F%E5%88%97/"/>
    <id>https://nightingalewk.github.io/2022/12/09/51.%20%E5%9C%A8%20laravel%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20redis%20%E9%98%9F%E5%88%97/</id>
    <published>2022-12-09T08:04:00.000Z</published>
    <updated>2023-11-07T03:12:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬å®ç°çš„æ•ˆæœä¸ºï¼šå°†ä¸€äº›ä¸šåŠ¡é€»è¾‘è½¬åŒ–ä¸ºä»»åŠ¡ï¼ˆjobï¼‰ï¼Œç„¶åå¯ç”¨é˜Ÿåˆ—åŠŸèƒ½ï¼Œè€Œä¸”æ˜¯ redis çš„é˜Ÿåˆ—ï¼ŒåŒæ—¶ä½¿ç”¨ laravel å®˜æ–¹æ‰©å±• Horizon å®ç°é˜Ÿåˆ—çš„ç›‘æ§ã€‚å°†å¤æ‚è€—æ—¶çš„å·¥ä½œåå°å¤„ç†ï¼Œæé«˜å‰å°ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒã€‚</p><h2 id="1-å®‰è£…-redis"><a href="#1-å®‰è£…-redis" class="headerlink" title="1. å®‰è£… redis"></a>1. å®‰è£… redis</h2><p>æ³¨æ„ä¸è¦ä½¿ç”¨å›½å†… composer æºï¼Œå®˜æ–¹çš„æ˜¯æœ€å…¨æœ€æ–°çš„ï¼ˆä»€ä¹ˆé˜¿é‡Œäº‘é•œåƒæºåå‘å‡çº§äº†è§£ä¸€ä¸‹ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require predis/predis</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ç¯å¢ƒå˜é‡ QUEUE_CONNECTION çš„å€¼ä¸º redisï¼Œå¹¶æŒ‡å®šæˆ‘ä»¬å°†ä½¿ç”¨ predis ä½œä¸ºè¯·æ±‚ Redis çš„ç±»åº“ï¼š</p><p>.env</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">QUEUE_CONNECTION=redis</span><br><span class="line">REDIS_CLIENT=predis</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure><h2 id="2-ç”Ÿæˆä»»åŠ¡ç±»"><a href="#2-ç”Ÿæˆä»»åŠ¡ç±»" class="headerlink" title="2. ç”Ÿæˆä»»åŠ¡ç±»"></a>2. ç”Ÿæˆä»»åŠ¡ç±»</h2><p>ä½¿ç”¨ä»¥ä¸‹ Artisan å‘½ä»¤æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„é˜Ÿåˆ—ä»»åŠ¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan make:job EnterpriseExport</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šåœ¨ app&#x2F;Jobs ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–°çš„ç±»ï¼š</p><p>app&#x2F;Jobs&#x2F;EnterpriseExport.php</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace App\Jobs;</span><br><span class="line"></span><br><span class="line">use App\Admin\Controllers\Api\StaticFun;</span><br><span class="line">use App\Models\Asset;</span><br><span class="line">use Illuminate\Bus\Queueable;</span><br><span class="line">use Illuminate\Contracts\Queue\ShouldBeUnique;</span><br><span class="line">use Illuminate\Contracts\Queue\ShouldQueue;</span><br><span class="line">use Illuminate\Foundation\Bus\Dispatchable;</span><br><span class="line">use Illuminate\Queue\InteractsWithQueue;</span><br><span class="line">use Illuminate\Queue\SerializesModels;</span><br><span class="line">use Illuminate\Support\Facades\DB;</span><br><span class="line"></span><br><span class="line">class GetAssetsRemainDate implements ShouldQueue, ShouldBeUnique</span><br><span class="line">&#123;</span><br><span class="line">    use Dispatchable, InteractsWithQueue, Queueable, SerializesModels;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Create a new job instance.</span><br><span class="line">     *</span><br><span class="line">     * @return void</span><br><span class="line">     */</span><br><span class="line">    public function __construct()</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Execute the job.</span><br><span class="line">     *</span><br><span class="line">     * @return void</span><br><span class="line">     */</span><br><span class="line">    public function handle()</span><br><span class="line">    &#123;</span><br><span class="line">        // æ‹¿åˆ°å…¨éƒ¨èµ„äº§ä¿¡æ¯</span><br><span class="line">        $assets = Asset::all();</span><br><span class="line"></span><br><span class="line">        // å¼€å§‹å¾ªç¯è®¡ç®—èµ„äº§å‰©ä½™è´¨ä¿æ—¶é—´å¹¶æ›´æ–°</span><br><span class="line">        foreach ($assets as $key =&gt; $value) &#123;</span><br><span class="line">            // è®¡ç®—</span><br><span class="line">            $warranty_info = StaticFun::get2DateInfo($value-&gt;warranty_start, $value-&gt;warranty_end);</span><br><span class="line">            // æ‹¿å–</span><br><span class="line">            $warranty_remain = $warranty_info[&#x27;warranty_remain&#x27;];</span><br><span class="line">            // æ›´æ–°å†™å…¥</span><br><span class="line">            DB::table(&#x27;asset&#x27;)-&gt;where(&#x27;id&#x27;, $value-&gt;id)-&gt;update([&#x27;warranty_remain&#x27; =&gt; $warranty_remain]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬å°†ä¼šåœ¨æ¨¡å‹ç›‘æ§å™¨ä¸­åˆ†å‘ä»»åŠ¡ï¼Œä»»åŠ¡ä¸­è¦é¿å…ä½¿ç”¨ Eloquent æ¨¡å‹æ¥å£è°ƒç”¨ï¼Œå¦‚ï¼šcreate(), update(), save() ç­‰æ“ä½œã€‚å¦åˆ™ä¼šé™·å…¥è°ƒç”¨æ­»å¾ªç¯ â€”â€” æ¨¡å‹ç›‘æ§å™¨åˆ†å‘ä»»åŠ¡ï¼Œä»»åŠ¡è§¦å‘æ¨¡å‹ç›‘æ§å™¨ï¼Œæ¨¡å‹ç›‘æ§å™¨å†æ¬¡åˆ†å‘ä»»åŠ¡ï¼Œä»»åŠ¡å†æ¬¡è§¦å‘æ¨¡å‹ç›‘æ§å™¨â€¦ æ­»å¾ªç¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ DB ç±»ç›´æ¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œå³å¯ã€‚</p><h2 id="3-ä»»åŠ¡åˆ†å‘"><a href="#3-ä»»åŠ¡åˆ†å‘" class="headerlink" title="3. ä»»åŠ¡åˆ†å‘"></a>3. ä»»åŠ¡åˆ†å‘</h2><p>å‰å¾€æ§åˆ¶å™¨æˆ–è€…è§‚å¯Ÿè€…ï¼Œå»æ’å…¥è¿™é¡¹ä»»åŠ¡ã€‚</p><p>SettingController.php</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">class SettingController extends Controller</span><br><span class="line">&#123;</span><br><span class="line">    // å±•ç¤º</span><br><span class="line">    public function index(Content $content)</span><br><span class="line">    &#123;</span><br><span class="line">        return $content</span><br><span class="line">            -&gt;header(&#x27;ç³»ç»Ÿè®¾ç½®&#x27;)</span><br><span class="line">            -&gt;description(&#x27;äº²è‡ªå‚ä¸åˆ°ç³»ç»Ÿçš„ä¸ªæ€§åŒ–ç®¡ç†&#x27;)</span><br><span class="line">            -&gt;body(function (Row $row) &#123;</span><br><span class="line">                $row-&gt;column(12, Setting::index());</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // åˆ·æ–°èµ„äº§è´¨ä¿å‰©ä½™æ—¶é—´</span><br><span class="line">    public function warrantyRefresh()</span><br><span class="line">    &#123;</span><br><span class="line">        dispatch(new GetAssetsRemainDate);  &lt;-- HERE</span><br><span class="line"></span><br><span class="line">        return redirect(&#x27;/admin/setting&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></table></figure><h2 id="4-å®‰è£…-Horizon"><a href="#4-å®‰è£…-Horizon" class="headerlink" title="4. å®‰è£… Horizon"></a>4. å®‰è£… Horizon</h2><p>ä½¿ç”¨ Composer å®‰è£…ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ composer require laravel/horizon</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œä½¿ç”¨ vendor:publish Artisan å‘½ä»¤å‘å¸ƒç›¸å…³æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan vendor:publish --provider=&quot;laravel\Horizon\HorizonServiceProvider&quot;</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«æ˜¯é…ç½®æ–‡ä»¶ config&#x2F;horizon.php å’Œå­˜æ”¾åœ¨ public&#x2F;vendor&#x2F;horizon æ–‡ä»¶å¤¹ä¸­çš„ CSS ã€JS ç­‰é¡µé¢èµ„æºæ–‡ä»¶ã€‚</p><p>Horizon æ˜¯ä¸€ä¸ªç›‘æ§ç¨‹åºï¼Œéœ€è¦å¸¸é©»è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ php artisan horizon</span><br></pre></td></tr></table></figure><p>è‡³æ­¤å®‰è£…å®Œæ¯•ï¼Œæµè§ˆå™¨æ‰“å¼€ larabbs.test&#x2F;horizon è®¿é—®æ§åˆ¶å°</p><h2 id="5-å®‰è£…-Supervisor"><a href="#5-å®‰è£…-Supervisor" class="headerlink" title="5. å®‰è£… Supervisor"></a>5. å®‰è£… Supervisor</h2><p>Supervisor æ˜¯ä¸€ä¸ªç”¨äº Linux æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹ç›‘è§†å™¨ã€‚å¦‚æœ Horizon è¿›ç¨‹è¢«é€€å‡ºæˆ–ç»ˆæ­¢ï¼ŒSupervisor å°†è‡ªåŠ¨é‡å¯ä½ çš„ Horizon è¿›ç¨‹ã€‚å¦‚æœè¦åœ¨ Ubuntu ä¸Šå®‰è£… Supervisorï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ã€‚å¦‚æœä½ ä¸ä½¿ç”¨ Ubuntuï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨å®‰è£… Supervisorï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install supervisor</span><br></pre></td></tr></table></figure><h2 id="6-é…ç½®-Supervisor"><a href="#6-é…ç½®-Supervisor" class="headerlink" title="6. é…ç½® Supervisor"></a>6. é…ç½® Supervisor</h2><p>Supervisor é…ç½®æ–‡ä»¶é€šå¸¸å­˜å‚¨åœ¨ &#x2F;etc&#x2F;supervisor&#x2F;conf.d ç›®å½•ä¸‹ã€‚åœ¨æ­¤ç›®å½•ä¸­ï¼Œä½ å¯ä»¥åˆ›å»ºä»»æ„æ•°é‡çš„é…ç½®æ–‡ä»¶ï¼Œè¿™äº›é…ç½®æ–‡ä»¶ä¼šå‘Šè¯‰ supervisor å¦‚ä½•ç›‘è§†ä½ çš„è¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª horizon.conf æ–‡ä»¶ï¼Œå®ƒå¯åŠ¨å¹¶ç›‘è§†ä¸€ä¸ª horizon è¿›ç¨‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[program:horizon]</span><br><span class="line">process_name=%(program_name)s</span><br><span class="line">directory=/data/wwwroot/yanji.wkarrow.top</span><br><span class="line">command=/usr/local/php/bin/php artisan horizon</span><br><span class="line">autostart=true</span><br><span class="line">autorestart=true</span><br><span class="line">user=root</span><br><span class="line">stopasgroup=true</span><br><span class="line">killasgroup=true</span><br><span class="line">redirect_stderr=true</span><br><span class="line">stdout_logfile=/data/wwwroot/yanji.wkarrow.top/horizon.log</span><br><span class="line">stopwaitsecs=3600</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¦ç¡®ä¿ stopwaitsecs çš„å€¼å¤§äºè¿è¡Œæ—¶é—´æœ€é•¿çš„ä»»åŠ¡æ‰€æ¶ˆè€—çš„ç§’æ•°ã€‚å¦åˆ™ï¼ŒSupervisor å¯èƒ½ä¼šåœ¨å·¥ä½œå®Œæˆå‰ç»ˆæ­¢ä»»åŠ¡ã€‚<br>æ³¨æ„ï¼šç¼–è¾‘æ–‡ä»¶ä¹‹å‰ï¼Œè¯·ä½¿ç”¨ root æƒé™è¿›è¡Œæ“ä½œï¼Œå¦åˆ™æ— æ³•ä¿å­˜ï¼ˆé’ˆå¯¹ homestead ç¯å¢ƒä¸‹çš„æ“ä½œï¼‰</p><h2 id="7-å¯åŠ¨-Supervisor"><a href="#7-å¯åŠ¨-Supervisor" class="headerlink" title="7. å¯åŠ¨ Supervisor"></a>7. å¯åŠ¨ Supervisor</h2><p>åœ¨å°†æ–°ä»£ç éƒ¨ç½²åˆ°æœåŠ¡å™¨æ—¶ï¼Œä½ éœ€è¦ç»ˆæ­¢ Horizon ä¸»è¿›ç¨‹ï¼Œä»¥ä¾¿è¿›ç¨‹ç›‘è§†å™¨é‡æ–°å¯åŠ¨å®ƒå¹¶æ¥æ”¶ä»£ç çš„æ›´æ”¹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan horizon:terminate</span><br></pre></td></tr></table></figure><p>åˆ›å»ºäº†é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ–° Supervisor é…ç½®å¹¶å¯åŠ¨è¿›ç¨‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo supervisorctl reread</span><br><span class="line"></span><br><span class="line">sudo supervisorctl update</span><br><span class="line"></span><br><span class="line">sudo supervisorctl start horizon</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘ä»¬å®ç°çš„æ•ˆæœä¸ºï¼šå°†ä¸€äº›ä¸šåŠ¡é€»è¾‘è½¬åŒ–ä¸ºä»»åŠ¡ï¼ˆjobï¼‰ï¼Œç„¶åå¯ç”¨é˜Ÿåˆ—åŠŸèƒ½ï¼Œè€Œä¸”æ˜¯ redis çš„é˜Ÿåˆ—ï¼ŒåŒæ—¶ä½¿ç”¨ laravel å®˜æ–¹æ‰©å±• Horizon å®ç°é˜Ÿåˆ—çš„ç›‘æ§ã€‚å°†å¤æ‚è€—æ—¶çš„å·¥ä½œåå°å¤„ç†ï¼Œæé«˜å‰å°ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒã€‚&lt;/p&gt;
&lt;h2 id=&quot;1-å®‰è£…-redis&quot;&gt;&lt;a </summary>
      
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="é˜Ÿåˆ—" scheme="https://nightingalewk.github.io/tags/%E9%98%9F%E5%88%97/"/>
    
    <category term="redis" scheme="https://nightingalewk.github.io/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>åˆä¸€æ¬¡æ›´æ¢åšå®¢ç³»ç»Ÿè¾£</title>
    <link href="https://nightingalewk.github.io/2022/11/24/50.%20%E5%8F%88%E4%B8%80%E6%AC%A1%E6%9B%B4%E6%8D%A2%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%E8%BE%A3/"/>
    <id>https://nightingalewk.github.io/2022/11/24/50.%20%E5%8F%88%E4%B8%80%E6%AC%A1%E6%9B%B4%E6%8D%A2%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%E8%BE%A3/</id>
    <published>2022-11-24T08:57:00.000Z</published>
    <updated>2023-11-07T02:46:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>å½“ä½ çœ‹åˆ°è¿™ä¸ªæ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘å·²ç»ä» hexo æ¢å›åˆ° typecho äº†ï¼Œæœ€è¿‘å‘ç°ä½œè€…å¼€å§‹æ›´æ–°ï¼Œç‰ˆæœ¬åˆ° 1.2.0 ï¼Œæ™®å¤§å–œå¥”ğŸ«¡</p><p>æˆ‘èŠ±äº†ç‚¹æ—¶é—´æŠŠä¹‹å‰çš„åšå®¢è¿ç§»åˆ°äº† typechoï¼Œä»¥åå°±ç”¨å®ƒå•¦</p><p>å¦å¤–ï¼Œæœ€è¿‘æŠ¢äº†ä¸€å°è…¾è®¯äº‘çš„è½»é‡äº‘æœåŠ¡å™¨ï¼Œ333å…ƒ3å¹´ï¼Œ2C2G é…ç½®ï¼Œæ„Ÿè§‰å®Œå…¨å¯ä»¥åšæœ¬ç«™åŠå…¶å…¶ä»–åšå®¢ç«™ç­‰éœ€è¦é•¿æœŸéƒ¨ç½²ä¸å¤ªåŠ¨çš„ä¸œè¥¿ï¼Œæ‰€ä»¥å€Ÿæ­¤æœºä¼šæŠŠæˆ‘çš„ç«™ç‚¹æ¬åˆ°æ–°æœåŠ¡å™¨ä¸Šï¼ŒåŸæ¥çš„è€æœåŠ¡å™¨æ€§èƒ½æ›´å¥½ï¼Œæˆ‘ç­‰ç»™ä»–é‡è£…ä¸€ä¸‹ï¼Œä¸“ç”¨äºéƒ¨ç½²è‡ªå·±çš„æµ‹è¯•å•†ä¸šé¡¹ç›®ï¼Œå®ç°äº†ä¸ªäººç”Ÿæ´»ä¸å·¥ä½œéœ€è¦çš„æœåŠ¡å™¨åˆ†ç¦»ã€‚</p><p>å“¦å¯¹äº†ï¼Œæ–°æˆ¿å­ç°åœ¨å®¶å…·éƒ½åˆ°äº†ï¼Œæœ€è¿‘æ”¶æ‹¾ä¸€ä¸‹ï¼Œè·‘è·‘å‘³ï¼Œç»“ä¸€ä¸‹å°¾ï¼Œæ˜å¹´å°å®¶ç”µä¸€ä¹°ï¼Œå“å˜¿ï¼Œæˆ‘å’Œæˆ‘å¯¹è±¡å°±ä»¥ç«ç®­èˆ¬çš„é€Ÿåº¦å…‰é€Ÿå…¥ä½æˆ‘çš„å°çª</p><p>æ€»ä¹‹å°±æ˜¯å¥½è€¶ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å½“ä½ çœ‹åˆ°è¿™ä¸ªæ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘å·²ç»ä» hexo æ¢å›åˆ° typecho äº†ï¼Œæœ€è¿‘å‘ç°ä½œè€…å¼€å§‹æ›´æ–°ï¼Œç‰ˆæœ¬åˆ° 1.2.0 ï¼Œæ™®å¤§å–œå¥”ğŸ«¡&lt;/p&gt;
&lt;p&gt;æˆ‘èŠ±äº†ç‚¹æ—¶é—´æŠŠä¹‹å‰çš„åšå®¢è¿ç§»åˆ°äº† typechoï¼Œä»¥åå°±ç”¨å®ƒå•¦&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæœ€è¿‘æŠ¢äº†ä¸€å°è…¾è®¯äº‘çš„è½»é‡äº‘æœåŠ¡å™¨ï¼Œ333å…ƒ3å¹´</summary>
      
    
    
    
    <category term="ä¸ªäºº" scheme="https://nightingalewk.github.io/categories/%E4%B8%AA%E4%BA%BA/"/>
    
    
    <category term="è¿ç§»" scheme="https://nightingalewk.github.io/tags/%E8%BF%81%E7%A7%BB/"/>
    
  </entry>
  
  <entry>
    <title>laravel blade ç®€æ˜ç¤ºä¾‹</title>
    <link href="https://nightingalewk.github.io/2022/11/24/49.%20laravel%20blade%20%E7%AE%80%E6%98%8E%E7%A4%BA%E4%BE%8B/"/>
    <id>https://nightingalewk.github.io/2022/11/24/49.%20laravel%20blade%20%E7%AE%80%E6%98%8E%E7%A4%BA%E4%BE%8B/</id>
    <published>2022-11-24T08:17:11.000Z</published>
    <updated>2023-11-07T03:12:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€å•æ¯é¥¬ä¸€ä¸‹ laravel çš„ blade ä½¿ç”¨æ–¹æ³•</p><span id="more"></span><p>æ€»ä¹‹å°±æ˜¯ï¼Œä¸»é¡µé¢å¯ç”¨ï¼š</p><ol><li><code>@yield(&#39;content&#39;)</code> è¡¨ç¤ºè¿™é‡Œåé¢å­é¡µé¢å¯ä»¥ç”¨ <code>@section(&#39;content&#39;) xxxx @endsection</code> è°ƒç”¨ï¼›</li><li><code>@include(&#39;layouts._header&#39;)</code> è¡¨ç¤ºæˆ‘å¼•ç”¨å…¶ä»–çš„ blade é¡µé¢æ¨¡å—åˆ°è¿™é‡Œã€‚</li></ol><p>å­é¡µé¢å¯ä»¥ç”¨ï¼š</p><ol><li><code>@extends(&#39;layouts.app&#39;)</code> è¡¨ç¤ºæˆ‘è¦ä½¿ç”¨è¿™ä¸ª blade æ¨¡æ¿é¡µé¢ï¼Œå¹¶åœ¨åé¢å¯¹æ¨¡æ¿ä¼ å‚ï¼›</li><li><code>@section(&#39;title&#39;, $user-&gt;name . &#39; çš„ä¸ªäººä¸­å¿ƒ&#39;)</code> è¡¨ç¤ºå­é¡µé¢å¯¹ <code>app.blade.php</code> çš„ä¸€ä¸ªå« title çš„ yield ä¼ é€’å‚æ•°ã€‚</li></ol><p>å…·ä½“ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p>ä¸»é¡µé¢ <code>app.balde.php</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;&#123;&#123; str_replace(&#x27;_&#x27;, &#x27;-&#x27;, app()-&gt;getLocale()) &#125;&#125;&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compuiatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;@yield(&#x27;title&#x27;, &#x27;LaraBBS&#x27;) - laravel è¿›é˜¶æ•™ç¨‹&lt;/title&gt;</span><br><span class="line">    &lt;!-- CSRF Token --&gt;</span><br><span class="line">    &lt;meta name=&quot;csrf-token&quot; content=&quot;&#123;&#123; csrf_token() &#125;&#125;&quot;&gt;</span><br><span class="line">    &lt;!-- CSS / JS --&gt;</span><br><span class="line">    @vite([&#x27;resources/js/app.js&#x27;])</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot; class=&quot;&#123;&#123; route_class() &#125;&#125;-page&quot;&gt;</span><br><span class="line">        @include(&#x27;layouts._header&#x27;)</span><br><span class="line">        &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">            @include(&#x27;shared._messages&#x27;)</span><br><span class="line">            @yield(&#x27;content&#x27;)</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        @include(&#x27;layouts._footer&#x27;)</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>å­é¡µé¢ <code>show.blade.php</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">@extends(&#x27;layouts.app&#x27;)</span><br><span class="line"></span><br><span class="line">@section(&#x27;title&#x27;, $user-&gt;name . &#x27; çš„ä¸ªäººä¸­å¿ƒ&#x27;)</span><br><span class="line"></span><br><span class="line">@section(&#x27;content&#x27;)</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div class=&quot;col-lg-3 col-md-3 hidden-sm hidden-xs user-info&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;card &quot;&gt;</span><br><span class="line">                &lt;img class=&quot;card-img-top&quot;</span><br><span class="line">                    src=&quot;https://cdn.learnku.com/uploads/images/201709/20/1/PtDKbASVcz.png?imageView2/1/w/600/h/600&quot;</span><br><span class="line">                    alt=&quot;&#123;&#123; $user-&gt;name &#125;&#125;&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;card-body&quot;&gt;</span><br><span class="line">                    &lt;h5&gt;&lt;strong&gt;ä¸ªäººç®€ä»‹&lt;/strong&gt;&lt;/h5&gt;</span><br><span class="line">                    &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. &lt;/p&gt;</span><br><span class="line">                    &lt;hr&gt;</span><br><span class="line">                    &lt;h5&gt;&lt;strong&gt;æ³¨å†Œäº&lt;/strong&gt;&lt;/h5&gt;</span><br><span class="line">                    &lt;p&gt;January 01 1901&lt;/p&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;col-lg-9 col-md-9 col-sm-12 col-xs-12&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;card &quot;&gt;</span><br><span class="line">                &lt;div class=&quot;card-body&quot;&gt;</span><br><span class="line">                    &lt;h1 class=&quot;mb-0&quot; style=&quot;font-size:22px;&quot;&gt;&#123;&#123; $user-&gt;name &#125;&#125; &lt;small&gt;&#123;&#123; $user-&gt;email &#125;&#125;&lt;/small&gt;&lt;/h1&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;hr&gt;</span><br><span class="line"></span><br><span class="line">            &#123;&#123;-- ç”¨æˆ·å‘å¸ƒçš„å†…å®¹ --&#125;&#125;</span><br><span class="line">            &lt;div class=&quot;card &quot;&gt;</span><br><span class="line">                &lt;div class=&quot;card-body&quot;&gt;</span><br><span class="line">                    æš‚æ— æ•°æ® ~_~</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">@stop</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç®€å•æ¯é¥¬ä¸€ä¸‹ laravel çš„ blade ä½¿ç”¨æ–¹æ³•&lt;/p&gt;</summary>
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="blade" scheme="https://nightingalewk.github.io/tags/blade/"/>
    
  </entry>
  
  <entry>
    <title>laravel äº‹ä»¶ç³»ç»Ÿç®€æ˜ç¤ºä¾‹</title>
    <link href="https://nightingalewk.github.io/2022/11/24/48.%20laravel%20%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%80%E6%98%8E%E7%A4%BA%E4%BE%8B/"/>
    <id>https://nightingalewk.github.io/2022/11/24/48.%20laravel%20%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%80%E6%98%8E%E7%A4%BA%E4%BE%8B/</id>
    <published>2022-11-24T08:17:00.000Z</published>
    <updated>2023-11-07T03:12:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€å•å¯¹ laravel äº‹ä»¶ç³»ç»Ÿåšä¸€äº›è¯´æ˜</p><span id="more"></span><p>laravel çš„äº‹ä»¶æä¾›äº†ä¸€ä¸ªç®€å•çš„è§‚å¯Ÿè€…å®ç°ï¼Œèƒ½å¤Ÿè®¢é˜…å’Œç›‘å¬åº”ç”¨ä¸­å‘ç”Ÿçš„å„ç§äº‹ä»¶ã€‚äº‹ä»¶ç±»ä¿å­˜åœ¨ app&#x2F;Events ç›®å½•ä¸­ï¼Œè€Œè¿™äº›äº‹ä»¶çš„çš„ç›‘å¬å™¨åˆ™è¢«ä¿å­˜åœ¨ app&#x2F;Listeners ç›®å½•ä¸‹ã€‚è¿™äº›ç›®å½•åªæœ‰å½“ä½ ä½¿ç”¨ Artisan å‘½ä»¤æ¥ç”Ÿæˆäº‹ä»¶å’Œç›‘å¬å™¨æ—¶æ‰ä¼šè¢«è‡ªåŠ¨åˆ›å»ºã€‚</p><p>äº‹ä»¶æœºåˆ¶æ˜¯ä¸€ç§å¾ˆå¥½çš„åº”ç”¨è§£è€¦æ–¹å¼ï¼Œå› ä¸ºä¸€ä¸ªäº‹ä»¶å¯ä»¥æ‹¥æœ‰å¤šä¸ªäº’ä¸ä¾èµ–çš„ç›‘å¬å™¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å¸Œæœ›æ¯æ¬¡è®¢å•å‘è´§æ—¶å‘ç”¨æˆ·å‘é€ä¸€ä¸ª Slack é€šçŸ¥ã€‚ä½ å¯ä»¥ç®€å•åœ°å‘èµ·ä¸€ä¸ª OrderShipped äº‹ä»¶ï¼Œè®©ç›‘å¬å™¨æ¥æ”¶ä¹‹åè½¬åŒ–æˆä¸€ä¸ª Slack é€šçŸ¥ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä¸ç”¨æŠŠè®¢å•çš„ä¸šåŠ¡ä»£ç è·Ÿ Slack é€šçŸ¥çš„ä»£ç è€¦åˆåœ¨ä¸€èµ·äº†ã€‚</p><h2 id="ç”Ÿæˆä¸€ä¸ªäº‹ä»¶ç±»"><a href="#ç”Ÿæˆä¸€ä¸ªäº‹ä»¶ç±»" class="headerlink" title="ç”Ÿæˆä¸€ä¸ªäº‹ä»¶ç±»"></a>ç”Ÿæˆä¸€ä¸ªäº‹ä»¶ç±»</h2><p>æ¯”å¦‚é€šè¿‡ artisan å‘½ä»¤ç”Ÿæˆä¸€ä¸ª UserLogin äº‹ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:event UserLogin</span><br></pre></td></tr></table></figure><p>åœ¨ app&#x2F;Events ä¸­å°±ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª UserLogin.php æ–‡ä»¶ï¼Œå†…å®¹ä¸å¤šï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace App\Events;</span><br><span class="line"></span><br><span class="line">use Illuminate\Broadcasting\Channel;</span><br><span class="line">use Illuminate\Queue\SerializesModels;</span><br><span class="line">use Illuminate\Broadcasting\PrivateChannel;</span><br><span class="line">use Illuminate\Broadcasting\PresenceChannel;</span><br><span class="line">use Illuminate\Broadcasting\InteractsWithSockets;</span><br><span class="line">use Illuminate\Contracts\Broadcasting\ShouldBroadcast;</span><br><span class="line"></span><br><span class="line">class UserLogin</span><br><span class="line">&#123;</span><br><span class="line">    use InteractsWithSockets, SerializesModels;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Create a new event instance.</span><br><span class="line">     *</span><br><span class="line">     * @return void</span><br><span class="line">     */</span><br><span class="line">    public function __construct()</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Get the channels the event should broadcast on.</span><br><span class="line">     *</span><br><span class="line">     * @return Channel|array</span><br><span class="line">     */</span><br><span class="line">    public function broadcastOn()</span><br><span class="line">    &#123;</span><br><span class="line">        return new PrivateChannel(&#x27;channel-name&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®šä¹‰ç›‘å¬å™¨"><a href="#å®šä¹‰ç›‘å¬å™¨" class="headerlink" title="å®šä¹‰ç›‘å¬å™¨"></a>å®šä¹‰ç›‘å¬å™¨</h2><p>ä¸€ä¸ªäº‹ä»¶å¯ä»¥è¢«ä¸€ä¸ªæˆ–å¤šä¸ªç›‘å¬å™¨ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šä¸ªç›‘å¬å™¨ï¼Œå½“è¿™ä¸ªäº‹ä»¶å‘ç”Ÿï¼Œæ‰§è¡Œä¸€ç³»åˆ—é€»è¾‘ã€‚</p><p>åœ¨ EventServiceProvider çš„ $listen ä¸­å¯ä»¥å®šä¹‰äº‹ä»¶å’Œç›‘å¬å™¨ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">protected $listen = [</span><br><span class="line">    &#x27;App\Events\UserLogin&#x27; =&gt; [</span><br><span class="line">        &#x27;App\Lisenter\DoSomething1&#x27;,</span><br><span class="line">        &#x27;App\Lisenter\Dosomething2&#x27;,</span><br><span class="line">    ],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œ artisan å‘½ä»¤ï¼Œå°±å¯ä»¥è‡ªåŠ¨åœ¨ app&#x2F;Lisenter ç›®å½•ç”Ÿæˆç›‘å¬å™¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan event::generate</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ° app&#x2F;Lisenter ç›®å½•å¤šäº† DoSomething1.php å’Œ DoSomething2.php ä¸¤ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬çœ‹çœ‹å…¶ä¸­ä¸€ä¸ªå†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace App\Lisenter;</span><br><span class="line"></span><br><span class="line">use App\Events\UserLogin;</span><br><span class="line">use Illuminate\Queue\InteractsWithQueue;</span><br><span class="line">use Illuminate\Contracts\Queue\ShouldQueue;</span><br><span class="line"></span><br><span class="line">class DoSomething1</span><br><span class="line">&#123;</span><br><span class="line">    /**</span><br><span class="line">     * Create the event listener.</span><br><span class="line">     *</span><br><span class="line">     * @return void</span><br><span class="line">     */</span><br><span class="line">    public function __construct()</span><br><span class="line">    &#123;</span><br><span class="line">        //</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Handle the event.</span><br><span class="line">     *</span><br><span class="line">     * @param  UserLogin  $event</span><br><span class="line">     * @return void</span><br><span class="line">     */</span><br><span class="line">    public function handle(UserLogin $event)</span><br><span class="line">    &#123;</span><br><span class="line">        info(&#x27;do something1&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸¤ä¸ªç›‘å¬å™¨çš„ handle æ–¹æ³•ä¸­æˆ‘ä»¬æ‰“å°ä¸€ä¸ªæ—¥å¿—æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚ä»£ç  handle æ–¹æ³•æ‰€ç¤ºã€‚</p><h2 id="åˆ†å‘å’Œè§¦å‘äº‹ä»¶"><a href="#åˆ†å‘å’Œè§¦å‘äº‹ä»¶" class="headerlink" title="åˆ†å‘å’Œè§¦å‘äº‹ä»¶"></a>åˆ†å‘å’Œè§¦å‘äº‹ä»¶</h2><p>æˆ‘ä»¬åœ¨æŸä¸ªæ§åˆ¶å™¨çš„æ–¹æ³•ä¸­æ¥åˆ†å‘äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è§¦å‘äº‹ä»¶ï¼Œçœ‹ç›‘å¬å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p><p>å°±æ˜¯ä¸€å¥è¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event(new UserLogin());</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬è¯·æ±‚è¿™ä¸ªæ§åˆ¶å™¨ï¼Œè§‚å¯Ÿæ—¥å¿—ï¼Œå‘ç°æ‰“å°äº†æ—¥å¿—ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[2018-06-17 10:04:29] local.INFO: do something1</span><br><span class="line">[2018-06-17 10:04:29] local.INFO: do something2</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆè¿™ä¸ªäº‹ä»¶ - ç›‘å¬æœºåˆ¶å°±æ­£å¸¸å·¥ä½œäº†ã€‚</p><h1 id="é˜Ÿåˆ—å¼‚æ­¥å¤„ç†"><a href="#é˜Ÿåˆ—å¼‚æ­¥å¤„ç†" class="headerlink" title="é˜Ÿåˆ—å¼‚æ­¥å¤„ç†"></a>é˜Ÿåˆ—å¼‚æ­¥å¤„ç†</h1><p>å¦‚æœæŸä¸ªç›‘å¬å™¨éœ€è¦æ‰§è¡Œçš„æ“ä½œæ¯”è¾ƒæ…¢ï¼Œå¯ä»¥æ”¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œå¼‚æ­¥å¤„ç†ã€‚</p><p>æ¯”å¦‚æŠŠä¸Šé¢çš„ DoSomething1 æ”¹æˆéœ€è¦æ”¾å…¥é˜Ÿåˆ—çš„ï¼Œåªéœ€è¦ implements ShoulQueue æ¥å£ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class DoSomething1 implements ShouldQueue</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŒ‡å®šé˜Ÿåˆ—é©±åŠ¨ï¼Œå¦‚ä¸‹ä»£ç ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * ä»»åŠ¡åº”è¯¥å‘é€åˆ°çš„é˜Ÿåˆ—çš„è¿æ¥çš„åç§°</span><br><span class="line"> *</span><br><span class="line"> * @var string|null</span><br><span class="line"> */</span><br><span class="line">public $connection = &#x27;redis&#x27;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * ä»»åŠ¡åº”è¯¥å‘é€åˆ°çš„é˜Ÿåˆ—çš„åç§°</span><br><span class="line"> *</span><br><span class="line"> * @var string|null</span><br><span class="line"> */</span><br><span class="line">public $queue = &#x27;listeners&#x27;;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å†æ¬¡æ‰§è¡Œæ§åˆ¶å™¨æ–¹æ³•ã€‚</p><p>æ—¥å¿—é‡Œæ²¡æœ‰æ‰“å° do something1ï¼Œåªæœ‰ do something2ï¼Œä½†æ˜¯åœ¨ redis é˜Ÿåˆ—é‡Œå‘ç°äº†ä¸€ä¸ªåä¸º queues:default çš„åˆ—è¡¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;job&quot;:&quot;Illuminate\\Events\\CallQueuedHandler@call&quot;,&quot;data&quot;:&#123;&quot;class&quot;:&quot;App\\Listener\\DoSomething1&quot;,&quot;method&quot;:&quot;handle&quot;,&quot;data&quot;:&quot;a:1:&#123;i:0;O:20:\&quot;App\\Events\\UserLogin\&quot;:1:&#123;s:6:\&quot;socket\&quot;;N;&#125;&#125;&quot;&#125;,&quot;id&quot;:&quot;3D7VDUwueYGtUvsazicWsifwWQxnnLID&quot;,&quot;attempts&quot;:1&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨ php artisan queue:work æ‰§è¡Œé˜Ÿåˆ—ä»»åŠ¡ï¼Œæ‰æ˜¯çœŸæ­£æ‰§è¡Œ DoSomething1 è¿™ä¸ªç›‘å¬å™¨çš„ handle æ–¹æ³•ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç®€å•å¯¹ laravel äº‹ä»¶ç³»ç»Ÿåšä¸€äº›è¯´æ˜&lt;/p&gt;</summary>
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="äº‹ä»¶" scheme="https://nightingalewk.github.io/tags/%E4%BA%8B%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>laravel è¡¨å•è¯·æ±‚éªŒè¯ç®€æ˜ç¤ºä¾‹</title>
    <link href="https://nightingalewk.github.io/2022/11/24/47.%20laravel%20%E8%A1%A8%E5%8D%95%E8%AF%B7%E6%B1%82%E9%AA%8C%E8%AF%81%E7%AE%80%E6%98%8E%E7%A4%BA%E4%BE%8B/"/>
    <id>https://nightingalewk.github.io/2022/11/24/47.%20laravel%20%E8%A1%A8%E5%8D%95%E8%AF%B7%E6%B1%82%E9%AA%8C%E8%AF%81%E7%AE%80%E6%98%8E%E7%A4%BA%E4%BE%8B/</id>
    <published>2022-11-24T08:10:00.000Z</published>
    <updated>2023-11-07T03:12:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€å•å†™ä¸€ä¸‹ laravel è¡¨å•è¯·æ±‚éªŒè¯ä½¿ç”¨æ–¹æ³•</p><span id="more"></span><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">use App\Http\Requests\UserRequest;</span><br><span class="line"></span><br><span class="line">class UsersController extends Controller</span><br><span class="line">&#123;</span><br><span class="line">    .</span><br><span class="line">    .</span><br><span class="line">    .</span><br><span class="line"></span><br><span class="line">    public function update(UserRequest $request, User $user)</span><br><span class="line">    &#123;</span><br><span class="line">        $user-&gt;update($request-&gt;all());</span><br><span class="line">        return redirect()-&gt;route(&#x27;users.show&#x27;, $user-&gt;id)-&gt;with(&#x27;success&#x27;, &#x27;ä¸ªäººèµ„æ–™æ›´æ–°æˆåŠŸï¼&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®æˆ‘ä»¬å°† update æ–¹æ³•ä¸­ä¼ çš„ç¬¬ä¸€ä¸ªå‚ï¼Œä» Request æ”¹æˆ UserRequest å°±å¯ä»¥äº†ï¼Œç³»ç»Ÿä¼šåœ¨ä¸€å¼€å§‹å°±å¼€å§‹éªŒè¯ï¼Œè¿‡äº†å†ç»§ç»­ä¹‹åçš„æ­¥éª¤ã€‚è€Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç”Ÿæˆè¡¨å•è¯·æ±‚éªŒè¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:request UserRequest</span><br></pre></td></tr></table></figure><p>ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å»ä¿®æ”¹è¿™ä¸ª UserRequest æ–‡ä»¶äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">namespace App\Http\Requests;</span><br><span class="line"></span><br><span class="line">use Illuminate\Foundation\Http\FormRequest;</span><br><span class="line">use Illuminate\Support\Facades\Auth;</span><br><span class="line"></span><br><span class="line">class UserRequest extends FormRequest</span><br><span class="line">&#123;</span><br><span class="line">    /**</span><br><span class="line">     * Determine if the user is authorized to make this request.</span><br><span class="line">     *</span><br><span class="line">     * @return bool</span><br><span class="line">     */</span><br><span class="line">    public function authorize()</span><br><span class="line">    &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Get the validation rules that apply to the request.</span><br><span class="line">     *</span><br><span class="line">     * @return array&lt;string, mixed&gt;</span><br><span class="line">     */</span><br><span class="line">    public function rules()</span><br><span class="line">    &#123;</span><br><span class="line">        return [</span><br><span class="line">            &#x27;name&#x27; =&gt; &#x27;required|between:3,25|regex:/^[A-Za-z0-9\-\_]+$/|unique:users,name,&#x27; . Auth::id(),</span><br><span class="line">            &#x27;email&#x27; =&gt; &#x27;required|email&#x27;,</span><br><span class="line">            &#x27;introduction&#x27; =&gt; &#x27;max:80&#x27;,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public function messages()</span><br><span class="line">    &#123;</span><br><span class="line">        return [</span><br><span class="line">            &#x27;name.unique&#x27; =&gt; &#x27;ç”¨æˆ·åå·²è¢«å ç”¨ï¼Œè¯·é‡æ–°å¡«å†™&#x27;,</span><br><span class="line">            &#x27;name.regex&#x27; =&gt; &#x27;ç”¨æˆ·ååªæ”¯æŒè‹±æ–‡ã€æ•°å­—ã€æ¨ªæ å’Œä¸‹åˆ’çº¿ã€‚&#x27;,</span><br><span class="line">            &#x27;name.between&#x27; =&gt; &#x27;ç”¨æˆ·åå¿…é¡»ä»‹äº 3 - 25 ä¸ªå­—ç¬¦ä¹‹é—´ã€‚&#x27;,</span><br><span class="line">            &#x27;name.required&#x27; =&gt; &#x27;ç”¨æˆ·åä¸èƒ½ä¸ºç©ºã€‚&#x27;,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç®€å•å†™ä¸€ä¸‹ laravel è¡¨å•è¯·æ±‚éªŒè¯ä½¿ç”¨æ–¹æ³•&lt;/p&gt;</summary>
    
    
    
    <category term="laravel" scheme="https://nightingalewk.github.io/categories/laravel/"/>
    
    
    <category term="è¡¨å•éªŒè¯" scheme="https://nightingalewk.github.io/tags/%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81/"/>
    
  </entry>
  
  <entry>
    <title>æ£€æµ‹æœåŠ¡ç«¯å£çš„æ–¹æ³•</title>
    <link href="https://nightingalewk.github.io/2022/11/24/46.%20%E6%A3%80%E6%B5%8B%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>https://nightingalewk.github.io/2022/11/24/46.%20%E6%A3%80%E6%B5%8B%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%8F%A3%E7%9A%84%E6%96%B9%E6%B3%95/</id>
    <published>2022-11-24T08:10:00.000Z</published>
    <updated>2023-11-07T02:43:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>é€šè¿‡ä»¥ä¸‹æ–¹æ³•ï¼Œå¯æŸ¥è¯¢ win æˆ– linux ç³»ç»Ÿä¸­å„ç§æœåŠ¡çš„ç«¯å£æ˜¯å¤šå°‘ï¼Œæ–¹ä¾¿åŠ å…¥åˆ° zabbix ç›‘ç®¡å¹³å°ä¸­</p><h2 id="1-Linux-ç³»ç»Ÿ"><a href="#1-Linux-ç³»ç»Ÿ" class="headerlink" title="1. Linux ç³»ç»Ÿ"></a>1. Linux ç³»ç»Ÿ</h2><h3 id="1-1-æŸ¥è¯¢-etc-services-æ‰¾ç«¯å£"><a href="#1-1-æŸ¥è¯¢-etc-services-æ‰¾ç«¯å£" class="headerlink" title="1.1 æŸ¥è¯¢ &#x2F;etc&#x2F;services æ‰¾ç«¯å£"></a>1.1 æŸ¥è¯¢ &#x2F;etc&#x2F;services æ‰¾ç«¯å£</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/services | grep postgres</span><br><span class="line"> </span><br><span class="line">postgres 5432/tcp postgresql # POSTGRES</span><br><span class="line"> </span><br><span class="line">postgres 5432/udp postgresql # POSTGRES</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœç”¨æˆ·æ²¡æœ‰é…ç½®servicesçš„è¯ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ— æ•ˆã€‚</p><h3 id="1-2-netstat-å‘½ä»¤æŸ¥çœ‹"><a href="#1-2-netstat-å‘½ä»¤æŸ¥çœ‹" class="headerlink" title="1.2 netstat å‘½ä»¤æŸ¥çœ‹"></a>1.2 netstat å‘½ä»¤æŸ¥çœ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># netstat -a | grep PGSQL</span><br><span class="line"> </span><br><span class="line">unix 2 [ ACC ] STREAM LISTENING 12693978 /tmp/.s.PGSQL.5432</span><br></pre></td></tr></table></figure><h2 id="2-Windows-ç³»ç»Ÿ"><a href="#2-Windows-ç³»ç»Ÿ" class="headerlink" title="2. Windows ç³»ç»Ÿ"></a>2. Windows ç³»ç»Ÿ</h2><p>å¾…è¡¥å……</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€šè¿‡ä»¥ä¸‹æ–¹æ³•ï¼Œå¯æŸ¥è¯¢ win æˆ– linux ç³»ç»Ÿä¸­å„ç§æœåŠ¡çš„ç«¯å£æ˜¯å¤šå°‘ï¼Œæ–¹ä¾¿åŠ å…¥åˆ° zabbix ç›‘ç®¡å¹³å°ä¸­&lt;/p&gt;
&lt;h2 id=&quot;1-Linux-ç³»ç»Ÿ&quot;&gt;&lt;a href=&quot;#1-Linux-ç³»ç»Ÿ&quot; class=&quot;headerlink&quot; title=&quot;1. Linux </summary>
      
    
    
    
    <category term="linux" scheme="https://nightingalewk.github.io/categories/linux/"/>
    
    
    <category term="ç«¯å£æŸ¥è¯¢" scheme="https://nightingalewk.github.io/tags/%E7%AB%AF%E5%8F%A3%E6%9F%A5%E8%AF%A2/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ swap å ç”¨è¿‡é«˜çš„é—®é¢˜</title>
    <link href="https://nightingalewk.github.io/2022/09/15/45.%20%E8%A7%A3%E5%86%B3%20swap%20%E5%8D%A0%E7%94%A8%E8%BF%87%E9%AB%98%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>https://nightingalewk.github.io/2022/09/15/45.%20%E8%A7%A3%E5%86%B3%20swap%20%E5%8D%A0%E7%94%A8%E8%BF%87%E9%AB%98%E7%9A%84%E9%97%AE%E9%A2%98/</id>
    <published>2022-09-15T08:56:00.000Z</published>
    <updated>2023-11-07T02:41:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…¬å¸æŸé¡¹ç›®æœ‰ 2 ä¸ªæœºå­çš„ swap å æ»¡äº†ï¼Œç›‘æ§ä»–ä»¬çš„ zabbix å¹³å°ä¸€ç›´æç¤ºé«˜å ç”¨ï¼Œäºæ˜¯å¼€å§‹ç€æ‰‹è§£å†³ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬é‡Šæ”¾ swap å­˜å‚¨çš„æ–‡ä»¶å¯¼å†…å­˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Swapoff â€“a</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†éœ€è¦æ–°å»ºä¸€ä¸ªæ›´å¤§çš„swapäº¤æ¢ç©ºé—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /var</span><br><span class="line">sudo mkdir swap</span><br><span class="line">sudo dd if=/dev/zero of=swapfile bs=1024 count=4000000</span><br><span class="line">sudo mkswap swapfile</span><br></pre></td></tr></table></figure><p>ä¹‹åæ·»åŠ è‡ªåŠ¨æŒ‚è½½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/fstab</span><br><span class="line"></span><br><span class="line">æœ€åæ·»åŠ å¦‚ä¸‹ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">/var/swapfile   swap  swap  defaults  0  0</span><br></pre></td></tr></table></figure><p>è‡³æ­¤æ“ä½œç»“æŸ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å…¬å¸æŸé¡¹ç›®æœ‰ 2 ä¸ªæœºå­çš„ swap å æ»¡äº†ï¼Œç›‘æ§ä»–ä»¬çš„ zabbix å¹³å°ä¸€ç›´æç¤ºé«˜å ç”¨ï¼Œäºæ˜¯å¼€å§‹ç€æ‰‹è§£å†³ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬é‡Šæ”¾ swap å­˜å‚¨çš„æ–‡ä»¶å¯¼å†…å­˜&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;</summary>
      
    
    
    
    <category term="linux" scheme="https://nightingalewk.github.io/categories/linux/"/>
    
    
    <category term="swap" scheme="https://nightingalewk.github.io/tags/swap/"/>
    
  </entry>
  
  <entry>
    <title>sshpass ä¸­ä½¿ç”¨ awk çš„å‘</title>
    <link href="https://nightingalewk.github.io/2022/08/30/43.%20sshpass%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20awk%20%E7%9A%84%E5%9D%91/"/>
    <id>https://nightingalewk.github.io/2022/08/30/43.%20sshpass%20%E4%B8%AD%E4%BD%BF%E7%94%A8%20awk%20%E7%9A%84%E5%9D%91/</id>
    <published>2022-08-30T06:20:00.000Z</published>
    <updated>2023-11-07T02:39:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰åœ¨ä½¿ç”¨sshè¿œç¨‹æ‰§è¡Œå‘½ä»¤ï¼Œå½“ä½¿ç”¨åˆ°awkçš„æ—¶å€™æ€»æ˜¯æŠ¥é”™ï¼Œè€Œsedå’Œgrepéƒ½æ²¡æœ‰é—®é¢˜ï¼Œä»¥ä¸ºawkä¸æ”¯æŒè¿œç¨‹æ‰§è¡Œã€‚æœ€è¿‘ç»è¿‡æµ‹è¯•æ‰¾åˆ°äº†è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•ã€‚</p><p>æœ€è¿‘ç¼–å†™å…¬å¸é¡¹ç›®çš„è‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬çš„æ—¶å€™ï¼Œæƒ³åœ¨ sshpass ä¸­ä½¿ç”¨ awkï¼Œæœ¬æœºä¸Šç›´æ¥æ‰§è¡Œæ— é—®é¢˜ï¼Œä½†æ˜¯åœ¨ sshpass ä¸‹å´ä¸€ç›´æŠ¥è¯­æ³•é”™è¯¯ï¼Œå…¶åŸå› å¹¶éä¸¤è€…ä¸å…¼å®¹ï¼Œè€Œæ˜¯è¯­æ³•é—®é¢˜ã€‚</p><span id="more"></span><p>åŸè¯­å¥ï¼š<code>free -m | sed -n &#39;2p&#39; | awk &#39;&#123;print &quot;Mem used is &quot;$3/$2*100&#125;&#39;</code></p><p>æƒ³åœ¨ sshpass ä¸­æ‰§è¡Œæ­£ç¡®ï¼Œå°±åº”è¯¥æŠŠ <code>&amp;</code> è½¬ä¹‰ï¼Œåœ¨å…¶å‰é¢åŠ ä¸Š <code>\</code> å³å¯ï¼Œæœ€ç»ˆç»“æœä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sshpass -p Password ssh root@192.168.1.1 &quot;free -m | sed -n &#x27;2p&#x27; | awk &#x27;&#123;print &quot;Mem used is &quot;\$3/\$2*100&#125;&#x27;&quot; &gt;&gt;test.txt</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¹‹å‰åœ¨ä½¿ç”¨sshè¿œç¨‹æ‰§è¡Œå‘½ä»¤ï¼Œå½“ä½¿ç”¨åˆ°awkçš„æ—¶å€™æ€»æ˜¯æŠ¥é”™ï¼Œè€Œsedå’Œgrepéƒ½æ²¡æœ‰é—®é¢˜ï¼Œä»¥ä¸ºawkä¸æ”¯æŒè¿œç¨‹æ‰§è¡Œã€‚æœ€è¿‘ç»è¿‡æµ‹è¯•æ‰¾åˆ°äº†è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æœ€è¿‘ç¼–å†™å…¬å¸é¡¹ç›®çš„è‡ªåŠ¨åŒ–è¿ç»´è„šæœ¬çš„æ—¶å€™ï¼Œæƒ³åœ¨ sshpass ä¸­ä½¿ç”¨ awkï¼Œæœ¬æœºä¸Šç›´æ¥æ‰§è¡Œæ— é—®é¢˜ï¼Œä½†æ˜¯åœ¨ sshpass ä¸‹å´ä¸€ç›´æŠ¥è¯­æ³•é”™è¯¯ï¼Œå…¶åŸå› å¹¶éä¸¤è€…ä¸å…¼å®¹ï¼Œè€Œæ˜¯è¯­æ³•é—®é¢˜ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="linux" scheme="https://nightingalewk.github.io/categories/linux/"/>
    
    
    <category term="sshppass" scheme="https://nightingalewk.github.io/tags/sshppass/"/>
    
    <category term="awk" scheme="https://nightingalewk.github.io/tags/awk/"/>
    
  </entry>
  
</feed>
