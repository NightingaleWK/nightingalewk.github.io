{
    "version": "https://jsonfeed.org/version/1",
    "title": "雪漫城的风宅 • All posts by \"wsl2\" tag",
    "description": "この世界は好都合に未完成 だから知りたいんだ —— チ。-地球の運動について-",
    "home_page_url": "https://nightingalewk.cn",
    "items": [
        {
            "id": "https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/",
            "url": "https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/",
            "title": "Laravel Sail 开发环境部署一把过（环境配置篇）",
            "date_published": "2026-01-23T10:00:00.000Z",
            "content_html": "<h2 id=\"目标\"><a href=\"#目标\" class=\"headerlink\" title=\"目标\"></a>目标</h2><p>本文的目标非常明确：<strong>从一台刚装好系统的全新 Windows 11 电脑开始，直到浏览器成功访问 Laravel 默认欢迎页面。</strong></p>\n<p>中间我们将完成：</p>\n<ol>\n<li>开启 BIOS 虚拟化。</li>\n<li>安装 WSL 2 (Windows Subsystem for Linux)。</li>\n<li>安装 Docker Desktop。</li>\n<li>使用 Sail 命令行一键创建并启动项目。</li>\n</ol>\n<blockquote>\n<p><strong>前置要求</strong>：你的 Windows 11 版本需要是最新的（或者至少是近两年的版本）。</p>\n</blockquote>\n<hr>\n<h2 id=\"第一步：检查虚拟化-Virtualization\"><a href=\"#第一步：检查虚拟化-Virtualization\" class=\"headerlink\" title=\"第一步：检查虚拟化 (Virtualization)\"></a>第一步：检查虚拟化 (Virtualization)</h2><p>Docker 和 WSL2 的运行依赖于 CPU 的虚拟化技术。</p>\n<ol>\n<li>打开 <strong>任务管理器 (Task Manager)</strong> (<code>Ctrl + Shift + Esc</code>)。</li>\n<li>切换到 <strong>性能 (Performance)</strong> -&gt; <strong>CPU</strong> 选项卡。</li>\n<li>查看右下角的 <strong>虚拟化 (Virtualization)</strong> 状态。<ul>\n<li>**已启用 (Enabled)**：✅通过，直接进入下一步。</li>\n<li>**已禁用 (Disabled)**：❌需要重启电脑进入 BIOS 开启。不同品牌主板开启方式不同（通常在 <code>Advanced</code> -&gt; <code>CPU Configuration</code> -&gt; <code>Intel VT-x</code> 或 <code>AMD-V</code>），请自行搜索“主板品牌 + 开启虚拟化”。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h2 id=\"第二步：安装-WSL-2\"><a href=\"#第二步：安装-WSL-2\" class=\"headerlink\" title=\"第二步：安装 WSL 2\"></a>第二步：安装 WSL 2</h2><p>现在的 Windows 安装 Linux 子系统已经简单到令人发指，不需要再去控制面板勾选那一堆复杂的“Windows 功能”了。</p>\n<ol>\n<li>鼠标右键点击 <strong>开始菜单</strong>，选择 <strong>终端管理员 (Terminal Admin)</strong> 或 **PowerShell (管理员)**。</li>\n<li>输入以下命令并回车：<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wsl <span class=\"literal\">--install</span></span><br></pre></td></tr></table></figure></li>\n<li><strong>等待进度条跑完</strong>。系统会自动下载并安装 Ubuntu 发行版。</li>\n<li><strong>重启电脑</strong>。</li>\n</ol>\n<blockquote>\n<p><strong>重启后的操作</strong>：<br>电脑重启后，会自动弹出一个黑色的终端窗口（Ubuntu）。它会提示你：</p>\n<ul>\n<li>Enter new UNIX username: （输入你想用的用户名，全小写，如 <code>wang</code>）</li>\n<li>Enter new UNIX password: （设置密码，输入时屏幕不会显示，输完回车即可）</li>\n<li>Retype new UNIX password: （确认密码）</li>\n</ul>\n<p>搞定后，如果你通过 <code>wsl -l -v</code> 命令查看，应该能看到一个 <code>Ubuntu</code> 正在运行，且 Version 为 2。</p>\n</blockquote>\n<hr>\n<h2 id=\"第三步：安装-Docker-Desktop\"><a href=\"#第三步：安装-Docker-Desktop\" class=\"headerlink\" title=\"第三步：安装 Docker Desktop\"></a>第三步：安装 Docker Desktop</h2><p>Docker Desktop 是 Docker 在 Windows 上的图形化管理工具，它会自动接管 WSL2 中的 Docker 后端。</p>\n<ol>\n<li>前往 <a href=\"https://www.docker.com/products/docker-desktop/\">Docker 官网</a> 下载 <strong>Docker Desktop for Windows</strong>。</li>\n<li>双击安装。<strong>注意</strong>：在安装界面的 Configuration 步骤中，务必勾选：<ul>\n<li>✅ <strong>Use WSL 2 instead of Hyper-V (recommended)</strong></li>\n</ul>\n</li>\n<li>安装完成后，打开 Docker Desktop。<ul>\n<li>它可能会让你登录，你可以选择 Skip 暂时跳过。</li>\n<li>看到左下角变为 <strong>绿色</strong> 的 Engine running，说明 Docker 启动成功。</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p><strong>关键配置：开启 WSL 集成</strong></p>\n<ol>\n<li>点击 Docker Desktop右上角的齿轮图标 ⚙️ (Settings)。</li>\n<li>进入 <strong>Resources</strong> -&gt; <strong>WSL Integration</strong>。</li>\n<li>确保 “Enable integration with my default WSL distro” 是 <strong>勾选</strong> 状态。</li>\n<li>如果下方出现了 <code>Ubuntu</code> 的开关，也把它打开 (Toggle On)。</li>\n<li>点击 <strong>Apply &amp; Restart</strong>。</li>\n</ol>\n</blockquote>\n<hr>\n<h2 id=\"第四步：创建并启动-Laravel-项目\"><a href=\"#第四步：创建并启动-Laravel-项目\" class=\"headerlink\" title=\"第四步：创建并启动 Laravel 项目\"></a>第四步：创建并启动 Laravel 项目</h2><p>见证奇迹的时刻到了。我们所有的操作都在 WSL (Ubuntu) 中进行。</p>\n<ol>\n<li><p>打开 <strong>Windows Terminal</strong>，点击标题栏的下拉箭头，选择 <strong>Ubuntu</strong> 这里就是你的 Linux 世界。</p>\n</li>\n<li><p><strong>创建并进入代码目录</strong>：<br>为了保持（也就是 Linux 系统里的家目录）整洁，我们推荐新建一个 <code>code</code> 文件夹来存放未来的所有项目：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> code</span><br><span class=\"line\"><span class=\"built_in\">cd</span> code</span><br></pre></td></tr></table></figure></li>\n<li><p><strong>直接运行 Laravel 官方构建命令</strong>：<br>把下面的 <code>example-app</code> 换成你想要的项目名字（比如 <code>blog</code>）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -s https://laravel.build/example-app | bash</span><br></pre></td></tr></table></figure>\n<ul>\n<li>这行命令会自动拉取由 Laravel 官方维护的 Docker 镜像，并开始下载所有依赖。第一次运行可能会受网速影响，请耐心等待（建议科学上网环境，或者配置 Docker 镜像加速）。</li>\n</ul>\n</li>\n<li><p><strong>进入项目目录</strong>：<br>当命令跑完，提示 “Thank you! We hope you build something incredible.” 时，执行：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> example-app</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>配置快捷指令（强烈推荐）</strong>：<br>每次都输入 <code>./vendor/bin/sail</code> 太麻烦了。我们配置一个 <code>sail</code>别名（官方推荐做法）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;alias sail=&#x27;[ -f sail ] &amp;&amp; bash sail || bash vendor/bin/sail&#x27;&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class=\"line\"><span class=\"built_in\">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>\n<p><em>这样以后你在任何目录下，只要敲 <code>sail</code> 就能调用命令了。</em></p>\n</li>\n<li><p>**启动 Sail (Docker 环境)**：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail up -d</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>up</code>：启动服务。</li>\n<li><code>-d</code>：后台运行 (Detached mode)，这样你的终端窗口不会被日志霸占。</li>\n</ul>\n<p><em>第一次启动会拉取 MySQL、Redis 等镜像，可能需要一点时间。</em></p>\n</li>\n</ol>\n<hr>\n<h2 id=\"第五步：验证成果\"><a href=\"#第五步：验证成果\" class=\"headerlink\" title=\"第五步：验证成果\"></a>第五步：验证成果</h2><p>打开你的浏览器（Chrome&#x2F;Edge），在地址栏输入：</p>\n<blockquote>\n<p><strong><a href=\"http://localhost/\">http://localhost</a></strong></p>\n</blockquote>\n<p>如果你看到那个巨大的、红色的（或白色的）Laravel Logo，以及醒目的版本号。</p>\n<p>🎉 <strong>恭喜你！你已经成功在 Windows 上部署了一套最先进的 Laravel Docker 开发环境！</strong></p>\n<p>此时：</p>\n<ul>\n<li>你的电脑里没有安装 PHP。</li>\n<li>你的电脑里没有安装 MySQL。</li>\n<li>你的电脑里没有安装 Nginx。</li>\n<li><strong>但它们都在为你服务。</strong></li>\n</ul>\n<hr>\n<h2 id=\"下集预告\"><a href=\"#下集预告\" class=\"headerlink\" title=\"下集预告\"></a>下集预告</h2><p>环境通了，代码也在跑了。但我们怎么把代码存起来？怎么在公司写一半，回家换台电脑拉下来接着写？<br>下一篇：<strong>《Laravel Sail 开发环境部署一把过（Git 同步与多机开发篇）》</strong>，我们将配置 GitHub 仓库，并演示“异地开发，无感切换”的丝滑体验。</p>\n",
            "tags": [
                "Laravel",
                "Docker",
                "Sail",
                "WSL2"
            ]
        }
    ]
}