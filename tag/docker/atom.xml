<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://nightingalewk.cn</id>
    <title>é›ªæ¼«åŸçš„é£å®… â€¢ Posts by &#34;docker&#34; tag</title>
    <link href="https://nightingalewk.cn" />
    <updated>2026-01-23T10:00:00.000Z</updated>
    <category term="è¿ç§»" />
    <category term="hexo" />
    <category term="ä¸»é£Ÿ" />
    <category term="pr" />
    <category term="bilibili" />
    <category term="ç”µè„‘ç»´ä¿®" />
    <category term="å­¦ä¹ ç¬”è®°" />
    <category term="çƒ­èœ" />
    <category term="æ±¤" />
    <category term="æ¢¦å¢ƒ" />
    <category term="æµ·é²œ" />
    <category term="ç”œå“" />
    <category term="homestead" />
    <category term="ä»£ç æ›´æ–°" />
    <category term="oneinstack" />
    <category term="lnmp" />
    <category term="ä»£ç éƒ¨ç½²" />
    <category term="dcat admin" />
    <category term="oh-my-zsh" />
    <category term="debug" />
    <category term="é“æ­‰ä¿¡" />
    <category term="æŒ‡ä»¤" />
    <category term="å…å¯†" />
    <category term="laravel sail" />
    <category term="vs code" />
    <category term="fileinfo" />
    <category term="PAC æ¸…å•" />
    <category term="gpg" />
    <category term="å®šæ—¶ä»»åŠ¡" />
    <category term="sshppass" />
    <category term="awk" />
    <category term="net time" />
    <category term="swap" />
    <category term="äº‹ä»¶" />
    <category term="ç«¯å£æŸ¥è¯¢" />
    <category term="è¡¨å•éªŒè¯" />
    <category term="blade" />
    <category term="wordpress" />
    <category term="ç‰¹è‰²å°åƒ" />
    <category term="é˜Ÿåˆ—" />
    <category term="redis" />
    <category term="ç²¥" />
    <category term="Cloudreve" />
    <category term="artisan æŒ‡ä»¤" />
    <category term="Font Awesome" />
    <category term="vite" />
    <category term="æ•…éšœæ’é™¤" />
    <category term="æˆ‘çš„ä¸–ç•Œ" />
    <category term="Minecraft" />
    <category term="è†ç›–ä¸­ç®­ä¹‹åœ°" />
    <category term="é¢†åŸŸ" />
    <category term="realms" />
    <category term="å…¬å‘Š" />
    <category term="linux" />
    <category term="cursor" />
    <category term="äººå·¥æ™ºèƒ½" />
    <category term="prompt" />
    <category term="screen" />
    <category term="Git" />
    <category term="GitHub" />
    <category term="æ•™ç¨‹" />
    <category term="ç‰ˆæœ¬æ§åˆ¶" />
    <category term="æ‰“å°æœº" />
    <category term="äº¬ç“·" />
    <category term="å›½äº§åŒ–" />
    <category term="ä¿¡åˆ›" />
    <category term="TongHttpServer" />
    <category term="Laravel" />
    <category term="Docker" />
    <category term="å®¹å™¨åŒ–" />
    <category term="éƒ¨ç½²" />
    <category term="è¿ç»´" />
    <category term="Monorepo" />
    <category term="DevOps" />
    <category term="Ubuntu" />
    <category term="å®‰è£…æŒ‡å—" />
    <category term="é˜¿é‡Œäº‘" />
    <category term="é•œåƒæº" />
    <category term="Nginx" />
    <category term="åå‘ä»£ç†" />
    <category term="NPM" />
    <category term="HTTPS" />
    <category term="é—®é¢˜æ’æŸ¥" />
    <category term="Sail" />
    <category term="Rule" />
    <category term="Prompt" />
    <category term="gemini" />
    <category term="WSL2" />
    <category term="Artisan" />
    <category term="Composer" />
    <category term="Troubleshooting" />
    <category term="Hardware" />
    <category term="Tooling" />
    <entry>
        <id>https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/</id>
        <title>Laravel Sail å¼€å‘ç¯å¢ƒéƒ¨ç½²ä¸€æŠŠè¿‡ï¼ˆç¯å¢ƒé…ç½®ç¯‡ï¼‰</title>
        <link rel="alternate" href="https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/"/>
        <content type="html">&lt;h1 id=&#34;ç›®æ ‡&#34;&gt;&lt;a href=&#34;#ç›®æ ‡&#34; class=&#34;headerlink&#34; title=&#34;ç›®æ ‡&#34;&gt;&lt;/a&gt;ç›®æ ‡&lt;/h1&gt;&lt;p&gt;æœ¬æ–‡çš„ç›®æ ‡éå¸¸æ˜ç¡®ï¼š&lt;strong&gt;ä»ä¸€å°åˆšè£…å¥½ç³»ç»Ÿçš„å…¨æ–° Windows 11 ç”µè„‘å¼€å§‹ï¼Œç›´åˆ°æµè§ˆå™¨æˆåŠŸè®¿é—® Laravel é»˜è®¤æ¬¢è¿é¡µé¢ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸­é—´æˆ‘ä»¬å°†å®Œæˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼€å¯ BIOS è™šæ‹ŸåŒ–ã€‚&lt;/li&gt;
&lt;li&gt;å®‰è£… WSL 2 (Windows Subsystem for Linux)ã€‚&lt;/li&gt;
&lt;li&gt;å®‰è£… Docker Desktopã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Sail å‘½ä»¤è¡Œä¸€é”®åˆ›å»ºå¹¶å¯åŠ¨é¡¹ç›®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å‰ç½®è¦æ±‚&lt;/strong&gt;ï¼šä½ çš„ Windows 11 ç‰ˆæœ¬éœ€è¦æ˜¯æœ€æ–°çš„ï¼ˆæˆ–è€…è‡³å°‘æ˜¯è¿‘ä¸¤å¹´çš„ç‰ˆæœ¬ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥è™šæ‹ŸåŒ–-Virtualization&#34;&gt;&lt;a href=&#34;#ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥è™šæ‹ŸåŒ–-Virtualization&#34; class=&#34;headerlink&#34; title=&#34;ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥è™šæ‹ŸåŒ– (Virtualization)&#34;&gt;&lt;/a&gt;ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥è™šæ‹ŸåŒ– (Virtualization)&lt;/h1&gt;&lt;p&gt;Docker å’Œ WSL2 çš„è¿è¡Œä¾èµ–äº CPU çš„è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€ &lt;strong&gt;ä»»åŠ¡ç®¡ç†å™¨ (Task Manager)&lt;/strong&gt; (&lt;code&gt;Ctrl + Shift + Esc&lt;/code&gt;)ã€‚&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢åˆ° &lt;strong&gt;æ€§èƒ½ (Performance)&lt;/strong&gt; -&amp;gt; &lt;strong&gt;CPU&lt;/strong&gt; é€‰é¡¹å¡ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹å³ä¸‹è§’çš„ &lt;strong&gt;è™šæ‹ŸåŒ– (Virtualization)&lt;/strong&gt; çŠ¶æ€ã€‚&lt;ul&gt;
&lt;li&gt;**å·²å¯ç”¨ (Enabled)**ï¼šâœ…é€šè¿‡ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ­¥ã€‚&lt;/li&gt;
&lt;li&gt;**å·²ç¦ç”¨ (Disabled)**ï¼šâŒéœ€è¦é‡å¯ç”µè„‘è¿›å…¥ BIOS å¼€å¯ã€‚ä¸åŒå“ç‰Œä¸»æ¿å¼€å¯æ–¹å¼ä¸åŒï¼ˆé€šå¸¸åœ¨ &lt;code&gt;Advanced&lt;/code&gt; -&amp;gt; &lt;code&gt;CPU Configuration&lt;/code&gt; -&amp;gt; &lt;code&gt;Intel VT-x&lt;/code&gt; æˆ– &lt;code&gt;AMD-V&lt;/code&gt;ï¼‰ï¼Œè¯·è‡ªè¡Œæœç´¢â€œä¸»æ¿å“ç‰Œ + å¼€å¯è™šæ‹ŸåŒ–â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç¬¬äºŒæ­¥ï¼šå®‰è£…-WSL-2&#34;&gt;&lt;a href=&#34;#ç¬¬äºŒæ­¥ï¼šå®‰è£…-WSL-2&#34; class=&#34;headerlink&#34; title=&#34;ç¬¬äºŒæ­¥ï¼šå®‰è£… WSL 2&#34;&gt;&lt;/a&gt;ç¬¬äºŒæ­¥ï¼šå®‰è£… WSL 2&lt;/h1&gt;&lt;p&gt;ç°åœ¨çš„ Windows å®‰è£… Linux å­ç³»ç»Ÿå·²ç»ç®€å•åˆ°ä»¤äººå‘æŒ‡ï¼Œä¸éœ€è¦å†å»æ§åˆ¶é¢æ¿å‹¾é€‰é‚£ä¸€å †å¤æ‚çš„â€œWindows åŠŸèƒ½â€äº†ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¼ æ ‡å³é”®ç‚¹å‡» &lt;strong&gt;å¼€å§‹èœå•&lt;/strong&gt;ï¼Œé€‰æ‹© &lt;strong&gt;ç»ˆç«¯ç®¡ç†å‘˜ (Terminal Admin)&lt;/strong&gt; æˆ– **PowerShell (ç®¡ç†å‘˜)**ã€‚&lt;/li&gt;
&lt;li&gt;è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶å›è½¦ï¼š&lt;figure class=&#34;highlight powershell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç­‰å¾…è¿›åº¦æ¡è·‘å®Œ&lt;/strong&gt;ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£… Ubuntu å‘è¡Œç‰ˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é‡å¯ç”µè„‘&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é‡å¯åçš„æ“ä½œ&lt;/strong&gt;ï¼š&lt;br&gt;ç”µè„‘é‡å¯åï¼Œä¼šè‡ªåŠ¨å¼¹å‡ºä¸€ä¸ªé»‘è‰²çš„ç»ˆç«¯çª—å£ï¼ˆUbuntuï¼‰ã€‚å®ƒä¼šæç¤ºä½ ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Enter new UNIX username: ï¼ˆè¾“å…¥ä½ æƒ³ç”¨çš„ç”¨æˆ·åï¼Œå…¨å°å†™ï¼Œå¦‚ &lt;code&gt;wang&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Enter new UNIX password: ï¼ˆè®¾ç½®å¯†ç ï¼Œè¾“å…¥æ—¶å±å¹•ä¸ä¼šæ˜¾ç¤ºï¼Œè¾“å®Œå›è½¦å³å¯ï¼‰&lt;/li&gt;
&lt;li&gt;Retype new UNIX password: ï¼ˆç¡®è®¤å¯†ç ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æå®šåï¼Œå¦‚æœä½ é€šè¿‡ &lt;code&gt;wsl -l -v&lt;/code&gt; å‘½ä»¤æŸ¥çœ‹ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ª &lt;code&gt;Ubuntu&lt;/code&gt; æ­£åœ¨è¿è¡Œï¼Œä¸” Version ä¸º 2ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç¬¬ä¸‰æ­¥ï¼šå®‰è£…-Docker-Desktop&#34;&gt;&lt;a href=&#34;#ç¬¬ä¸‰æ­¥ï¼šå®‰è£…-Docker-Desktop&#34; class=&#34;headerlink&#34; title=&#34;ç¬¬ä¸‰æ­¥ï¼šå®‰è£… Docker Desktop&#34;&gt;&lt;/a&gt;ç¬¬ä¸‰æ­¥ï¼šå®‰è£… Docker Desktop&lt;/h1&gt;&lt;p&gt;Docker Desktop æ˜¯ Docker åœ¨ Windows ä¸Šçš„å›¾å½¢åŒ–ç®¡ç†å·¥å…·ï¼Œå®ƒä¼šè‡ªåŠ¨æ¥ç®¡ WSL2 ä¸­çš„ Docker åç«¯ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‰å¾€ &lt;a href=&#34;https://www.docker.com/products/docker-desktop/&#34;&gt;Docker å®˜ç½‘&lt;/a&gt; ä¸‹è½½ &lt;strong&gt;Docker Desktop for Windows&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åŒå‡»å®‰è£…ã€‚&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šåœ¨å®‰è£…ç•Œé¢çš„ Configuration æ­¥éª¤ä¸­ï¼ŒåŠ¡å¿…å‹¾é€‰ï¼š&lt;ul&gt;
&lt;li&gt;âœ… &lt;strong&gt;Use WSL 2 instead of Hyper-V (recommended)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ Docker Desktopã€‚&lt;ul&gt;
&lt;li&gt;å®ƒå¯èƒ½ä¼šè®©ä½ ç™»å½•ï¼Œä½ å¯ä»¥é€‰æ‹© Skip æš‚æ—¶è·³è¿‡ã€‚&lt;/li&gt;
&lt;li&gt;çœ‹åˆ°å·¦ä¸‹è§’å˜ä¸º &lt;strong&gt;ç»¿è‰²&lt;/strong&gt; çš„ Engine runningï¼Œè¯´æ˜ Docker å¯åŠ¨æˆåŠŸã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å…³é”®é…ç½®ï¼šå¼€å¯ WSL é›†æˆ&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‚¹å‡» Docker Desktopå³ä¸Šè§’çš„é½¿è½®å›¾æ ‡ âš™ï¸ (Settings)ã€‚&lt;/li&gt;
&lt;li&gt;è¿›å…¥ &lt;strong&gt;Resources&lt;/strong&gt; -&amp;gt; &lt;strong&gt;WSL Integration&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç¡®ä¿ â€œEnable integration with my default WSL distroâ€ æ˜¯ &lt;strong&gt;å‹¾é€‰&lt;/strong&gt; çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸‹æ–¹å‡ºç°äº† &lt;code&gt;Ubuntu&lt;/code&gt; çš„å¼€å…³ï¼Œä¹ŸæŠŠå®ƒæ‰“å¼€ (Toggle On)ã€‚&lt;/li&gt;
&lt;li&gt;ç‚¹å‡» &lt;strong&gt;Apply &amp;amp; Restart&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç¬¬å››æ­¥ï¼šåˆ›å»ºå¹¶å¯åŠ¨-Laravel-é¡¹ç›®&#34;&gt;&lt;a href=&#34;#ç¬¬å››æ­¥ï¼šåˆ›å»ºå¹¶å¯åŠ¨-Laravel-é¡¹ç›®&#34; class=&#34;headerlink&#34; title=&#34;ç¬¬å››æ­¥ï¼šåˆ›å»ºå¹¶å¯åŠ¨ Laravel é¡¹ç›®&#34;&gt;&lt;/a&gt;ç¬¬å››æ­¥ï¼šåˆ›å»ºå¹¶å¯åŠ¨ Laravel é¡¹ç›®&lt;/h1&gt;&lt;p&gt;è§è¯å¥‡è¿¹çš„æ—¶åˆ»åˆ°äº†ã€‚æˆ‘ä»¬æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨ WSL (Ubuntu) ä¸­è¿›è¡Œã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ‰“å¼€ &lt;strong&gt;Windows Terminal&lt;/strong&gt;ï¼Œç‚¹å‡»æ ‡é¢˜æ çš„ä¸‹æ‹‰ç®­å¤´ï¼Œé€‰æ‹© &lt;strong&gt;Ubuntu&lt;/strong&gt; è¿™é‡Œå°±æ˜¯ä½ çš„ Linux ä¸–ç•Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;åˆ›å»ºå¹¶è¿›å…¥ä»£ç ç›®å½•&lt;/strong&gt;ï¼š&lt;br&gt;ä¸ºäº†ä¿æŒï¼ˆä¹Ÿå°±æ˜¯ Linux ç³»ç»Ÿé‡Œçš„å®¶ç›®å½•ï¼‰æ•´æ´ï¼Œæˆ‘ä»¬æ¨èæ–°å»ºä¸€ä¸ª &lt;code&gt;code&lt;/code&gt; æ–‡ä»¶å¤¹æ¥å­˜æ”¾æœªæ¥çš„æ‰€æœ‰é¡¹ç›®ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; ~&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;mkdir&lt;/span&gt; code&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; code&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç›´æ¥è¿è¡Œ Laravel å®˜æ–¹æ„å»ºå‘½ä»¤&lt;/strong&gt;ï¼š&lt;br&gt;æŠŠä¸‹é¢çš„ &lt;code&gt;example-app&lt;/code&gt; æ¢æˆä½ æƒ³è¦çš„é¡¹ç›®åå­—ï¼ˆæ¯”å¦‚ &lt;code&gt;blog&lt;/code&gt;ï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;curl -s https://laravel.build/example-app | bash&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è¿™è¡Œå‘½ä»¤ä¼šè‡ªåŠ¨æ‹‰å–ç”± Laravel å®˜æ–¹ç»´æŠ¤çš„ Docker é•œåƒï¼Œå¹¶å¼€å§‹ä¸‹è½½æ‰€æœ‰ä¾èµ–ã€‚ç¬¬ä¸€æ¬¡è¿è¡Œå¯èƒ½ä¼šå—ç½‘é€Ÿå½±å“ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼ˆå»ºè®®ç§‘å­¦ä¸Šç½‘ç¯å¢ƒï¼Œæˆ–è€…é…ç½® Docker é•œåƒåŠ é€Ÿï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;è¿›å…¥é¡¹ç›®ç›®å½•&lt;/strong&gt;ï¼š&lt;br&gt;å½“å‘½ä»¤è·‘å®Œï¼Œæç¤º â€œThank you! We hope you build something incredible.â€ æ—¶ï¼Œæ‰§è¡Œï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; example-app&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;é…ç½®å¿«æ·æŒ‡ä»¤ï¼ˆå¼ºçƒˆæ¨èï¼‰&lt;/strong&gt;ï¼š&lt;br&gt;æ¯æ¬¡éƒ½è¾“å…¥ &lt;code&gt;./vendor/bin/sail&lt;/code&gt; å¤ªéº»çƒ¦äº†ã€‚æˆ‘ä»¬é…ç½®ä¸€ä¸ª &lt;code&gt;sail&lt;/code&gt;åˆ«åï¼ˆå®˜æ–¹æ¨èåšæ³•ï¼‰ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;alias sail=&amp;#x27;[ -f sail ] &amp;amp;&amp;amp; bash sail || bash vendor/bin/sail&amp;#x27;&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;source&lt;/span&gt; ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;em&gt;è¿™æ ·ä»¥åä½ åœ¨ä»»ä½•ç›®å½•ä¸‹ï¼Œåªè¦æ•² &lt;code&gt;sail&lt;/code&gt; å°±èƒ½è°ƒç”¨å‘½ä»¤äº†ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;**å¯åŠ¨ Sail (Docker ç¯å¢ƒ)**ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sail up -d&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;up&lt;/code&gt;ï¼šå¯åŠ¨æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-d&lt;/code&gt;ï¼šåå°è¿è¡Œ (Detached mode)ï¼Œè¿™æ ·ä½ çš„ç»ˆç«¯çª—å£ä¸ä¼šè¢«æ—¥å¿—éœ¸å ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;ç¬¬ä¸€æ¬¡å¯åŠ¨ä¼šæ‹‰å– MySQLã€Redis ç­‰é•œåƒï¼Œå¯èƒ½éœ€è¦ä¸€ç‚¹æ—¶é—´ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç¬¬äº”æ­¥ï¼šéªŒè¯æˆæœ&#34;&gt;&lt;a href=&#34;#ç¬¬äº”æ­¥ï¼šéªŒè¯æˆæœ&#34; class=&#34;headerlink&#34; title=&#34;ç¬¬äº”æ­¥ï¼šéªŒè¯æˆæœ&#34;&gt;&lt;/a&gt;ç¬¬äº”æ­¥ï¼šéªŒè¯æˆæœ&lt;/h1&gt;&lt;p&gt;æ‰“å¼€ä½ çš„æµè§ˆå™¨ï¼ˆChrome&amp;#x2F;Edgeï¼‰ï¼Œåœ¨åœ°å€æ è¾“å…¥ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&#34;http://localhost/&#34;&gt;http://localhost&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœä½ çœ‹åˆ°é‚£ä¸ªå·¨å¤§çš„ã€çº¢è‰²çš„ï¼ˆæˆ–ç™½è‰²çš„ï¼‰Laravel Logoï¼Œä»¥åŠé†’ç›®çš„ç‰ˆæœ¬å·ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ‰ &lt;strong&gt;æ­å–œä½ ï¼ä½ å·²ç»æˆåŠŸåœ¨ Windows ä¸Šéƒ¨ç½²äº†ä¸€å¥—æœ€å…ˆè¿›çš„ Laravel Docker å¼€å‘ç¯å¢ƒï¼&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½ çš„ç”µè„‘é‡Œæ²¡æœ‰å®‰è£… PHPã€‚&lt;/li&gt;
&lt;li&gt;ä½ çš„ç”µè„‘é‡Œæ²¡æœ‰å®‰è£… MySQLã€‚&lt;/li&gt;
&lt;li&gt;ä½ çš„ç”µè„‘é‡Œæ²¡æœ‰å®‰è£… Nginxã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä½†å®ƒä»¬éƒ½åœ¨ä¸ºä½ æœåŠ¡ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ä¸‹é›†é¢„å‘Š&#34;&gt;&lt;a href=&#34;#ä¸‹é›†é¢„å‘Š&#34; class=&#34;headerlink&#34; title=&#34;ä¸‹é›†é¢„å‘Š&#34;&gt;&lt;/a&gt;ä¸‹é›†é¢„å‘Š&lt;/h1&gt;&lt;p&gt;ç¯å¢ƒé€šäº†ï¼Œä»£ç ä¹Ÿåœ¨è·‘äº†ã€‚ä½†æˆ‘ä»¬æ€ä¹ˆæŠŠä»£ç å­˜èµ·æ¥ï¼Ÿæ€ä¹ˆåœ¨å…¬å¸å†™ä¸€åŠï¼Œå›å®¶æ¢å°ç”µè„‘æ‹‰ä¸‹æ¥æ¥ç€å†™ï¼Ÿ&lt;br&gt;ä¸‹ä¸€ç¯‡ï¼š&lt;strong&gt;ã€ŠLaravel Sail å¼€å‘ç¯å¢ƒéƒ¨ç½²ä¸€æŠŠè¿‡ï¼ˆGit åŒæ­¥ä¸å¤šæœºå¼€å‘ç¯‡ï¼‰ã€‹&lt;/strong&gt;ï¼Œæˆ‘ä»¬å°†é…ç½® GitHub ä»“åº“ï¼Œå¹¶æ¼”ç¤ºâ€œå¼‚åœ°å¼€å‘ï¼Œæ— æ„Ÿåˆ‡æ¢â€çš„ä¸æ»‘ä½“éªŒã€‚&lt;/p&gt;
</content>
        <category term="Laravel" />
        <category term="Docker" />
        <category term="Sail" />
        <category term="WSL2" />
        <updated>2026-01-23T10:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2025/10/13/80.%20Laravel%20%E9%A1%B9%E7%9B%AE%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E5%90%8E%EF%BC%8C%E8%B5%84%E6%BA%90%E9%93%BE%E6%8E%A5%E5%A4%9A%E5%87%BA%E4%B8%AA%2080%20%E7%AB%AF%E5%8F%A3%E5%AD%97%E6%A0%B7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</id>
        <title>Laravel é¡¹ç›®å®¹å™¨åŒ–éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒåï¼Œèµ„æºé“¾æ¥å¤šå‡ºä¸ª 80 ç«¯å£å­—æ ·è§£å†³æ–¹æ¡ˆ</title>
        <link rel="alternate" href="https://nightingalewk.cn/2025/10/13/80.%20Laravel%20%E9%A1%B9%E7%9B%AE%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E5%90%8E%EF%BC%8C%E8%B5%84%E6%BA%90%E9%93%BE%E6%8E%A5%E5%A4%9A%E5%87%BA%E4%B8%AA%2080%20%E7%AB%AF%E5%8F%A3%E5%AD%97%E6%A0%B7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
        <content type="html">&lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªåŸºäº Laravel 12 + Filament v4 çš„é¡¹ç›®ï¼ˆä»£å·â€œåœŸè±†é£Ÿå ‚â€ï¼‰ï¼Œä½¿ç”¨ Docker Compose å®¹å™¨åŒ–éƒ¨ç½²ï¼Œåç«¯ Nginx + PHP-FPMï¼Œå‰ç«¯é€šè¿‡ Nginx Proxy Manager (NPM) å®ç° HTTPS åå‘ä»£ç†ã€‚éƒ¨ç½²å®Œæˆåï¼Œä¸€åˆ‡çœ‹ä¼¼æ­£å¸¸ï¼Œä½†è®¿é—®åº”ç”¨æ—¶å‘ç°å‰ç«¯èµ„æºï¼ˆå¦‚ Filament çš„ &lt;code&gt;app.js&lt;/code&gt;ï¼‰çš„ URL è¢«é”™è¯¯ç”Ÿæˆæˆ &lt;code&gt;https://lynx.wkarrow.top:80/js/filament/filament/app.js?v=4.1.6.0&lt;/code&gt;ï¼Œå¤šå‡ºçš„ &lt;code&gt;:80&lt;/code&gt; ç«¯å£å¯¼è‡´æµè§ˆå™¨æ— æ³•åŠ è½½èµ„æºï¼ŒæŠ¥ 404 é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸æ˜¯ä»£ç  bugï¼Œè€Œæ˜¯å…¸å‹çš„ HTTPS ä»£ç†åˆ° HTTP åç«¯çš„å¤´éƒ¨ä¼ é€’é—®é¢˜ã€‚NPM é»˜è®¤å°† &lt;code&gt;X-Forwarded-Port&lt;/code&gt; è®¾ç½®ä¸ºåç«¯ç«¯å£ 80ï¼Œè€Œ Laravel åœ¨ç”Ÿæˆèµ„äº§ URL æ—¶ä¼šæ ¹æ®æ­¤å¤´éƒ¨é™„åŠ ç«¯å£ï¼Œå¯¼è‡´ä¸ HTTPS scheme ä¸åŒ¹é…ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡è®°å½•äº†é—®é¢˜æ’æŸ¥ä¸æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼Œé‡ç‚¹åˆ†äº«åç«¯ Nginx çš„å¤‡é€‰ä¿®å¤æ–¹æ³•ï¼ˆé€‚ç”¨äº NPM é…ç½®æ— æ•ˆçš„æƒ…å†µï¼‰ã€‚å¸Œæœ›å¯¹ç±»ä¼¼éƒ¨ç½²é‡åˆ°å‘çš„å¼€å‘è€…æœ‰å¸®åŠ©ï¼&lt;/p&gt;
&lt;h2 id=&#34;é—®é¢˜å¤ç°ä¸åˆ†æ&#34;&gt;&lt;a href=&#34;#é—®é¢˜å¤ç°ä¸åˆ†æ&#34; class=&#34;headerlink&#34; title=&#34;é—®é¢˜å¤ç°ä¸åˆ†æ&#34;&gt;&lt;/a&gt;é—®é¢˜å¤ç°ä¸åˆ†æ&lt;/h2&gt;&lt;h3 id=&#34;ç¯å¢ƒæ¦‚è¿°&#34;&gt;&lt;a href=&#34;#ç¯å¢ƒæ¦‚è¿°&#34; class=&#34;headerlink&#34; title=&#34;ç¯å¢ƒæ¦‚è¿°&#34;&gt;&lt;/a&gt;ç¯å¢ƒæ¦‚è¿°&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¡¹ç›®&lt;/strong&gt;ï¼šLaravel 12 + Filament v4ï¼Œä½¿ç”¨ Vite æ„å»ºå‰ç«¯èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éƒ¨ç½²&lt;/strong&gt;ï¼šDocker Composeï¼ˆ&lt;code&gt;docker-compose.internet.yml&lt;/code&gt;ï¼‰ï¼ŒåŒ…å« app (PHP-FPM)ã€nginxã€mysqlã€redis ç­‰æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»£ç†&lt;/strong&gt;ï¼šNPM ç›‘å¬ 443 ç«¯å£ï¼Œå¼ºåˆ¶ HTTPSï¼Œè½¬å‘åˆ°åç«¯ Nginx çš„ 80 ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Nginx é…ç½®&lt;/strong&gt;ï¼š&lt;code&gt;default.conf&lt;/code&gt; ä¸­å·²ä¼ é€’ &lt;code&gt;X-Forwarded-*&lt;/code&gt; å¤´éƒ¨åˆ° PHP-FPMã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ•…éšœç°è±¡&#34;&gt;&lt;a href=&#34;#æ•…éšœç°è±¡&#34; class=&#34;headerlink&#34; title=&#34;æ•…éšœç°è±¡&#34;&gt;&lt;/a&gt;æ•…éšœç°è±¡&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;æ­£å¸¸é¢„æœŸï¼š&lt;code&gt;https://lynx.wkarrow.top/js/filament/filament/app.js?v=4.1.6.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®é™…ç”Ÿæˆï¼š&lt;code&gt;https://lynx.wkarrow.top:80/js/filament/filament/app.js?v=4.1.6.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å½±å“ï¼šæµè§ˆå™¨ Network é¢æ¿æ˜¾ç¤ºèµ„æº 404ï¼Œåº”ç”¨ç•Œé¢ JS&amp;#x2F;CSS åŠ è½½å¤±è´¥ï¼ŒFilament é¢æ¿æ— æ³•äº¤äº’ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ ¹å› åˆ†æ&#34;&gt;&lt;a href=&#34;#æ ¹å› åˆ†æ&#34; class=&#34;headerlink&#34; title=&#34;æ ¹å› åˆ†æ&#34;&gt;&lt;/a&gt;æ ¹å› åˆ†æ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;NPM ä½œä¸ºå‰ç«¯ä»£ç†ï¼Œæ·»åŠ  &lt;code&gt;X-Forwarded-Proto: https&lt;/code&gt; å’Œ &lt;code&gt;X-Forwarded-Port: 80&lt;/code&gt;ï¼ˆåç«¯ç«¯å£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åç«¯ Nginx å°†è¿™äº›å¤´éƒ¨ä¼ é€’ç»™ PHP-FPMï¼ˆ&lt;code&gt;fastcgi_param HTTP_X_FORWARDED_PORT $http_x_forwarded_port;&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Laravel çš„ &lt;code&gt;Request&lt;/code&gt; å¯¹è±¡ä¿¡ä»»ä»£ç†å¤´éƒ¨ï¼ˆ&lt;code&gt;config/trustedproxies.php&lt;/code&gt;ï¼‰ï¼Œè¯»å– &lt;code&gt;X-Forwarded-Port=80&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;URL ç”Ÿæˆå™¨ï¼ˆå¦‚ &lt;code&gt;asset()&lt;/code&gt; æˆ– Filament çš„èµ„æº URLï¼‰æ£€æµ‹åˆ°ç«¯å£é HTTPS é»˜è®¤ 443ï¼Œæ•…é™„åŠ  &lt;code&gt;:80&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å‚è€ƒ Laravel 12 æ–‡æ¡£ï¼ˆHTTP Requests éƒ¨åˆ†ï¼‰ï¼š&lt;code&gt;request()-&amp;gt;getPort()&lt;/code&gt; ä¼˜å…ˆä» &lt;code&gt;X-Forwarded-Port&lt;/code&gt; å–å€¼ï¼Œå¯¼è‡´ç•¸å½¢ URLã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¸¸è§ç—›ç‚¹ï¼Œå°¤å…¶åœ¨ Docker + åå‘ä»£ç†ç¯å¢ƒä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³æ–¹æ¡ˆ&#34;&gt;&lt;a href=&#34;#è§£å†³æ–¹æ¡ˆ&#34; class=&#34;headerlink&#34; title=&#34;è§£å†³æ–¹æ¡ˆ&#34;&gt;&lt;/a&gt;è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;&lt;p&gt;æˆ‘å…ˆå°è¯•äº†åœ¨ NPM çš„ Advanced é€‰é¡¹å¡æ·»åŠ  &lt;code&gt;proxy_set_header X-Forwarded-Port 443;&lt;/code&gt;ï¼Œä½†ç”±äº NPM çš„è‡ªå®šä¹‰é…ç½®æœ‰æ—¶ä¸ç¨³å®šï¼ˆå¯èƒ½ä¸ç‰ˆæœ¬æˆ–ç¼“å­˜ç›¸å…³ï¼‰ï¼Œæœ€ç»ˆé€‰æ‹©äº†åç«¯ Nginx çš„å¤‡é€‰ä¿®å¤â€”â€”ç›´æ¥åœ¨ &lt;code&gt;default.conf&lt;/code&gt; ä¸­è¦†ç›–ç«¯å£é€»è¾‘ã€‚è¿™æ–¹æ³•æ›´å¯é ï¼Œä¸”ä¸ä¾èµ–ä»£ç†å·¥å…·ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ­¥éª¤ï¼šä¿®æ”¹åç«¯-Nginx-é…ç½®&#34;&gt;&lt;a href=&#34;#æ­¥éª¤ï¼šä¿®æ”¹åç«¯-Nginx-é…ç½®&#34; class=&#34;headerlink&#34; title=&#34;æ­¥éª¤ï¼šä¿®æ”¹åç«¯ Nginx é…ç½®&#34;&gt;&lt;/a&gt;æ­¥éª¤ï¼šä¿®æ”¹åç«¯ Nginx é…ç½®&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/strong&gt;ï¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼Œæ‰“å¼€ &lt;code&gt;./docker-internet/nginx/default.conf&lt;/code&gt;ï¼ˆæˆ–æŒ‚è½½è·¯å¾„ &lt;code&gt;/etc/nginx/conf.d/default.conf&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;å®šä½ PHP å¤„ç†å—&lt;/strong&gt;ï¼šæ‰¾åˆ° &lt;code&gt;location ~ \.php$&lt;/code&gt; éƒ¨åˆ†ï¼ˆå·²å­˜åœ¨ FastCGI é…ç½®ï¼‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;æ·»åŠ è¦†ç›–é€»è¾‘&lt;/strong&gt;ï¼šåœ¨ &lt;code&gt;fastcgi_param&lt;/code&gt; ç›¸å…³è¡Œåï¼Œæ’å…¥ä»¥ä¸‹ Nginx æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;location ~ \.php$ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    try_files $uri =404;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_split_path_info ^(.+\.php)(/.+)$;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_pass app:9000;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_index index.php;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    include fastcgi_params;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_param PATH_INFO $fastcgi_path_info;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    # åŸæœ‰å¤´éƒ¨ä¼ é€’&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_param HTTP_X_FORWARDED_FOR $http_x_forwarded_for;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_param HTTP_X_FORWARDED_PROTO $http_x_forwarded_proto;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_param HTTP_X_FORWARDED_HOST $http_x_forwarded_host;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_param HTTP_X_FORWARDED_PORT $http_x_forwarded_port;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    # æ–°å¢ï¼šåŸºäº proto è¦†ç›–ç«¯å£ï¼Œç¡®ä¿ HTTPS æ—¶ä¸º 443&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    set $real_port $http_x_forwarded_port;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    if ($http_x_forwarded_proto = &amp;quot;https&amp;quot;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        set $real_port &amp;quot;443&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fastcgi_param HTTP_X_FORWARDED_PORT $real_port;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è§£é‡Š&lt;/strong&gt;ï¼š&lt;ul&gt;
&lt;li&gt;&lt;code&gt;set $real_port $http_x_forwarded_port;&lt;/code&gt;ï¼šé»˜è®¤ä½¿ç”¨ä¼ å…¥ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;if ($http_x_forwarded_proto = &amp;quot;https&amp;quot;) &amp;#123; set $real_port &amp;quot;443&amp;quot;; &amp;#125;&lt;/code&gt;ï¼šå¦‚æœ scheme æ˜¯ HTTPSï¼Œåˆ™å¼ºåˆ¶è¦†ç›–ä¸º 443ï¼ˆå¿½ç•¥åç«¯ 80ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åç”¨ &lt;code&gt;$real_port&lt;/code&gt; æ›¿æ¢åŸå‚æ•°ï¼Œç¡®ä¿ Laravel è¯»å–æ­£ç¡®ç«¯å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ä¿å­˜å¹¶é‡å¯æœåŠ¡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo docker compose -f docker-compose.internet.yml restart nginx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;Nginx ä¼šä¼˜é›…é‡è½½ï¼Œæ— éœ€é‡å»ºæ•´ä¸ªå®¹å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;è¾…åŠ©ä¼˜åŒ–&lt;/strong&gt;ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¡®è®¤ &lt;code&gt;.env&lt;/code&gt; ä¸­çš„ &lt;code&gt;APP_URL=https://lynx.wkarrow.top&lt;/code&gt;ï¼ˆæ— ç«¯å£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ¸…é™¤ Laravel ç¼“å­˜ï¼š&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo docker compose -f docker-compose.internet.yml exec app php artisan config:clear&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo docker compose -f docker-compose.internet.yml exec app php artisan cache:clear&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo docker compose -f docker-compose.internet.yml exec app php artisan optimize&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;éªŒè¯ä¸æµ‹è¯•&#34;&gt;&lt;a href=&#34;#éªŒè¯ä¸æµ‹è¯•&#34; class=&#34;headerlink&#34; title=&#34;éªŒè¯ä¸æµ‹è¯•&#34;&gt;&lt;/a&gt;éªŒè¯ä¸æµ‹è¯•&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æµè§ˆå™¨æµ‹è¯•&lt;/strong&gt;ï¼šæ¸…ç©ºç¼“å­˜ï¼Œè®¿é—® &lt;code&gt;https://lynx.wkarrow.top&lt;/code&gt;ï¼Œæ‰“å¼€ F12 &amp;gt; Networkï¼Œæ£€æŸ¥èµ„æº URLï¼ˆå¦‚ &lt;code&gt;app.js&lt;/code&gt;ï¼‰æ˜¯å¦æ—  &lt;code&gt;:80&lt;/code&gt;ï¼Œå¹¶ç¡®è®¤ 200 OKã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‘½ä»¤è¡ŒéªŒè¯&lt;/strong&gt;ï¼š&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;curl -I https://lynx.wkarrow.top/js/filament/filament/app.js&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
é¢„æœŸè¿”å› 200ï¼Œæ— é‡å®šå‘æˆ– 404ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ—¥å¿—æ£€æŸ¥&lt;/strong&gt;ï¼šè‹¥ä»æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo docker compose -f docker-compose.internet.yml logs nginx app | grep -i &amp;quot;forwarded\|port&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¿®å¤åï¼ŒFilament é¢æ¿åŠ è½½é¡ºç•…ï¼Œå‰ç«¯äº¤äº’å®Œç¾ï¼&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“ä¸å»ºè®®&#34;&gt;&lt;a href=&#34;#æ€»ç»“ä¸å»ºè®®&#34; class=&#34;headerlink&#34; title=&#34;æ€»ç»“ä¸å»ºè®®&#34;&gt;&lt;/a&gt;æ€»ç»“ä¸å»ºè®®&lt;/h2&gt;&lt;p&gt;è¿™ä¸ªå‘è®©æˆ‘æ„è¯†åˆ°ï¼Œåœ¨å®¹å™¨åŒ–éƒ¨ç½²ä¸­ï¼Œä»£ç†å¤´éƒ¨çš„å¤„ç†è‡³å…³é‡è¦ã€‚ä¼˜å…ˆå°è¯• NPM çš„ Advanced é…ç½®ï¼Œå¦‚æœæ— æ•ˆï¼Œåç«¯ Nginx çš„ &lt;code&gt;if&lt;/code&gt; é€»è¾‘æ˜¯ç¨³å¦¥å¤‡é€‰ã€‚æœªæ¥æ›´æ–°é¡¹ç›®æ—¶ï¼Œè®°å¾— git pull åæ£€æŸ¥æ­¤é…ç½®æ˜¯å¦è¦†ç›–ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ‚¨ä¹Ÿé‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œæ¬¢è¿è¯„è®ºåŒºäº¤æµï¼é¡¹ç›®æºç åœ¨ &lt;a href=&#34;https://github.com/NightingaleWK/lynx&#34;&gt;GitHub&lt;/a&gt; å¼€æºä¸­ï¼Œæ˜Ÿæ ‡æ”¯æŒä¸‹ï½&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Laravel 12 æ–‡æ¡£ï¼šHTTP Requests&lt;/li&gt;
&lt;li&gt;Nginx Proxy Manager å®˜æ–¹æŒ‡å—ï¼šAdvanced Tab&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;æœ¬æ–‡åŸºäºå®é™…éƒ¨ç½²ç»éªŒæ’°å†™ï¼Œå¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿è®¨è®ºã€‚&lt;/em&gt;&lt;/p&gt;
</content>
        <category term="Laravel" />
        <category term="Docker" />
        <category term="Nginx" />
        <category term="åå‘ä»£ç†" />
        <category term="NPM" />
        <category term="HTTPS" />
        <category term="é—®é¢˜æ’æŸ¥" />
        <updated>2025-10-13T02:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2025/10/10/79.%20%E5%9C%A8%20Ubuntu%2024.04%20%E7%94%A8%20APT%20%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%9A%84%20Docker%20Engine%20%E7%9A%84%E6%96%B9%E6%B3%95/</id>
        <title>åœ¨ Ubuntu 24.04 ç”¨ APT å®‰è£…æœ€æ–°çš„ Docker Engine çš„æ–¹æ³•</title>
        <link rel="alternate" href="https://nightingalewk.cn/2025/10/10/79.%20%E5%9C%A8%20Ubuntu%2024.04%20%E7%94%A8%20APT%20%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%9A%84%20Docker%20Engine%20%E7%9A%84%E6%96%B9%E6%B3%95/"/>
        <content type="html">&lt;p&gt;æ–‡æœ¬å°†è®°å½•å½“å‰å¦‚ä½•åœ¨é˜¿é‡Œäº‘ CES æœåŠ¡å™¨ä¸Šï¼Œä½¿ç”¨ APT æ–¹å¼ï¼Œå®‰è£…æœ€æ–°çš„ Docker Engine åˆ° Ubuntu Server 24.04 ä¸Šã€‚ä¸»è¦è§£å†³çš„æ˜¯å›½å†…å› ç½‘ç»œç¯å¢ƒå¯¼è‡´çš„èµ„æºæ— æ³•ä¸‹è½½ã€è·å–çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å…¨éƒ¨æ“ä½œæ˜¯åŸºäº&lt;a href=&#34;https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository&#34;&gt;å®˜æ–¹çš„å®Œæ•´æ–‡æ¡£&lt;/a&gt;ï¼Œä»…å¯¹ç½‘ç»œæ•…éšœè¿›è¡Œäº†å¤„ç†ï¼Œå…¶ä»–æ­¥éª¤å‡æœªæ”¹å˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-è®¾ç½®-Docker-çš„-apt-å­˜å‚¨åº“&#34;&gt;&lt;a href=&#34;#1-è®¾ç½®-Docker-çš„-apt-å­˜å‚¨åº“&#34; class=&#34;headerlink&#34; title=&#34;1. è®¾ç½® Docker çš„ apt å­˜å‚¨åº“&#34;&gt;&lt;/a&gt;1. è®¾ç½® Docker çš„ apt å­˜å‚¨åº“&lt;/h2&gt;&lt;p&gt;åœ¨å…¨æ–°å¹²å‡€çš„æœåŠ¡å™¨ä¸Šï¼Œé…ç½® apt å­˜å‚¨åº“ï¼ŒåŸæœ¬å®˜æ–¹çš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Add Docker&amp;#x27;s official GPG key:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt-get update&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt-get install ca-certificates curl&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; install -m 0755 -d /etc/apt/keyrings&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;chmod&lt;/span&gt; a+r /etc/apt/keyrings/docker.asc&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Add the repository to Apt sources:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;string&#34;&gt;&amp;quot;deb [arch=&lt;span class=&#34;subst&#34;&gt;$(dpkg --print-architecture)&lt;/span&gt; signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;  &lt;span class=&#34;subst&#34;&gt;$(. /etc/os-release &amp;amp;&amp;amp; echo &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$&amp;#123;UBUNTU_CODENAME:-&lt;span class=&#34;variable&#34;&gt;$VERSION_CODENAME&lt;/span&gt;&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;/span&gt; stable&amp;quot;&lt;/span&gt; | \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;tee&lt;/span&gt; /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt-get update&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¾ˆæ˜æ˜¾ï¼ŒåŸºäº docker.com çš„èµ„æºéƒ½è¢«å¢™çš„ä¸ƒä¸ƒå…«å…«äº†ï¼Œæ ¹æœ¬æ— æ³•é¡ºåˆ©æ‰§è¡Œå®Œæ¯•ï¼Œæˆ‘ä»¬è¿™é‡Œæ›¿æ¢é˜¿é‡Œæºï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ·»åŠ é˜¿é‡Œäº‘é•œåƒç«™çš„ Docker GPG Key:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt update&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt install ca-certificates curl&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;install -m 0755 -d /etc/apt/keyrings&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | gpg --dearmor -o /etc/apt/keyrings/docker.gpg&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;chmod&lt;/span&gt; a+r /etc/apt/keyrings/docker.gpg&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ·»åŠ é˜¿é‡Œäº‘çš„ Docker APT è½¯ä»¶æºï¼ˆæ›¿æ¢å®˜æ–¹æºï¼‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;string&#34;&gt;&amp;quot;deb [arch=&lt;span class=&#34;subst&#34;&gt;$(dpkg --print-architecture)&lt;/span&gt; signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.aliyun.com/docker-ce/linux/ubuntu \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;  &lt;span class=&#34;subst&#34;&gt;$(. /etc/os-release &amp;amp;&amp;amp; echo &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$&amp;#123;UBUNTU_CODENAME:-&lt;span class=&#34;variable&#34;&gt;$VERSION_CODENAME&lt;/span&gt;&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt;)&lt;/span&gt; stable&amp;quot;&lt;/span&gt; | \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;built_in&#34;&gt;tee&lt;/span&gt; /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å†æ¬¡æ›´æ–°ç´¢å¼•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt update&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è¿™é‡Œï¼Œè‹¥æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ debian ç­‰å…¶ä»–çš„å‘è¡Œç‰ˆï¼Œåˆ™éœ€è¦å°†ä¸Šè¿°çš„ &lt;code&gt;https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg&lt;/code&gt; æ›¿æ¢ä¸º &lt;code&gt;https://mirrors.aliyun.com/docker-ce/linux/debian/gpg&lt;/code&gt; å³å¯ã€‚ä¹Ÿå°±æ˜¯ &lt;code&gt;ubuntu&lt;/code&gt; æ”¹ä¸º &lt;code&gt;debian&lt;/code&gt;ï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-å®‰è£…-Docker-åŒ…&#34;&gt;&lt;a href=&#34;#2-å®‰è£…-Docker-åŒ…&#34; class=&#34;headerlink&#34; title=&#34;2. å®‰è£… Docker åŒ…&#34;&gt;&lt;/a&gt;2. å®‰è£… Docker åŒ…&lt;/h2&gt;&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;sudo&lt;/span&gt; apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åç»­çš„æŒ‰ç…§å®˜æ–¹æ–‡æ¡£æ“ä½œå³å¯ï¼Œä¸å†èµ˜è¿°äº†ã€‚&lt;/p&gt;
</content>
        <category term="Docker" />
        <category term="Ubuntu" />
        <category term="å®‰è£…æŒ‡å—" />
        <category term="é˜¿é‡Œäº‘" />
        <category term="é•œåƒæº" />
        <updated>2025-10-10T02:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2025/10/09/78.%20Laravel%20%E9%A1%B9%E7%9B%AE%20Docker%20%E5%8C%96%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/</id>
        <title>Laravel é¡¹ç›® Docker åŒ–éƒ¨ç½²ä¸è¿ç»´æ‰‹å†Œ</title>
        <link rel="alternate" href="https://nightingalewk.cn/2025/10/09/78.%20Laravel%20%E9%A1%B9%E7%9B%AE%20Docker%20%E5%8C%96%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
        <content type="html">&lt;p&gt;æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†å¦‚ä½•å°† â€œåœŸè±†é£Ÿå ‚â€ (Lynx) è¿™ä¸ª Laravel 12 é¡¹ç›®é€šè¿‡ Docker è¿›è¡Œå®¹å™¨åŒ–æ‰“åŒ…ã€éƒ¨ç½²ã€è¿è¡ŒåŠæ—¥å¸¸ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ªäººé¡¹ç›®ï¼Œå·²å¼€æºï¼š&lt;a href=&#34;https://github.com/NightingaleWK/lynx&#34;&gt;https://github.com/NightingaleWK/lynx&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ã€ç¯å¢ƒå‡†å¤‡&#34;&gt;&lt;a href=&#34;#ä¸€ã€ç¯å¢ƒå‡†å¤‡&#34; class=&#34;headerlink&#34; title=&#34;ä¸€ã€ç¯å¢ƒå‡†å¤‡&#34;&gt;&lt;/a&gt;&lt;strong&gt;ä¸€ã€ç¯å¢ƒå‡†å¤‡&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„éƒ¨ç½²ç›®æ ‡æœºå™¨ï¼ˆä¾‹å¦‚ Windows 11ï¼‰å·²å®‰è£…å¹¶è¿è¡Œ Docker Desktopã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒã€é¡¹ç›®æ”¹é€ ï¼ˆé¦–æ¬¡éƒ¨ç½²éœ€æ‰§è¡Œï¼‰&#34;&gt;&lt;a href=&#34;#äºŒã€é¡¹ç›®æ”¹é€ ï¼ˆé¦–æ¬¡éƒ¨ç½²éœ€æ‰§è¡Œï¼‰&#34; class=&#34;headerlink&#34; title=&#34;äºŒã€é¡¹ç›®æ”¹é€ ï¼ˆé¦–æ¬¡éƒ¨ç½²éœ€æ‰§è¡Œï¼‰&#34;&gt;&lt;/a&gt;&lt;strong&gt;äºŒã€é¡¹ç›®æ”¹é€ ï¼ˆé¦–æ¬¡éƒ¨ç½²éœ€æ‰§è¡Œï¼‰&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ–‡ä»¶éœ€è¦åœ¨æ‚¨æœ¬åœ°çš„é¡¹ç›®ä»£ç ä¸­åˆ›å»ºã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-ç›®å½•ç»“æ„&#34;&gt;&lt;a href=&#34;#1-ç›®å½•ç»“æ„&#34; class=&#34;headerlink&#34; title=&#34;1. ç›®å½•ç»“æ„&#34;&gt;&lt;/a&gt;&lt;strong&gt;1. ç›®å½•ç»“æ„&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;ä¸ºäº†æ¸…æ™°åœ°åŒºåˆ†ç”Ÿäº§ç¯å¢ƒä¸ Sail å¼€å‘ç¯å¢ƒçš„é…ç½®ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰ç”Ÿäº§éƒ¨ç½²ç›¸å…³çš„æ–‡ä»¶éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªæ–°çš„ docker-prod ç›®å½•ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºå¦‚ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶ç»“æ„ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;your-laravel-project/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”œâ”€â”€ docker-prod/ # &amp;lt;-- æ–°å»ºï¼Œå­˜æ”¾æ‰€æœ‰ç”Ÿäº§ç¯å¢ƒé…ç½®&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚ â”œâ”€â”€ app/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚ â”‚ â””â”€â”€ Dockerfile&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚ â””â”€â”€ nginx/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”‚ â””â”€â”€ default.conf&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”œâ”€â”€ docker/# &amp;lt;-- è¿™æ˜¯ Sail çš„å¼€å‘ç¯å¢ƒç›®å½• (ä¿ç•™ä¸å˜)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â”œâ”€â”€ docker-compose.prod.yml# &amp;lt;-- æ–°å»º (æ³¨æ„æ–‡ä»¶å)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;â””â”€â”€ .dockerignore# &amp;lt;-- æ–°å»º&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶&#34;&gt;&lt;a href=&#34;#2-åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶&#34; class=&#34;headerlink&#34; title=&#34;2. åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶&#34;&gt;&lt;/a&gt;&lt;strong&gt;2. åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;è¯·æ ¹æ®åç»­æä¾›çš„æ–‡ä»¶å†…å®¹ï¼Œåœ¨æ‚¨çš„é¡¹ç›®ä¸­åˆ›å»ºæˆ–æ›¿æ¢ä»¥ä¸‹æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker-compose.prod.yml (æœåŠ¡ç¼–æ’æ–‡ä»¶)&lt;/li&gt;
&lt;li&gt;docker-prod&amp;#x2F;app&amp;#x2F;Dockerfile (PHP åº”ç”¨é•œåƒæ„å»ºæ–‡ä»¶)&lt;/li&gt;
&lt;li&gt;docker-prod&amp;#x2F;nginx&amp;#x2F;default.conf (Nginx é…ç½®æ–‡ä»¶)&lt;/li&gt;
&lt;li&gt;.dockerignore (Docker å¿½ç•¥æ–‡ä»¶)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-ä¿®æ”¹-Laravel-é…ç½®-env&#34;&gt;&lt;a href=&#34;#3-ä¿®æ”¹-Laravel-é…ç½®-env&#34; class=&#34;headerlink&#34; title=&#34;3. ä¿®æ”¹ Laravel é…ç½® (.env)&#34;&gt;&lt;/a&gt;&lt;strong&gt;3. ä¿®æ”¹ Laravel é…ç½® (.env)&lt;/strong&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;å¤åˆ¶ .env.example ä¸º .env æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®ä¿®æ”¹&lt;/strong&gt;ï¼šç¡®ä¿æ•°æ®åº“å’Œ Redis çš„ HOST æŒ‡å‘ Docker Compose ä¸­å®šä¹‰çš„æœåŠ¡åã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;APP_ENV=production&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;APP_DEBUG=false&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;APP_KEY= # ç•™ç©ºï¼Œåç»­ä¼šé€šè¿‡å‘½ä»¤ç”Ÿæˆ&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DB_CONNECTION=mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DB_HOST=mysql # &amp;lt;-- å¿…é¡»æ˜¯ mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DB_PORT=3306&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DB_DATABASE=lynx# æ‚¨çš„æ•°æ®åº“å&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DB_USERNAME=sail# æ‚¨çš„ç”¨æˆ·å&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DB_PASSWORD=password# æ‚¨çš„å¯†ç &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;CACHE_DRIVER=redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;QUEUE_CONNECTION=redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SESSION_DRIVER=redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;REDIS_HOST=redis# &amp;lt;-- å¿…é¡»æ˜¯ redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;REDIS_PASSWORD=null&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;REDIS_PORT=6379&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;4-ç”Ÿæˆ-SSL-è¯ä¹¦-å±€åŸŸç½‘-HTTPS&#34;&gt;&lt;a href=&#34;#4-ç”Ÿæˆ-SSL-è¯ä¹¦-å±€åŸŸç½‘-HTTPS&#34; class=&#34;headerlink&#34; title=&#34;4. ç”Ÿæˆ SSL è¯ä¹¦ (å±€åŸŸç½‘ HTTPS)&#34;&gt;&lt;/a&gt;&lt;strong&gt;4. ç”Ÿæˆ SSL è¯ä¹¦ (å±€åŸŸç½‘ HTTPS)&lt;/strong&gt;&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºç›®å½• docker-prod&amp;#x2F;certsã€‚&lt;/li&gt;
&lt;li&gt;æ‰“å¼€ç»ˆç«¯ (å¦‚ Git Bash æˆ– WSL)ï¼Œè¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;openssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout docker-prod/ certs/lynx-key.pem -out docker-prod/certs/lynx.pem&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;é‡è¦æç¤º&lt;/strong&gt;ï¼šåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“æç¤ºè¾“å…¥ Common Name æ—¶ï¼Œ&lt;strong&gt;è¯·è¾“å…¥æ‚¨éƒ¨ç½²æœºå™¨çš„å±€åŸŸç½‘ IP åœ°å€&lt;/strong&gt;ï¼ˆä¾‹å¦‚ 192.168.1.100ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œåï¼Œè¯·æ£€æŸ¥ docker-prod&amp;#x2F;certs ç›®å½•ä¸‹æ˜¯å¦å·²ç”Ÿæˆ lynx.pem å’Œ lynx-key.pem ä¸¤ä¸ªæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸‰ã€éƒ¨ç½²ä¸åˆå§‹åŒ–æµç¨‹&#34;&gt;&lt;a href=&#34;#ä¸‰ã€éƒ¨ç½²ä¸åˆå§‹åŒ–æµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;ä¸‰ã€éƒ¨ç½²ä¸åˆå§‹åŒ–æµç¨‹&#34;&gt;&lt;/a&gt;&lt;strong&gt;ä¸‰ã€éƒ¨ç½²ä¸åˆå§‹åŒ–æµç¨‹&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&#34;æ­¥éª¤-1ï¼šæ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰å®¹å™¨&#34;&gt;&lt;a href=&#34;#æ­¥éª¤-1ï¼šæ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰å®¹å™¨&#34; class=&#34;headerlink&#34; title=&#34;æ­¥éª¤ 1ï¼šæ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰å®¹å™¨&#34;&gt;&lt;/a&gt;&lt;strong&gt;æ­¥éª¤ 1ï¼šæ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰å®¹å™¨&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ã€‚æ­¤å‘½ä»¤ä¼šæ ¹æ® Dockerfile æ„å»ºåº”ç”¨é•œåƒï¼Œå¹¶ä»¥åå°æ¨¡å¼å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# --no-cache ç¡®ä¿ä½¿ç”¨æœ€æ–°çš„åŸºç¡€é•œåƒï¼Œé¿å…ç¼“å­˜é—®é¢˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# --build å¼ºåˆ¶é‡æ–°æ„å»ºé•œåƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml up -d --build --no-cache&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;æ­¥éª¤-2ï¼šåˆå§‹åŒ–-Laravel-åº”ç”¨&#34;&gt;&lt;a href=&#34;#æ­¥éª¤-2ï¼šåˆå§‹åŒ–-Laravel-åº”ç”¨&#34; class=&#34;headerlink&#34; title=&#34;æ­¥éª¤ 2ï¼šåˆå§‹åŒ– Laravel åº”ç”¨&#34;&gt;&lt;/a&gt;&lt;strong&gt;æ­¥éª¤ 2ï¼šåˆå§‹åŒ– Laravel åº”ç”¨&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;å®¹å™¨é¦–æ¬¡å¯åŠ¨åï¼Œæ•°æ®åº“æ˜¯ç©ºçš„ï¼Œåº”ç”¨ä¹Ÿæ²¡æœ‰é…ç½®å¯†é’¥ã€‚æˆ‘ä»¬éœ€è¦è¿›å…¥ app å®¹å™¨æ‰§è¡Œä¸€ç³»åˆ—åˆå§‹åŒ–å‘½ä»¤ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿæˆåº”ç”¨å¯†é’¥ (APP_KEY)&lt;/strong&gt;:&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; app php artisan key:generate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;è¿è¡Œæ•°æ®åº“è¿ç§»:&lt;br&gt;æ­¤å‘½ä»¤ä¼šæ ¹æ® database&amp;#x2F;migrations ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œåœ¨æ•°æ®åº“ä¸­åˆ›å»ºæ‰€æœ‰éœ€è¦çš„æ•°æ®è¡¨ï¼ˆåŒ…æ‹¬ cache è¡¨ç­‰ï¼‰ã€‚\&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; app php artisan migrate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¿®æ­£ storage ç›®å½•æƒé™:&lt;br&gt;è¿™æ˜¯è§£å†³ â€œPermission deniedâ€ é”™è¯¯çš„å…³é”®æ­¥éª¤ã€‚æ­¤å‘½ä»¤å°†å®¹å™¨å†…çš„ storage å’Œ bootstrap&amp;#x2F;cache ç›®å½•çš„æ‰€æœ‰æƒäº¤ç»™ php-fpm çš„è¿è¡Œç”¨æˆ· www-dataã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; app &lt;span class=&#34;built_in&#34;&gt;chown&lt;/span&gt; -R www-data:www-data storage bootstrap/cache&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ï¼ˆå¯é€‰ï¼‰å¡«å……æµ‹è¯•æ•°æ®:&lt;br&gt;å¦‚æœæ‚¨éœ€è¦åœ¨æµ‹è¯•æ—¶å¡«å……æ•°æ®ï¼Œå¯ä»¥è¿è¡Œæ­¤å‘½ä»¤ã€‚è¯·æ³¨æ„ï¼Œç”Ÿäº§ç¯å¢ƒä¸åº”æ‰§è¡Œæ­¤æ“ä½œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# --force å‚æ•°å¯ä»¥è·³è¿‡ç”Ÿäº§ç¯å¢ƒçš„ç¡®è®¤æç¤º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; app php artisan db:seed --force&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;æ³¨ï¼šè‹¥éœ€å¡«å……æ•°æ®ï¼Œè¯·ç¡®ä¿ Dockerfile ä¸­ composer install å‘½ä»¤&lt;strong&gt;æ²¡æœ‰&lt;/strong&gt;ä½¿ç”¨ â€“no-dev å‚æ•°ï¼Œä»¥ä¿è¯ Faker ç­‰å¼€å‘åŒ…è¢«å®‰è£…ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ­¥éª¤-3ï¼šè®¿é—®æ‚¨çš„åº”ç”¨&#34;&gt;&lt;a href=&#34;#æ­¥éª¤-3ï¼šè®¿é—®æ‚¨çš„åº”ç”¨&#34; class=&#34;headerlink&#34; title=&#34;æ­¥éª¤ 3ï¼šè®¿é—®æ‚¨çš„åº”ç”¨&#34;&gt;&lt;/a&gt;&lt;strong&gt;æ­¥éª¤ 3ï¼šè®¿é—®æ‚¨çš„åº”ç”¨&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œæ‚¨çš„åº”ç”¨å·²ç»æˆåŠŸéƒ¨ç½²å¹¶è¿è¡Œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® https:&amp;#x2F;&amp;#x2F;&amp;lt;æ‚¨çš„éƒ¨ç½²æœºå™¨ IP&amp;gt;ã€‚&lt;/li&gt;
&lt;li&gt;æµè§ˆå™¨ä¼šæç¤ºè¯ä¹¦ä¸å®‰å…¨ï¼Œè¯·é€‰æ‹©â€œé«˜çº§â€ -&amp;gt; â€œç»§ç»­å‰å¾€â€ã€‚&lt;/li&gt;
&lt;li&gt;æ‚¨åº”è¯¥èƒ½çœ‹åˆ° Laravel çš„æ¬¢è¿é¡µé¢æˆ–æ‚¨çš„åº”ç”¨é¦–é¡µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å››ã€æ—¥å¸¸è¿ç»´å‘½ä»¤&#34;&gt;&lt;a href=&#34;#å››ã€æ—¥å¸¸è¿ç»´å‘½ä»¤&#34; class=&#34;headerlink&#34; title=&#34;å››ã€æ—¥å¸¸è¿ç»´å‘½ä»¤&#34;&gt;&lt;/a&gt;&lt;strong&gt;å››ã€æ—¥å¸¸è¿ç»´å‘½ä»¤&lt;/strong&gt;&lt;/h2&gt;&lt;h3 id=&#34;å¯åŠ¨-åœæ­¢æœåŠ¡&#34;&gt;&lt;a href=&#34;#å¯åŠ¨-åœæ­¢æœåŠ¡&#34; class=&#34;headerlink&#34; title=&#34;å¯åŠ¨&amp;#x2F;åœæ­¢æœåŠ¡&#34;&gt;&lt;/a&gt;&lt;strong&gt;å¯åŠ¨&amp;#x2F;åœæ­¢æœåŠ¡&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¯åŠ¨æ‰€æœ‰æœåŠ¡&lt;/strong&gt; (åå°è¿è¡Œ):&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml up -d&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åœæ­¢å¹¶ç§»é™¤æ‰€æœ‰å®¹å™¨&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml down&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;æ­¤æ“ä½œä¸ä¼šåˆ é™¤æ•°æ®åº“å’Œ Redis çš„æŒä¹…åŒ–æ•°æ®ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;æŸ¥çœ‹çŠ¶æ€ä¸æ—¥å¿—&#34;&gt;&lt;a href=&#34;#æŸ¥çœ‹çŠ¶æ€ä¸æ—¥å¿—&#34; class=&#34;headerlink&#34; title=&#34;æŸ¥çœ‹çŠ¶æ€ä¸æ—¥å¿—&#34;&gt;&lt;/a&gt;&lt;strong&gt;æŸ¥çœ‹çŠ¶æ€ä¸æ—¥å¿—&lt;/strong&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„è¿è¡ŒçŠ¶æ€&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml ps&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çš„æ—¥å¿—&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml logs -f&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åªçœ‹ç‰¹å®šæœåŠ¡çš„æ—¥å¿—&lt;/strong&gt; (ä¾‹å¦‚ app æˆ– queue-worker):&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml logs -f app&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml logs -f queue-worker&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;ä»£ç æ›´æ–°æµç¨‹&#34;&gt;&lt;a href=&#34;#ä»£ç æ›´æ–°æµç¨‹&#34; class=&#34;headerlink&#34; title=&#34;ä»£ç æ›´æ–°æµç¨‹&#34;&gt;&lt;/a&gt;&lt;strong&gt;ä»£ç æ›´æ–°æµç¨‹&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;å½“æ‚¨é€šè¿‡ git pull æ›´æ–°äº†é¡¹ç›®ä»£ç åï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é‡æ–°æ„å»ºé•œåƒå¹¶é‡å¯æœåŠ¡&lt;/strong&gt;:&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml up -d --build&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;ï¼ˆå¦‚æœéœ€è¦ï¼‰è¿è¡Œæ–°çš„æ•°æ®åº“è¿ç§»&lt;/strong&gt;:&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; app php artisan migrate --force&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;ï¼ˆæ¨èï¼‰æ¸…ç†å¹¶é‡å»ºé…ç½®ç¼“å­˜&lt;/strong&gt;:&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; app php artisan optimize:clear&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;æ‰§è¡Œ-Artisan-å‘½ä»¤&#34;&gt;&lt;a href=&#34;#æ‰§è¡Œ-Artisan-å‘½ä»¤&#34; class=&#34;headerlink&#34; title=&#34;æ‰§è¡Œ Artisan å‘½ä»¤&#34;&gt;&lt;/a&gt;&lt;strong&gt;æ‰§è¡Œ Artisan å‘½ä»¤&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;æ‚¨å¯ä»¥åœ¨ app å®¹å™¨å†…æ‰§è¡Œä»»ä½• Artisan å‘½ä»¤ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker-compose -f docker-compose.prod.yml &lt;span class=&#34;built_in&#34;&gt;exec&lt;/span&gt; app php artisan &amp;lt;æ‚¨çš„å‘½ä»¤&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;äº”ã€å®Œæ•´é…ç½®æ–‡ä»¶ä»£ç &#34;&gt;&lt;a href=&#34;#äº”ã€å®Œæ•´é…ç½®æ–‡ä»¶ä»£ç &#34; class=&#34;headerlink&#34; title=&#34;äº”ã€å®Œæ•´é…ç½®æ–‡ä»¶ä»£ç &#34;&gt;&lt;/a&gt;&lt;strong&gt;äº”ã€å®Œæ•´é…ç½®æ–‡ä»¶ä»£ç &lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;ä¸ºäº†æ–¹ä¾¿æ‚¨å¿«é€Ÿéƒ¨ç½²ï¼Œä»¥ä¸‹æä¾›äº†æ–‡ä¸­æåŠçš„æ‰€æœ‰é…ç½®æ–‡ä»¶çš„å®Œæ•´ä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-docker-prod-app-Dockerfile&#34;&gt;&lt;a href=&#34;#1-docker-prod-app-Dockerfile&#34; class=&#34;headerlink&#34; title=&#34;1. docker-prod&amp;#x2F;app&amp;#x2F;Dockerfile&#34;&gt;&lt;/a&gt;&lt;strong&gt;1. docker-prod&amp;#x2F;app&amp;#x2F;Dockerfile&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;æ­¤æ–‡ä»¶å®šä¹‰äº† PHP åº”ç”¨å®¹å™¨çš„æ„å»ºè§„åˆ™ï¼ŒåŸºäº PHP 8.4 FPM Alpine é•œåƒï¼Œå¹¶å®‰è£…äº† Laravel æ‰€éœ€çš„æ‰€æœ‰æ‰©å±•ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight dockerfile&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 1. åŸºç¡€é•œåƒå‡çº§åˆ° PHP 8.4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; php:&lt;span class=&#34;number&#34;&gt;8.4&lt;/span&gt;-fpm-alpine&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®å·¥ä½œç›®å½•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;WORKDIR&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; /var/www/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 2. ä¼˜åŒ–æ„å»ºè¿‡ç¨‹ï¼šåˆå¹¶ä¾èµ–å®‰è£…ï¼Œå¹¶ä½¿ç”¨ virtual group ä»¥ä¾¿åç»­æ¸…ç†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;RUN&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; apk add --no-cache \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# æ ¸å¿ƒç³»ç»Ÿå·¥å…·&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    zip \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    unzip \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# PHP æ‰©å±•ä¾èµ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    libzip-dev \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    libpng-dev \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    jpeg-dev \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    freetype-dev \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    icu-dev \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# åˆ›å»ºä¸€ä¸ªåä¸º .build-deps çš„ä¸´æ—¶æ„å»ºä¾èµ–ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;amp;&amp;amp; apk &lt;span class=&#34;keyword&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; --no-cache --virtual .build-deps \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    &lt;span class=&#34;variable&#34;&gt;$PHPIZE_DEPS&lt;/span&gt; \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    zlib-dev \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    linux-headers&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 3. å€Ÿé‰´ Sailï¼Œè¡¥å…¨ Laravel æ‰€éœ€çš„æ ¸å¿ƒæ‰©å±•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;RUN&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; docker-php-ext-configure gd --with-freetype --with-jpeg \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    &amp;amp;&amp;amp; docker-php-ext-install -j$(&lt;span class=&#34;built_in&#34;&gt;nproc&lt;/span&gt;) \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    pdo_mysql \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    bcmath \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    gd \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    exif \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    intl \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    zip \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    pcntl \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    sockets \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    &amp;amp;&amp;amp; pecl install redis \&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-bash&#34;&gt;    &amp;amp;&amp;amp; docker-php-ext-enable redis&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 4. æ¸…ç†å·¥ä½œï¼šåˆ é™¤ä¸´æ—¶çš„æ„å»ºä¾èµ–ï¼Œå‡å°é•œåƒä½“ç§¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;RUN&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; apk del .build-deps&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å®‰è£… Composer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;COPY&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; --from=composer:latest /usr/bin/composer /usr/bin/composer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ‹·è´ composer æ–‡ä»¶å¹¶å®‰è£…ä¾èµ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;COPY&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; composer.json composer.lock ./&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–ï¼šä¸å®‰è£…å¼€å‘ä¾èµ–ï¼Œå¹¶ä¼˜åŒ–è‡ªåŠ¨åŠ è½½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ³¨æ„ï¼šå¦‚æœéœ€è¦åœ¨å®¹å™¨å†…è¿è¡Œ seederï¼Œè¯·æš‚æ—¶ç§»é™¤ --no-dev å‚æ•°å¹¶é‡æ–°æ„å»º&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;RUN&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; composer install --no-interaction --no-plugins --no-scripts --prefer-dist --no-dev -o&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ‹·è´é¡¹ç›®ä»£ç &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;COPY&lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt; . .&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ³¨æ„ï¼šæƒé™é—®é¢˜å°†åœ¨é¦–æ¬¡å¯åŠ¨åé€šè¿‡ exec å‘½ä»¤è§£å†³ï¼Œä»¥ç¡®ä¿ä¸å®¿ä¸»æœºæŒ‚è½½çš„ç›®å½•æƒé™æ­£ç¡®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# RUN chown -R www-data:www-data /var/www/html/storage /var/www/html/bootstrap/cache&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æš´éœ² 9000 ç«¯å£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;EXPOSE&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;9000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-docker-prod-nginx-default-conf&#34;&gt;&lt;a href=&#34;#2-docker-prod-nginx-default-conf&#34; class=&#34;headerlink&#34; title=&#34;2. docker-prod&amp;#x2F;nginx&amp;#x2F;default.conf&#34;&gt;&lt;/a&gt;&lt;strong&gt;2. docker-prod&amp;#x2F;nginx&amp;#x2F;default.conf&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;æ­¤æ–‡ä»¶å®šä¹‰äº† Nginx çš„é…ç½®è§„åˆ™ï¼Œå®ç°äº† HTTP åˆ° HTTPS çš„è‡ªåŠ¨é‡å®šå‘ï¼Œå¹¶é…ç½®äº† SSL è¯ä¹¦å’Œ PHP-FPM çš„è½¬å‘è§„åˆ™ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight nginx&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;section&#34;&gt;server&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;listen&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;80&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;server_name&lt;/span&gt; _; &lt;span class=&#34;comment&#34;&gt;# åŒ¹é…ä»»ä½•ä¸»æœºå&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;301&lt;/span&gt; https://&lt;span class=&#34;variable&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;variable&#34;&gt;$request_uri&lt;/span&gt;; &lt;span class=&#34;comment&#34;&gt;# å°†æ‰€æœ‰ HTTP è¯·æ±‚é‡å®šå‘åˆ° HTTPS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;section&#34;&gt;server&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;listen&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;443&lt;/span&gt; ssl;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;server_name&lt;/span&gt; _;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# SSL è¯ä¹¦é…ç½®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;ssl_certificate&lt;/span&gt; /etc/nginx/certs/lynx.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;ssl_certificate_key&lt;/span&gt; /etc/nginx/certs/lynx-key.pem;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;ssl_protocols&lt;/span&gt; TLSv1.&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; TLSv1.&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;root&lt;/span&gt; /var/www/html/public;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attribute&#34;&gt;index&lt;/span&gt; index.php index.html;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;section&#34;&gt;location&lt;/span&gt; / &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;try_files&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;$uri&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;$uri&lt;/span&gt;/ /index.php?&lt;span class=&#34;variable&#34;&gt;$query_string&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;section&#34;&gt;location&lt;/span&gt; &lt;span class=&#34;regexp&#34;&gt;~ \.php$&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;try_files&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;$uri&lt;/span&gt; =&lt;span class=&#34;number&#34;&gt;404&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;fastcgi_split_path_info&lt;/span&gt;&lt;span class=&#34;regexp&#34;&gt; ^(.+\.php)(/.+)$&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;# æ³¨æ„è¿™é‡Œçš„ fastcgi_pass æŒ‡å‘çš„æ˜¯ app æœåŠ¡çš„åç§°å’Œç«¯å£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;fastcgi_pass&lt;/span&gt; app:&lt;span class=&#34;number&#34;&gt;9000&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;fastcgi_index&lt;/span&gt; index.php;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;include&lt;/span&gt; fastcgi_params;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;fastcgi_param&lt;/span&gt; SCRIPT_FILENAME &lt;span class=&#34;variable&#34;&gt;$document_root&lt;/span&gt;&lt;span class=&#34;variable&#34;&gt;$fastcgi_script_name&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;fastcgi_param&lt;/span&gt; PATH_INFO &lt;span class=&#34;variable&#34;&gt;$fastcgi_path_info&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;section&#34;&gt;location&lt;/span&gt; &lt;span class=&#34;regexp&#34;&gt;~ /\.ht&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attribute&#34;&gt;deny&lt;/span&gt; all;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;3-docker-compose-prod-yml&#34;&gt;&lt;a href=&#34;#3-docker-compose-prod-yml&#34; class=&#34;headerlink&#34; title=&#34;3. docker-compose.prod.yml&#34;&gt;&lt;/a&gt;&lt;strong&gt;3. docker-compose.prod.yml&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;æ­¤æ–‡ä»¶æ˜¯ Docker Compose çš„æœåŠ¡ç¼–æ’é…ç½®ï¼Œå®šä¹‰äº†åº”ç”¨æ‰€éœ€çš„æ‰€æœ‰æœåŠ¡ï¼šPHP åº”ç”¨ã€Nginxã€MySQLã€Redis å’Œé˜Ÿåˆ—å¤„ç†å™¨ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight yaml&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;110&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;services:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# 1. Laravel åº”ç”¨æœåŠ¡ (PHP-FPM)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;app:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;build:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;context:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;dockerfile:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;docker-prod/app/Dockerfile&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx_app&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;working_dir:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/var/www/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./:/var/www/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨åŒ¿åå·ä¿æŠ¤é•œåƒä¸­å·²æ„å»ºçš„ vendor å’Œ node_modules ç›®å½•ä¸è¢«å®¿ä¸»æœºè¦†ç›–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/var/www/html/vendor&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/var/www/html/node_modules&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx-network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# ç¡®ä¿ App åœ¨æ•°æ®åº“å’Œ Redis å¥åº·åæ‰å¯åŠ¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;depends_on:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;mysql:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;condition:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;service_healthy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;redis:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;condition:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;service_healthy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# 2. Nginx æœåŠ¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;nginx:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;nginx:alpine&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx_nginx&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;80:80&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;443:443&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./:/var/www/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./docker-prod/nginx/default.conf:/etc/nginx/conf.d/default.conf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./docker-prod/certs:/etc/nginx/certs&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;depends_on:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;app&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx-network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# 3. MySQL æ•°æ®åº“æœåŠ¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;mysql:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;mysql:8.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx_mysql&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;environment:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;MYSQL_DATABASE:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;$&amp;#123;DB_DATABASE&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;MYSQL_ROOT_PASSWORD:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;$&amp;#123;DB_PASSWORD&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;MYSQL_PASSWORD:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;$&amp;#123;DB_PASSWORD&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;MYSQL_USER:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;$&amp;#123;DB_USERNAME&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx_mysql_data:/var/lib/mysql&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;ports:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;3306:3306&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx-network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# ä» Sail å€Ÿé‰´çš„å¥åº·æ£€æŸ¥ï¼Œç¡®ä¿æ•°æ®åº“æœåŠ¡çœŸæ­£å¯ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;healthcheck:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;test:&lt;/span&gt; [&lt;span class=&#34;string&#34;&gt;&amp;quot;CMD&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;mysqladmin&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;ping&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;-p$&amp;#123;DB_PASSWORD&amp;#125;&amp;quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;retries:&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;timeout:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;5s&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# 4. Redis æœåŠ¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;redis:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;image:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;redis:alpine&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx_redis&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx_redis_data:/data&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx-network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# ä» Sail å€Ÿé‰´çš„å¥åº·æ£€æŸ¥ï¼Œç¡®ä¿ Redis æœåŠ¡çœŸæ­£å¯ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;healthcheck:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;test:&lt;/span&gt; [&lt;span class=&#34;string&#34;&gt;&amp;quot;CMD&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;redis-cli&amp;quot;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;quot;ping&amp;quot;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;retries:&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;timeout:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;5s&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;# 5. Laravel Queue Worker æœåŠ¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;queue-worker:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;build:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;context:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;dockerfile:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;docker-prod/app/Dockerfile&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;container_name:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx_queue_worker&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;restart:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;unless-stopped&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;command:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;artisan&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;queue:work&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;--verbose&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;--tries=3&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;--timeout=90&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;working_dir:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/var/www/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;./:/var/www/html&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/var/www/html/vendor&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;/var/www/html/node_modules&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;bullet&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;lynx-network&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;# ç¡®ä¿ Worker ä¹Ÿåœ¨æ•°æ®åº“å’Œ Redis å¥åº·åæ‰å¯åŠ¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;depends_on:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;mysql:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;condition:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;service_healthy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;attr&#34;&gt;redis:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;attr&#34;&gt;condition:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;service_healthy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å®šä¹‰ç½‘ç»œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;networks:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;lynx-network:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;driver:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;bridge&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å®šä¹‰æ•°æ®å· (ç”¨äºæŒä¹…åŒ–)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;volumes:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;lynx_mysql_data:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;driver:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;local&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;lynx_redis_data:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;driver:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;local&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;4-dockerignore&#34;&gt;&lt;a href=&#34;#4-dockerignore&#34; class=&#34;headerlink&#34; title=&#34;4. .dockerignore&#34;&gt;&lt;/a&gt;&lt;strong&gt;4. .dockerignore&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;æ­¤æ–‡ä»¶ç”¨äºæŒ‡å®šåœ¨æ„å»º Docker é•œåƒæ—¶éœ€è¦å¿½ç•¥çš„æ–‡ä»¶å’Œç›®å½•ï¼Œå¯ä»¥æ˜¾è‘—å‡å°é•œåƒä½“ç§¯å¹¶æé«˜æ„å»ºé€Ÿåº¦ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;.git&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.github&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.gitignore&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.env&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.env.example&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/vendor/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/node_modules/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;docker-compose.yml&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/docker/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.idea&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.vscode&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;*.DS_Store&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;h2 id=&#34;å…­ã€æ€»ç»“&#34;&gt;&lt;a href=&#34;#å…­ã€æ€»ç»“&#34; class=&#34;headerlink&#34; title=&#34;å…­ã€æ€»ç»“&#34;&gt;&lt;/a&gt;&lt;strong&gt;å…­ã€æ€»ç»“&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;è‡³æ­¤å°† Laravel é¡¹ç›®é€šè¿‡ Docker è¿›è¡Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å®Œæ•´æµç¨‹å·²ä»‹ç»å®Œæ¯•ã€‚è¿™å¥—æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;âœ… &lt;strong&gt;å®¹å™¨åŒ–&lt;/strong&gt;ï¼šæ‰€æœ‰æœåŠ¡é€šè¿‡ Docker éš”ç¦»è¿è¡Œï¼Œç¯å¢ƒä¸€è‡´æ€§å¼º&lt;/li&gt;
&lt;li&gt;âœ… &lt;strong&gt;æ˜“äºéƒ¨ç½²&lt;/strong&gt;ï¼šä¸€é”®æ„å»ºå’Œå¯åŠ¨ï¼Œå‡å°‘ç¯å¢ƒé…ç½®é—®é¢˜&lt;/li&gt;
&lt;li&gt;âœ… &lt;strong&gt;ç”Ÿäº§ä¼˜åŒ–&lt;/strong&gt;ï¼šåŒ…å« SSL æ”¯æŒã€å¥åº·æ£€æŸ¥ã€è‡ªåŠ¨é‡å¯ç­‰ç”Ÿäº§çº§ç‰¹æ€§&lt;/li&gt;
&lt;li&gt;âœ… &lt;strong&gt;æ˜“äºç»´æŠ¤&lt;/strong&gt;ï¼šæä¾›å®Œæ•´çš„æ—¥å¸¸è¿ç»´å‘½ä»¤ï¼Œä»£ç æ›´æ–°æµç¨‹æ¸…æ™°&lt;/li&gt;
&lt;li&gt;âœ… &lt;strong&gt;å¯æ‰©å±•æ€§&lt;/strong&gt;ï¼šåŸºäº Docker Composeï¼Œæ–¹ä¾¿åç»­æ·»åŠ å…¶ä»–æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Docker Desktop æ˜¯å¦æ­£å¸¸è¿è¡Œ&lt;/li&gt;
&lt;li&gt;ç«¯å£ 80ã€443ã€3306 æ˜¯å¦è¢«å ç”¨&lt;/li&gt;
&lt;li&gt;.env æ–‡ä»¶ä¸­çš„é…ç½®æ˜¯å¦æ­£ç¡®&lt;/li&gt;
&lt;li&gt;storage ç›®å½•æƒé™æ˜¯å¦æ­£ç¡®è®¾ç½®&lt;/li&gt;
&lt;/ol&gt;
</content>
        <category term="Laravel" />
        <category term="Docker" />
        <category term="å®¹å™¨åŒ–" />
        <category term="éƒ¨ç½²" />
        <category term="è¿ç»´" />
        <updated>2025-10-09T08:00:00.000Z</updated>
    </entry>
</feed>
