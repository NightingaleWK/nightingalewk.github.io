{
    "version": "https://jsonfeed.org/version/1",
    "title": "雪漫城的风宅 • All posts by \"sail\" tag",
    "description": "この世界は好都合に未完成 だから知りたいんだ —— チ。-地球の運動について-",
    "home_page_url": "https://nightingalewk.cn",
    "items": [
        {
            "id": "https://nightingalewk.cn/2026/01/27/87.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%95%AA%E5%A4%96%E7%AF%87%EF%BC%9A%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B%EF%BC%89/",
            "url": "https://nightingalewk.cn/2026/01/27/87.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%95%AA%E5%A4%96%E7%AF%87%EF%BC%9A%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B%EF%BC%89/",
            "title": "Laravel Sail 开发环境部署一把过（番外篇：工欲善其事）",
            "date_published": "2026-01-27T02:00:00.000Z",
            "content_html": "<h1 id=\"写在前面\"><a href=\"#写在前面\" class=\"headerlink\" title=\"写在前面\"></a>写在前面</h1><p>经常有读者问：“大佬，我的电脑比较老，跑 Docker 会不会卡？”或者“我想换台电脑写代码，有什么推荐配置吗？”</p>\n<p>确实，<strong>Laravel Sail (Docker + WSL2)</strong> 虽然优雅，但它对硬件资源（特别是内存和磁盘 I&#x2F;O）是有一定门槛的。它不像当年跑一个 WampServer 那么省资源。</p>\n<p>在本系列的最后，我公开一下我目前正在使用的三套开发环境配置的高低搭配，供大家选购或升级时参考。这也是为了证明：<strong>只要配置得当，无论是工作站、家用台式还是轻薄本，都能愉快地 Sail 起来。</strong></p>\n<hr>\n<h1 id=\"1-主力重装：单位工作站-Workstation\"><a href=\"#1-主力重装：单位工作站-Workstation\" class=\"headerlink\" title=\"1. 主力重装：单位工作站 (Workstation)\"></a>1. 主力重装：单位工作站 (Workstation)</h1><p>这是我在公司的主力生产力工具，负责最繁重的开发任务。稳定性压倒一切。</p>\n<ul>\n<li><strong>型号</strong>: Dell Precision 7920 Tower</li>\n<li><strong>CPU</strong>: Intel Xeon Silver 4210R @ 2.40GHz (服务器级处理器)</li>\n<li><strong>内存</strong>: 32.0 GB (ECC 内存)</li>\n<li><strong>显卡</strong>: NVIDIA Quadro RTX 4000</li>\n<li><strong>系统</strong>: Windows 11 专业工作站版</li>\n</ul>\n<p><strong>点评</strong>：<br>对于 Docker 开发来说，<strong>32GB 内存是“甜点线”</strong>。<br>WSL2 在大内存下表现极其从容，我可以同时开启多个 Laravel 项目（微服务架构），同时跑 MySQL, Redis, Meilisearch, 甚至本地跑一个 LLM 模型，完全不感觉到卡顿。Xeon 处理器虽然单核频率不一定最高，但在多容器并发编译时非常稳。</p>\n<hr>\n<h1 id=\"2-全能战将：家中台式机-Desktop\"><a href=\"#2-全能战将：家中台式机-Desktop\" class=\"headerlink\" title=\"2. 全能战将：家中台式机 (Desktop)\"></a>2. 全能战将：家中台式机 (Desktop)</h1><p>下班回家后的主力机，兼顾代码开发和（偶尔的）游戏娱乐。</p>\n<ul>\n<li><strong>型号</strong>: Dell XPS 8930</li>\n<li><strong>CPU</strong>: Intel Core i7-8700K (6核12线程，当年的神U)</li>\n<li><strong>内存</strong>: 16.0 GB DDR4 2666MHz</li>\n<li><strong>显卡</strong>: NVIDIA GeForce GTX 1080 8GB</li>\n<li><strong>硬盘</strong>: 512GB SSD + 2TB HDD</li>\n</ul>\n<p><strong>点评</strong>：<br>这套配置代表了<strong>绝大多数开发者的“主流水平”</strong>。<br><strong>16GB 内存是 Sail 的“及格线”</strong>。在 16GB 环境下，跑 1-2 个 Sail 项目完全没问题。但如果同时开着几十个 Chrome 标签页 + PHPStorm + Docker，内存占用率通常会飙到 85% 以上。<br><em>注意：在 16GB 内存的机器上，我建议在 <code>.wslconfig</code> 文件中限制一下 WSL 的最大内存占用（比如限制为 8GB），防止它把宿主机的内存吃光导致死机。</em></p>\n<hr>\n<h1 id=\"3-移动突击：便携二合一-Portable\"><a href=\"#3-移动突击：便携二合一-Portable\" class=\"headerlink\" title=\"3. 移动突击：便携二合一 (Portable)\"></a>3. 移动突击：便携二合一 (Portable)</h1><p>出差、开会、星巴克写代码时的选择。主打一个轻便。</p>\n<ul>\n<li><strong>型号</strong>: Microsoft Surface Pro 7</li>\n<li><strong>CPU</strong>: Intel Core i7-1065G7 @ 1.30GHz</li>\n<li><strong>内存</strong>: 16.0 GB</li>\n<li><strong>硬盘</strong>: 256GB SSD</li>\n</ul>\n<p><strong>点评</strong>：<br>很多人认为轻薄本跑不动 Docker，其实不然。<br>只要是近几年的 <strong>i5&#x2F;i7 低压处理器 + 16GB 内存</strong>，配合高速 SSD，运行 Sail 依然丝般顺滑。<br>重点在于 <strong>SSD</strong>。Surface 的磁盘性能很好，这对于 Docker 容器启动和大量小文件读写（vendor 目录）至关重要。<br><em>警告：千万别尝试在 8GB 内存的轻薄本上跑 Sail，那会是幻灯片般的体验。</em></p>\n<hr>\n<h1 id=\"总结与建议（硬件篇）\"><a href=\"#总结与建议（硬件篇）\" class=\"headerlink\" title=\"总结与建议（硬件篇）\"></a>总结与建议（硬件篇）</h1><p>结合我的三套设备体验，如果你正准备为 Laravel Sail 准备硬件，我的建议是：</p>\n<ol>\n<li><p>**内存 (RAM)**：</p>\n<ul>\n<li><strong>8GB</strong>：❌ 别想了，折磨自己。</li>\n<li><strong>16GB</strong>：✅ <strong>及格</strong>。够用，但要注意节制，偶尔需要清理内存。</li>\n<li>**32GB+**：🚀 <strong>推荐</strong>。为所欲为，从容不迫。</li>\n</ul>\n</li>\n<li><p>**硬盘 (Storage)**：</p>\n<ul>\n<li>必须是 <strong>SSD</strong> (固态硬盘)，最好是 NVMe 协议的。</li>\n<li>Docker 对随机读写要求极高，机械硬盘 (HDD) 基本上告别 Docker 开发了。</li>\n</ul>\n</li>\n<li><p><strong>CPU</strong>：</p>\n<ul>\n<li>核心数比主频更重要。Docker 容器多起来后，多核优势明显。</li>\n<li><strong>必须支持虚拟化技术 (Virtualization)</strong> 并在 BIOS 中开启。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h1 id=\"4-软实力：我的全栈工具箱-Software-Stack\"><a href=\"#4-软实力：我的全栈工具箱-Software-Stack\" class=\"headerlink\" title=\"4. 软实力：我的全栈工具箱 (Software Stack)\"></a>4. 软实力：我的全栈工具箱 (Software Stack)</h1><p>硬件只是底座，要让开发效率起飞，软件的选择同样至关重要。这也并非是“唯工具论”，而是找到最顺手的兵器。以下是我目前的标准配置：</p>\n<h3 id=\"核心开发\"><a href=\"#核心开发\" class=\"headerlink\" title=\"核心开发\"></a>核心开发</h3><ul>\n<li><strong>IDE &#x2F; 编辑器</strong>: <strong>Antigravity</strong> (主推)<ul>\n<li><em>理由</em>：目前我最舒适的开发环境。配合 <strong>Google Gemini 3 Pro</strong> 大模型，写代码简直是降维打击。我自己开了 Gemini Advanced 会员（$20&#x2F;月），Antigravity 对接后额度更高，体验拉满。</li>\n<li><em>备选</em>：Trae, VS Code。我不死磕某一个工具，谁好用也没必要踩一捧一，配合使用效率最高。</li>\n</ul>\n</li>\n<li><strong>数据库管理</strong>: <strong>DBeaver Community</strong><ul>\n<li><em>理由</em>：免费、开源、跨平台、支持所有数据库。相比于收费昂贵的 Navicat，DBeaver 社区版真香，功能完全够用。</li>\n</ul>\n</li>\n<li><strong>终端 (Terminal)</strong>: <strong>Antigravity 内置终端</strong> &#x2F; <strong>Windows Terminal</strong><ul>\n<li><em>理由</em>：Antigravity 的内置终端深度集成，而 Windows Terminal 则是目前 Win 下最现代化的终端 App，颜值能打。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"运维与部署\"><a href=\"#运维与部署\" class=\"headerlink\" title=\"运维与部署\"></a>运维与部署</h3><ul>\n<li><strong>远程连接</strong>: <strong>Xshell &amp; Xftp</strong><ul>\n<li><em>理由</em>：老牌劲旅。现在对家庭和教育用户<strong>完全免费</strong>了，功能强大且稳定，比 putty 那些好用太多。</li>\n</ul>\n</li>\n<li><strong>测试服务器</strong>: <strong>阿里云 &#x2F; 腾讯云 (轻量应用服务器)</strong><ul>\n<li><em>理由</em>：国内做站首选，轻量服务器便宜量大，适合部署测试环境。</li>\n</ul>\n</li>\n<li><strong>远程桌面</strong>: <strong>ToDesk</strong><ul>\n<li><em>理由</em>：国产远控之光，速度快，不限速，关键时刻救急用。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"知识管理与协作\"><a href=\"#知识管理与协作\" class=\"headerlink\" title=\"知识管理与协作\"></a>知识管理与协作</h3><ul>\n<li><strong>笔记与文档</strong>: <strong>OneNote</strong> (Microsoft 365)<ul>\n<li><em>理由</em>：开了 Microsoft 365 会员，拥有 1TB OneDrive 空间。笔记、设计稿、文档全部云端同步，多端无缝切换，不用担心数据丢失。</li>\n</ul>\n</li>\n<li><strong>流程&#x2F;架构图</strong>: <a href=\"https://app.diagrams.net/\"><strong>Diagrams.net (draw.io)</strong></a><ul>\n<li><em>理由</em>：Web 端最强画图工具，免费，支持存到 OneDrive&#x2F;GitHub。画架构图、ER 图首选。</li>\n</ul>\n</li>\n<li><strong>项目管理</strong>: <strong>PingCode</strong><ul>\n<li><em>理由</em>：国产优秀的研发项目管理工具，适合敏捷开发管理。</li>\n</ul>\n</li>\n<li><strong>代码托管</strong>: <strong>GitHub</strong> (主) + <strong>Gitee</strong> (备)<ul>\n<li><em>理由</em>：鸡蛋不放在同一个篮子里。GitHub 是世界中心，Gitee 是国内速度保障。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"效率神器\"><a href=\"#效率神器\" class=\"headerlink\" title=\"效率神器\"></a>效率神器</h3><ul>\n<li><strong>文档阅读</strong>: <strong>沉浸式翻译</strong> (浏览器插件)<ul>\n<li><em>理由</em>：看英文官方文档的神器。双语对照显示，翻译质量极高，从此不再畏惧英文文档。</li>\n</ul>\n</li>\n<li><strong>截图贴图</strong>: <strong>Snipaste</strong><ul>\n<li><em>理由</em>：F1 截图，F3 贴图。把要参考的代码或报错信息直接“钉”在屏幕上，对照着写，效率提升 100%。</li>\n</ul>\n</li>\n<li><strong>浏览器</strong>: <strong>Chrome</strong> &amp; <strong>Edge</strong><ul>\n<li><em>理由</em>：Web 开发标配双雄。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h1 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h1><p>工欲善其事，必先利其器。<br>愿大家都能有一台趁手的兵器，在 Laravel 的海洋里乘风破浪！</p>\n",
            "tags": [
                "Laravel",
                "Sail",
                "Hardware",
                "Tooling"
            ]
        },
        {
            "id": "https://nightingalewk.cn/2026/01/26/86.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87%E7%AF%87%EF%BC%89/",
            "url": "https://nightingalewk.cn/2026/01/26/86.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87%E7%AF%87%EF%BC%89/",
            "title": "Laravel Sail 开发环境部署一把过（疑难杂症篇）",
            "date_published": "2026-01-26T02:00:00.000Z",
            "content_html": "<h1 id=\"写在最后\"><a href=\"#写在最后\" class=\"headerlink\" title=\"写在最后\"></a>写在最后</h1><p>作为《Laravel Sail 开发环境部署一把过》系列的收官之作，本文旨在汇总大家在使用过程中最容易遇到的“坑”。<br>如果你遇到了报错，请先按 <code>Ctrl + F</code> 在本文搜索关键词，说不定就能立刻解决。</p>\n<hr>\n<h1 id=\"0-网络问题-The-Great-Firewall\"><a href=\"#0-网络问题-The-Great-Firewall\" class=\"headerlink\" title=\"0. 网络问题 (The Great Firewall)\"></a>0. 网络问题 (The Great Firewall)</h1><p><strong>这是中国大陆用户面临的最大 BOSS。</strong></p>\n<p><strong>症状</strong>：</p>\n<ul>\n<li><code>curl -s https://laravel.build/example-app | bash</code> 卡住不动或报错 <code>Connection refused</code>。</li>\n<li><code>sail up</code> 拉取镜像时速度为 0 或直接超时。</li>\n<li><code>composer install</code> 慢如蜗牛。</li>\n</ul>\n<p><strong>残酷的现实</strong>：<br>Docker 的镜像源服务器大部分在国外。虽然国内有镜像加速，但这两年（你懂的）越来越不稳定。<br><strong>假如你无法解决“科学上网”的问题，那么使用 Laravel Sail 这条路将极其痛苦，我建议你趁早放弃，去选择 PhpStudy 或其他国产集成环境。</strong></p>\n<p><strong>唯一的终极解法</strong>：<br>别去整什么 Docker 换源、HTTP 代理环境变量，<strong>都不好使</strong>。<br>我的推荐思路只有一条：</p>\n<ol>\n<li><strong>工具</strong>：本机安装 <strong>v2rayN</strong> (或其他同类软件)。</li>\n<li><strong>模式</strong>：开启 <strong>TUN模式</strong> (Tun Mode)。</li>\n<li><strong>服务商</strong>：我个人推荐 <a href=\"https://justmysocks.net/members/aff.php?aff=3236\"><strong>Just My Socks</strong></a> （搬瓦工官方出品，稳）。</li>\n</ol>\n<p>开启 TUN 模式后，你的所有网络流量（包括 WSL2 和 Docker 拉取镜像的流量）都会自动走代理，从此告别一切网络玄学。</p>\n<hr>\n<h1 id=\"1-端口冲突-Port-is-already-allocated\"><a href=\"#1-端口冲突-Port-is-already-allocated\" class=\"headerlink\" title=\"1. 端口冲突 (Port is already allocated)\"></a>1. 端口冲突 (Port is already allocated)</h1><p><strong>症状</strong>：<br>运行 <code>sail up</code> 时，报错：</p>\n<blockquote>\n<p><code>Error response from daemon: Ports are not available: listen tcp 0.0.0.0:80: bind: An attempt was made to access a socket in a way forbidden by its access permissions.</code></p>\n</blockquote>\n<p><strong>原因</strong>：<br>Sail 默认使用 <strong>80</strong> 端口（Web）和 <strong>3306</strong> 端口（MySQL）。如果这台电脑上已经装了 IIS、Apache、Nginx 或者本地已经装了 MySQL，端口就会打架。</p>\n<p><strong>解决方法</strong>：<br>只需要在项目根目录的 <code>.env</code> 文件中修改端口配置即可（如果没有这些行，手动加上）：</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 将 Web 端口改为 8000</span></span><br><span class=\"line\"><span class=\"attr\">APP_PORT</span>=<span class=\"number\">8000</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将 MySQL 端口改为 33060</span></span><br><span class=\"line\"><span class=\"attr\">FORWARD_DB_PORT</span>=<span class=\"number\">33060</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将 Redis 端口改为 63790</span></span><br><span class=\"line\"><span class=\"attr\">FORWARD_REDIS_PORT</span>=<span class=\"number\">63790</span></span><br></pre></td></tr></table></figure>\n<p>修改完后，重启 Sail：<code>sail up -d</code>。<br>以后访问网站就变成：<code>http://localhost:8000</code>。</p>\n<hr>\n<h1 id=\"2-网站运行极其缓慢-Slow-Performance\"><a href=\"#2-网站运行极其缓慢-Slow-Performance\" class=\"headerlink\" title=\"2. 网站运行极其缓慢 (Slow Performance)\"></a>2. 网站运行极其缓慢 (Slow Performance)</h1><p><strong>症状</strong>：<br>打开一个页面需要 2-3 秒，甚至更久。</p>\n<p><strong>原因</strong>：<br><strong>这是新手最容易犯的错误！</strong><br>你把项目代码放在了 Windows 的磁盘里（比如 <code>/mnt/c/Users/...</code>），然后让 WSL 去读取。由于跨文件系统的 I&#x2F;O 性能极差，会导致速度慢到无法接受。</p>\n<p><strong>解决方法</strong>：<br><strong>一定要把代码放在 WSL 自己的文件系统里！</strong><br>也就是上面的教程中反复强调的 <code>~/code</code> (即 <code>/home/your-username/code</code>) 目录下。<br>千万不要在 Windows 的文件资源管理器里直接把项目拖到 C 盘或 D 盘。</p>\n<hr>\n<h1 id=\"3-权限问题-Permission-Denied\"><a href=\"#3-权限问题-Permission-Denied\" class=\"headerlink\" title=\"3. 权限问题 (Permission Denied)\"></a>3. 权限问题 (Permission Denied)</h1><p><strong>症状</strong>：<br>运行某些命令或生成日志时，提示 <code>Permission denied</code> 或 <code>Unable to write to directory</code>.</p>\n<p><strong>原因</strong>：<br>通常是因为你不小心用了 <code>sudo</code> 或者以 <code>root</code> 身份运行了该目录下的命令（比如 <code>sudo npm install</code> 或 <code>sudo composer ...</code>），导致生成的文件夹归属权变成了 <code>root</code>，而 Sail 容器内的默认用户 <code>sail</code> 无法写入。</p>\n<p><strong>预防与解决</strong>：<br><strong>核心建议</strong>：<strong>在开发过程中，非必要不要去手动修改文件权限或使用 sudo</strong>。请始终保持在 <code>sail</code> 角色下（即直接运行 <code>sail xxx</code>）执行各类默认操作。实在需要 <code>root</code> 权限的时候（比如安装系统软件），务必想清楚你在干什么。</p>\n<p>如果已经乱了，Sail 提供了一个快速修复所属权的命令。在项目根目录下运行：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail root-shell <span class=\"built_in\">chown</span> -R sail:sail .</span><br></pre></td></tr></table></figure>\n<p>或者，如果你想“暴力”一点（仅限开发环境）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail root-shell <span class=\"built_in\">chmod</span> -R 777 storage bootstrap/cache</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"4-数据库连接不上-Navicat-TablePlus\"><a href=\"#4-数据库连接不上-Navicat-TablePlus\" class=\"headerlink\" title=\"4. 数据库连接不上 (Navicat &#x2F; TablePlus)\"></a>4. 数据库连接不上 (Navicat &#x2F; TablePlus)</h1><p><strong>症状</strong>：<br>想用电脑上的 Navicat 连接 Docker 里的 MySQL，却连不上。</p>\n<p><strong>解决方法</strong>：</p>\n<ol>\n<li><strong>Host</strong>: <code>localhost</code> (或者 <code>127.0.0.1</code>)</li>\n<li><strong>Port</strong>: 默认为 <code>3306</code>。**但在 Docker 中，请检查 <code>.env</code> 里的 <code>FORWARD_DB_PORT</code>**。如果没改过，就是 3306。如果改成了 33060，这里也要填 33060。</li>\n<li><strong>Username</strong>: <code>sail</code></li>\n<li><strong>Password</strong>: <code>password</code> (默认是 password，除非你在 .env 里改了 <code>DB_PASSWORD</code>)</li>\n</ol>\n<blockquote>\n<p><strong>注意</strong>：不要填 Docker 容器的 IP，直接填 localhost 即可，因为 Docker Desktop 做了端口转发。</p>\n</blockquote>\n<hr>\n<h1 id=\"5-sail-命令找不到-Command-not-found\"><a href=\"#5-sail-命令找不到-Command-not-found\" class=\"headerlink\" title=\"5. sail 命令找不到 (Command not found)\"></a>5. <code>sail</code> 命令找不到 (Command not found)</h1><p><strong>症状</strong>：<br>输入 <code>sail up</code>，提示 <code>bash: sail: command not found</code>。</p>\n<p><strong>解决方法</strong>：<br>这通常是因为别名失效了，或者没有重新加载配置文件。</p>\n<ol>\n<li>确保你按照《环境配置篇》在 <code>~/.bashrc</code> 里加了 alias。</li>\n<li>尝试运行 <code>source ~/.bashrc</code> 刷新配置。</li>\n<li>如果还是不行，老老实实打全路径验证一下：<code>./vendor/bin/sail up</code>。如果全路径能用，说明就是 alias 配置的问题。</li>\n</ol>\n<hr>\n<h1 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h1><p>至此，<strong>《Laravel Sail 开发环境部署一把过》</strong> 系列的技术教程部分就彻底完结了。</p>\n<p>从概念介绍，到 WSL 环境搭建，再到 Git 多机协同，最后到日常命令与故障排查。希望能帮助 Windows 下的 PHPer 彻底摆脱环境配置的噩梦，把宝贵的时间花在写出优雅的代码上。</p>\n<p>如果你对“跑得顺 Sail 到底需要什么样的电脑”感兴趣，欢迎阅读最后一篇番外：<br><strong>《番外篇：工欲善其事——我的三套开发装备大公开》</strong></p>\n<p><strong>Happy Coding with Sail! ⛵</strong></p>\n",
            "tags": [
                "Laravel",
                "Sail",
                "Troubleshooting"
            ]
        },
        {
            "id": "https://nightingalewk.cn/2026/01/25/85.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E7%AF%87%EF%BC%89/",
            "url": "https://nightingalewk.cn/2026/01/25/85.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E7%AF%87%EF%BC%89/",
            "title": "Laravel Sail 开发环境部署一把过（日常使用篇）",
            "date_published": "2026-01-25T02:00:00.000Z",
            "content_html": "<h1 id=\"核心心法：忘掉本地环境\"><a href=\"#核心心法：忘掉本地环境\" class=\"headerlink\" title=\"核心心法：忘掉本地环境\"></a>核心心法：忘掉本地环境</h1><p>进入 Sail 的世界后，你需要修改一个肌肉记忆。</p>\n<p><strong>以前你的操作：</strong></p>\n<ul>\n<li><code>php artisan migrate</code></li>\n<li><code>composer require guzzlehttp/guzzle</code></li>\n<li><code>npm run dev</code></li>\n</ul>\n<p><strong>现在 Sail 的操作：</strong></p>\n<ul>\n<li><code>sail artisan migrate</code></li>\n<li><code>sail composer require guzzlehttp/guzzle</code></li>\n<li><code>sail npm run dev</code></li>\n</ul>\n<p><strong>心法口诀</strong>：<strong>凡是需要运行环境的命令，前面统统加 <code>sail</code>。</strong></p>\n<blockquote>\n<p><strong>前提</strong>：你已经按照《环境配置篇》配置好了 <code>alias sail=&#39;...&#39;</code> 别名。如果没有，请手动输入 <code>./vendor/bin/sail</code>。</p>\n</blockquote>\n<hr>\n<h1 id=\"1-Artisan-命令：得心应手\"><a href=\"#1-Artisan-命令：得心应手\" class=\"headerlink\" title=\"1. Artisan 命令：得心应手\"></a>1. Artisan 命令：得心应手</h1><p>在 Laravel 开发中，Artisan 是我们最常用的工具。在 Sail 中使用它没有任何区别，仅仅是换了个前缀。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成控制器</span></span><br><span class=\"line\">sail artisan make:controller UserController</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 运行迁移</span></span><br><span class=\"line\">sail artisan migrate</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 路由列表</span></span><br><span class=\"line\">sail artisan route:list</span><br></pre></td></tr></table></figure>\n\n<p><strong>原理</strong>：当你输入 <code>sail artisan ...</code> 时，Sail 会自动把命令转发到正在运行的 Docker 容器中去执行。这意味着<strong>你的电脑完全不需要安装 PHP</strong>，也能执行 PHP 代码。</p>\n<hr>\n<h1 id=\"2-Composer：依赖管理\"><a href=\"#2-Composer：依赖管理\" class=\"headerlink\" title=\"2. Composer：依赖管理\"></a>2. Composer：依赖管理</h1><p>安装新包、更新依赖，也全部通过 Sail 进行。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装扩展包</span></span><br><span class=\"line\">sail composer require laravel/breeze --dev</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 更新所有依赖</span></span><br><span class=\"line\">sail composer update</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 自动加载优化</span></span><br><span class=\"line\">sail composer dump-autoload</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong>注意</strong>：哪怕你的 Windows&#x2F;WSL 里装了 Composer，我也<strong>强烈建议</strong>使用 <code>sail composer</code>。因为这样能确保依赖的 PHP 版本与容器内的 PHP 版本（真实运行环境）完全一致，避免版本冲突。</p>\n</blockquote>\n<hr>\n<h1 id=\"3-前端编译：Node-NPM\"><a href=\"#3-前端编译：Node-NPM\" class=\"headerlink\" title=\"3. 前端编译：Node &amp; NPM\"></a>3. 前端编译：Node &amp; NPM</h1><p>这是很多新手容易混淆的地方。<br>虽然你可以在 WSL 里安装 Node.js，但 Sail 实际上也为你准备好了一套 Node 环境。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装前端依赖</span></span><br><span class=\"line\">sail npm install</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 运行开发服务器 (Vite)</span></span><br><span class=\"line\">sail npm run dev</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 编译生产环境代码</span></span><br><span class=\"line\">sail npm run build</span><br></pre></td></tr></table></figure>\n\n<p>当运行 <code>sail npm run dev</code> 时，Vite 服务器实际上是在 Docker 容器里跑的，但通过端口映射，你依然可以在 Windows 浏览器里无缝访问。</p>\n<hr>\n<h1 id=\"4-服务管理：掌控全局\"><a href=\"#4-服务管理：掌控全局\" class=\"headerlink\" title=\"4. 服务管理：掌控全局\"></a>4. 服务管理：掌控全局</h1><p>Sail 本质上是 Docker Compose 的封装，所以管理服务变得很简单。</p>\n<ul>\n<li><p><strong>启动环境</strong>：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail up -d</span><br></pre></td></tr></table></figure>\n<p><em>(每天开机第一件事)</em></p>\n</li>\n<li><p><strong>停止环境</strong>：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail stop</span><br></pre></td></tr></table></figure>\n<p><em>(下班关机前，或者你想省点内存时)</em></p>\n</li>\n<li><p><strong>重启环境</strong>：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail restart</span><br></pre></td></tr></table></figure>\n<p><em>(当你修改了 <code>docker-compose.yml</code> 配置后需要用到)</em></p>\n</li>\n<li><p><strong>查看运行状态</strong>：<br>查看当前有哪些容器在跑，以及它们的状态：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail ps</span><br></pre></td></tr></table></figure></li>\n</ul>\n<hr>\n<h1 id=\"5-进阶：直接进入“母体”\"><a href=\"#5-进阶：直接进入“母体”\" class=\"headerlink\" title=\"5. 进阶：直接进入“母体”\"></a>5. 进阶：直接进入“母体”</h1><p>有时候，你可能想进去容器里面看看文件，或者运行一些奇怪的 Linux 命令。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 以默认用户 (sail) 进入应用容器</span></span><br><span class=\"line\">sail shell</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 以 root 用户进入应用容器（拥有最高权限）</span></span><br><span class=\"line\">sail root-shell</span><br></pre></td></tr></table></figure>\n\n<p>进入后，你就身处一个标准的 Ubuntu 环境中了，你的项目代码在 <code>/var/www/html</code> 目录下。输入 <code>exit</code> 即可退出。</p>\n<hr>\n<h1 id=\"6-炫技：临时共享站点\"><a href=\"#6-炫技：临时共享站点\" class=\"headerlink\" title=\"6. 炫技：临时共享站点\"></a>6. 炫技：临时共享站点</h1><p>如果你想把现在的像本地项目展示给远在异地的同事或者客户看，不需要部署上线，Sail 自带了一个神奇的命令（基于 Expose）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail share</span><br></pre></td></tr></table></figure>\n\n<p>运行后，它会给你一个临时的公网 URL（例如 <code>http://your-site.sharedwithexpose.com</code>）。把这个链接发给这一秒需要看演示的人，他们就能直接访问你本地开发环境的内容了！</p>\n<hr>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>使用 Sail 开发的每一天，其实就是不断重复 <strong>“Sail + 命令”</strong> 的过程。一旦习惯了这个前缀，你会发现它提供的隔离感和安全感是前所未有的。</p>\n<p>下一篇，也是本系列的终章：<strong>《疑难杂症篇》</strong>。虽然 Sail 很稳，但常在河边走哪有不湿鞋？我们将汇总一些常见的报错（端口占用、权限问题、网络连接等）并提供解决方案。</p>\n",
            "tags": [
                "Laravel",
                "Sail",
                "Artisan",
                "Composer"
            ]
        },
        {
            "id": "https://nightingalewk.cn/2026/01/24/84.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88Git%20%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A4%9A%E6%9C%BA%E5%BC%80%E5%8F%91%E7%AF%87%EF%BC%89/",
            "url": "https://nightingalewk.cn/2026/01/24/84.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88Git%20%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A4%9A%E6%9C%BA%E5%BC%80%E5%8F%91%E7%AF%87%EF%BC%89/",
            "title": "Laravel Sail 开发环境部署一把过（Git 同步与多机开发篇）",
            "date_published": "2026-01-24T02:00:00.000Z",
            "content_html": "<h1 id=\"场景描述\"><a href=\"#场景描述\" class=\"headerlink\" title=\"场景描述\"></a>场景描述</h1><p>上一篇我们成功在电脑 A（比如公司电脑）上搭建了环境并运行了 Laravel。<br>现在的问题是：<strong>我下班回家了，想用家里的电脑 B 接着写，该怎么办？</strong></p>\n<p>很多人会卡在这里，因为 Laravel 项目默认的 <code>.gitignore</code> 规则会忽略 <code>vendor</code> 目录（存放依赖包的地方）和 <code>.env</code> 文件（存放敏感配置的地方）。<br>而 <code>sail</code> 命令脚本本身就躺在 <code>vendor/bin</code> 目录下。</p>\n<p>这意味着：<strong>当你把代码拉到新电脑上时，你没有 <code>vendor</code> 目录，也就没有 <code>sail</code> 命令。你无法启动 Sail，也就无法用 Sail 安装 <code>vendor</code>……</strong></p>\n<p>这就陷入了一个“先有鸡还是先有蛋”的死循环。<br>别慌，本文就是为了解决这个问题而生的。</p>\n<hr>\n<h1 id=\"第一步：在电脑-A-提交代码\"><a href=\"#第一步：在电脑-A-提交代码\" class=\"headerlink\" title=\"第一步：在电脑 A 提交代码\"></a>第一步：在电脑 A 提交代码</h1><p>首先，我们需要把项目上传到代码仓库（GitHub &#x2F; GitLab &#x2F; Gitee）。这里以 GitHub 为例。</p>\n<p>确保你在 WSL 的项目根目录下（比如 <code>~/code/example-app</code>）：</p>\n<ol>\n<li><p><strong>初始化 Git 仓库</strong>（如果还没初始化）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git init</span><br><span class=\"line\">git checkout -b main</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>提交代码</strong>：<br>Laravel 默认的 <code>.gitignore</code> 已经非常完善了，千万<strong>不要</strong>手动去把 <code>vendor</code> 或 <code>.env</code> 强行加进来。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add -A</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;Initial commit&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>推送到远程仓库</strong>：<br>先在 GitHub 创建一个空仓库，然后关联并推送：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote add origin git@github.com:your-username/your-repo.git</span><br><span class=\"line\">git push -u origin main</span><br></pre></td></tr></table></figure></li>\n</ol>\n<hr>\n<h1 id=\"第二步：在电脑-B-拉取代码\"><a href=\"#第二步：在电脑-B-拉取代码\" class=\"headerlink\" title=\"第二步：在电脑 B 拉取代码\"></a>第二步：在电脑 B 拉取代码</h1><p>现在我们来到了<strong>电脑 B</strong>（比如家里的电脑）。<br><strong>前提</strong>：这台电脑也必须安装好 <strong>WSL2</strong> 和 <strong>Docker Desktop</strong>（参考上一篇教程）。</p>\n<ol>\n<li><p><strong>克隆代码</strong>：<br>打开 Ubuntu 终端，进入我们规定的代码存放目录（如果不存在则先创建）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> -p ~/code</span><br><span class=\"line\"><span class=\"built_in\">cd</span> ~/code</span><br><span class=\"line\">git <span class=\"built_in\">clone</span> git@github.com:your-username/your-repo.git project-b</span><br><span class=\"line\"><span class=\"built_in\">cd</span> project-b</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>此时的尴尬现状</strong>：<br>如果你现在尝试运行 <code>./vendor/bin/sail up</code>，系统会无情地告诉你：</p>\n<blockquote>\n<p><code>bash: ./vendor/bin/sail: No such file or directory</code></p>\n</blockquote>\n<p>原因前面说了：Git 不会同步 <code>vendor</code> 目录。</p>\n</li>\n</ol>\n<hr>\n<h1 id=\"第三步：解决“鸡生蛋”问题（安装依赖）\"><a href=\"#第三步：解决“鸡生蛋”问题（安装依赖）\" class=\"headerlink\" title=\"第三步：解决“鸡生蛋”问题（安装依赖）\"></a>第三步：解决“鸡生蛋”问题（安装依赖）</h1><p>我们需要在没有 <code>sail</code> 的情况下，利用 Docker 帮我们运行一次 Composer 安装命令。<br>Laravel 官方非常贴心地提供了一个一次性的 Docker 运行命令，专门用来处理这个“初次引导”的问题。</p>\n<p>在项目根目录下，执行下面这行<strong>神奇的长命令</strong>：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run --<span class=\"built_in\">rm</span> \\</span><br><span class=\"line\">    -u <span class=\"string\">&quot;<span class=\"subst\">$(id -u)</span>:<span class=\"subst\">$(id -g)</span>&quot;</span> \\</span><br><span class=\"line\">    -v <span class=\"string\">&quot;<span class=\"subst\">$(pwd)</span>:/var/www/html&quot;</span> \\</span><br><span class=\"line\">    -w /var/www/html \\</span><br><span class=\"line\">    laravelsail/php82-composer:latest \\</span><br><span class=\"line\">    composer install --ignore-platform-reqs</span><br></pre></td></tr></table></figure>\n\n<p><em>解析：</em></p>\n<ul>\n<li>这是一个临时的 Docker 容器，用完即焚 (<code>--rm</code>)。</li>\n<li>它挂载了当前目录 (<code>-v</code>)，并使用当前用户的权限 (<code>-u</code>)。</li>\n<li>它使用的是 <code>php82-composer</code> 镜像（如果你用的是 PHP 8.1 或 8.0，改一下数字即可）。</li>\n<li>它执行了 <code>composer install</code>，帮我们把 <code>vendor</code> 目录及里面的 <code>sail</code> 脚本都下载回来了！</li>\n</ul>\n<p><strong>等待命令执行完成</strong>（具体取决于网速），你会发现项目里多了一个 <code>vendor</code> 文件夹。</p>\n<hr>\n<h1 id=\"第四步：配置环境与启动\"><a href=\"#第四步：配置环境与启动\" class=\"headerlink\" title=\"第四步：配置环境与启动\"></a>第四步：配置环境与启动</h1><ol>\n<li><p><strong>恢复配置文件</strong>：<br>由于 <code>.env</code> 被 Git 忽略了，我们需要从模版复制一份：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cp</span> .env.example .<span class=\"built_in\">env</span></span><br></pre></td></tr></table></figure>\n<p><em>注意：如果你的项目有特殊的数据库密码或 API Key，记得手动编辑 <code>.env</code> 填进去。但在 Sail 环境下，数据库连接通常默认都在 <code>docker-compose.yml</code> 里配置好了环境变量，直接用可能就行。</em></p>\n</li>\n<li><p><strong>启动 Sail</strong>：<br>现在 <code>vendor</code> 有了，我们终于可以召唤神龙了（记得像上一篇一样配置好 <code>sail</code> 别名）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail up -d</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>生成应用密钥</strong>：<br>新的 <code>.env</code> 里 <code>APP_KEY</code> 是空的，需要生成一个：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail artisan key:generate</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>运行数据库迁移</strong>：<br>全新的环境数据库是空的，需要创建表结构：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail artisan migrate</span><br></pre></td></tr></table></figure></li>\n</ol>\n<hr>\n<h1 id=\"第五步：验证\"><a href=\"#第五步：验证\" class=\"headerlink\" title=\"第五步：验证\"></a>第五步：验证</h1><p>打开浏览器访问 <code>http://localhost</code>。<br>你应该能看到与公司电脑一模一样的项目已经在运行了。</p>\n<p>从此以后，你只需要：</p>\n<ul>\n<li><strong>在公司</strong>：写代码 -&gt; <code>git push</code></li>\n<li><strong>在家里</strong>：<code>git pull</code> -&gt; <code>./vendor/bin/sail up -d</code> -&gt; 开造！</li>\n</ul>\n<p><strong>这就是 Docker + Sail 带来的极致一致性体验。</strong></p>\n<hr>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>本篇解决了异地开发最麻烦的“环境同步”和“依赖安装”问题。<br>核心技巧在于那行<strong>用于“引导”的 Docker 命令</strong>，它帮我们跨越了“没有 PHP 环境就没法安装 Sail，没有 Sail 就没法启动 PHP 环境”的鸿沟。</p>\n<p>下一篇，我们将进入实战深水区：<strong>《日常使用篇》</strong>，教你如何像在本地一样运行 Artisan 命令、使用 npm 编译前端、以及配置 Shell 别名让 <code>sail</code> 变成更短的 <code>s</code>。</p>\n",
            "tags": [
                "Git",
                "GitHub",
                "Laravel",
                "Sail"
            ]
        },
        {
            "id": "https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/",
            "url": "https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/",
            "title": "Laravel Sail 开发环境部署一把过（环境配置篇）",
            "date_published": "2026-01-23T10:00:00.000Z",
            "content_html": "<h1 id=\"目标\"><a href=\"#目标\" class=\"headerlink\" title=\"目标\"></a>目标</h1><p>本文的目标非常明确：<strong>从一台刚装好系统的全新 Windows 11 电脑开始，直到浏览器成功访问 Laravel 默认欢迎页面。</strong></p>\n<p>中间我们将完成：</p>\n<ol>\n<li>开启 BIOS 虚拟化。</li>\n<li>安装 WSL 2 (Windows Subsystem for Linux)。</li>\n<li>安装 Docker Desktop。</li>\n<li>使用 Sail 命令行一键创建并启动项目。</li>\n</ol>\n<blockquote>\n<p><strong>前置要求</strong>：你的 Windows 11 版本需要是最新的（或者至少是近两年的版本）。</p>\n</blockquote>\n<hr>\n<h1 id=\"第一步：检查虚拟化-Virtualization\"><a href=\"#第一步：检查虚拟化-Virtualization\" class=\"headerlink\" title=\"第一步：检查虚拟化 (Virtualization)\"></a>第一步：检查虚拟化 (Virtualization)</h1><p>Docker 和 WSL2 的运行依赖于 CPU 的虚拟化技术。</p>\n<ol>\n<li>打开 <strong>任务管理器 (Task Manager)</strong> (<code>Ctrl + Shift + Esc</code>)。</li>\n<li>切换到 <strong>性能 (Performance)</strong> -&gt; <strong>CPU</strong> 选项卡。</li>\n<li>查看右下角的 <strong>虚拟化 (Virtualization)</strong> 状态。<ul>\n<li>**已启用 (Enabled)**：✅通过，直接进入下一步。</li>\n<li>**已禁用 (Disabled)**：❌需要重启电脑进入 BIOS 开启。不同品牌主板开启方式不同（通常在 <code>Advanced</code> -&gt; <code>CPU Configuration</code> -&gt; <code>Intel VT-x</code> 或 <code>AMD-V</code>），请自行搜索“主板品牌 + 开启虚拟化”。</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h1 id=\"第二步：安装-WSL-2\"><a href=\"#第二步：安装-WSL-2\" class=\"headerlink\" title=\"第二步：安装 WSL 2\"></a>第二步：安装 WSL 2</h1><p>现在的 Windows 安装 Linux 子系统已经简单到令人发指，不需要再去控制面板勾选那一堆复杂的“Windows 功能”了。</p>\n<ol>\n<li>鼠标右键点击 <strong>开始菜单</strong>，选择 <strong>终端管理员 (Terminal Admin)</strong> 或 **PowerShell (管理员)**。</li>\n<li>输入以下命令并回车：<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wsl <span class=\"literal\">--install</span></span><br></pre></td></tr></table></figure></li>\n<li><strong>等待进度条跑完</strong>。系统会自动下载并安装 Ubuntu 发行版。</li>\n<li><strong>重启电脑</strong>。</li>\n</ol>\n<blockquote>\n<p><strong>重启后的操作</strong>：<br>电脑重启后，会自动弹出一个黑色的终端窗口（Ubuntu）。它会提示你：</p>\n<ul>\n<li>Enter new UNIX username: （输入你想用的用户名，全小写，如 <code>wang</code>）</li>\n<li>Enter new UNIX password: （设置密码，输入时屏幕不会显示，输完回车即可）</li>\n<li>Retype new UNIX password: （确认密码）</li>\n</ul>\n<p>搞定后，如果你通过 <code>wsl -l -v</code> 命令查看，应该能看到一个 <code>Ubuntu</code> 正在运行，且 Version 为 2。</p>\n</blockquote>\n<hr>\n<h1 id=\"第三步：安装-Docker-Desktop\"><a href=\"#第三步：安装-Docker-Desktop\" class=\"headerlink\" title=\"第三步：安装 Docker Desktop\"></a>第三步：安装 Docker Desktop</h1><p>Docker Desktop 是 Docker 在 Windows 上的图形化管理工具，它会自动接管 WSL2 中的 Docker 后端。</p>\n<ol>\n<li>前往 <a href=\"https://www.docker.com/products/docker-desktop/\">Docker 官网</a> 下载 <strong>Docker Desktop for Windows</strong>。</li>\n<li>双击安装。<strong>注意</strong>：在安装界面的 Configuration 步骤中，务必勾选：<ul>\n<li>✅ <strong>Use WSL 2 instead of Hyper-V (recommended)</strong></li>\n</ul>\n</li>\n<li>安装完成后，打开 Docker Desktop。<ul>\n<li>它可能会让你登录，你可以选择 Skip 暂时跳过。</li>\n<li>看到左下角变为 <strong>绿色</strong> 的 Engine running，说明 Docker 启动成功。</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p><strong>关键配置：开启 WSL 集成</strong></p>\n<ol>\n<li>点击 Docker Desktop右上角的齿轮图标 ⚙️ (Settings)。</li>\n<li>进入 <strong>Resources</strong> -&gt; <strong>WSL Integration</strong>。</li>\n<li>确保 “Enable integration with my default WSL distro” 是 <strong>勾选</strong> 状态。</li>\n<li>如果下方出现了 <code>Ubuntu</code> 的开关，也把它打开 (Toggle On)。</li>\n<li>点击 <strong>Apply &amp; Restart</strong>。</li>\n</ol>\n</blockquote>\n<hr>\n<h1 id=\"第四步：创建并启动-Laravel-项目\"><a href=\"#第四步：创建并启动-Laravel-项目\" class=\"headerlink\" title=\"第四步：创建并启动 Laravel 项目\"></a>第四步：创建并启动 Laravel 项目</h1><p>见证奇迹的时刻到了。我们所有的操作都在 WSL (Ubuntu) 中进行。</p>\n<ol>\n<li><p>打开 <strong>Windows Terminal</strong>，点击标题栏的下拉箭头，选择 <strong>Ubuntu</strong> 这里就是你的 Linux 世界。</p>\n</li>\n<li><p><strong>创建并进入代码目录</strong>：<br>为了保持（也就是 Linux 系统里的家目录）整洁，我们推荐新建一个 <code>code</code> 文件夹来存放未来的所有项目：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> ~</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> code</span><br><span class=\"line\"><span class=\"built_in\">cd</span> code</span><br></pre></td></tr></table></figure></li>\n<li><p><strong>直接运行 Laravel 官方构建命令</strong>：<br>把下面的 <code>example-app</code> 换成你想要的项目名字（比如 <code>blog</code>）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -s https://laravel.build/example-app | bash</span><br></pre></td></tr></table></figure>\n<ul>\n<li>这行命令会自动拉取由 Laravel 官方维护的 Docker 镜像，并开始下载所有依赖。第一次运行可能会受网速影响，请耐心等待（建议科学上网环境，或者配置 Docker 镜像加速）。</li>\n</ul>\n</li>\n<li><p><strong>进入项目目录</strong>：<br>当命令跑完，提示 “Thank you! We hope you build something incredible.” 时，执行：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> example-app</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>配置快捷指令（强烈推荐）</strong>：<br>每次都输入 <code>./vendor/bin/sail</code> 太麻烦了。我们配置一个 <code>sail</code>别名（官方推荐做法）：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;alias sail=&#x27;[ -f sail ] &amp;&amp; bash sail || bash vendor/bin/sail&#x27;&quot;</span> &gt;&gt; ~/.bashrc</span><br><span class=\"line\"><span class=\"built_in\">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>\n<p><em>这样以后你在任何目录下，只要敲 <code>sail</code> 就能调用命令了。</em></p>\n</li>\n<li><p>**启动 Sail (Docker 环境)**：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sail up -d</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>up</code>：启动服务。</li>\n<li><code>-d</code>：后台运行 (Detached mode)，这样你的终端窗口不会被日志霸占。</li>\n</ul>\n<p><em>第一次启动会拉取 MySQL、Redis 等镜像，可能需要一点时间。</em></p>\n</li>\n</ol>\n<hr>\n<h1 id=\"第五步：验证成果\"><a href=\"#第五步：验证成果\" class=\"headerlink\" title=\"第五步：验证成果\"></a>第五步：验证成果</h1><p>打开你的浏览器（Chrome&#x2F;Edge），在地址栏输入：</p>\n<blockquote>\n<p><strong><a href=\"http://localhost/\">http://localhost</a></strong></p>\n</blockquote>\n<p>如果你看到那个巨大的、红色的（或白色的）Laravel Logo，以及醒目的版本号。</p>\n<p>🎉 <strong>恭喜你！你已经成功在 Windows 上部署了一套最先进的 Laravel Docker 开发环境！</strong></p>\n<p>此时：</p>\n<ul>\n<li>你的电脑里没有安装 PHP。</li>\n<li>你的电脑里没有安装 MySQL。</li>\n<li>你的电脑里没有安装 Nginx。</li>\n<li><strong>但它们都在为你服务。</strong></li>\n</ul>\n<hr>\n<h1 id=\"下集预告\"><a href=\"#下集预告\" class=\"headerlink\" title=\"下集预告\"></a>下集预告</h1><p>环境通了，代码也在跑了。但我们怎么把代码存起来？怎么在公司写一半，回家换台电脑拉下来接着写？<br>下一篇：<strong>《Laravel Sail 开发环境部署一把过（Git 同步与多机开发篇）》</strong>，我们将配置 GitHub 仓库，并演示“异地开发，无感切换”的丝滑体验。</p>\n",
            "tags": [
                "Laravel",
                "Docker",
                "Sail",
                "WSL2"
            ]
        },
        {
            "id": "https://nightingalewk.cn/2026/01/22/82.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E4%BB%8B%E7%BB%8D%E7%AF%87%EF%BC%89/",
            "url": "https://nightingalewk.cn/2026/01/22/82.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E4%BB%8B%E7%BB%8D%E7%AF%87%EF%BC%89/",
            "title": "Laravel Sail 开发环境部署一把过（介绍篇）",
            "date_published": "2026-01-22T06:00:00.000Z",
            "content_html": "<hr>\n<blockquote>\n<p><strong>⚠️ 开始阅读前，必读！</strong></p>\n<p><strong>本系列教程所涉及的技术栈（Docker, WSL2, Composer 等）强烈依赖“科学上网”环境。</strong><br>如果您无法解决稳定的网络连接问题（访问 Google&#x2F;GitHub 慢），<strong>请直接放弃本方案</strong>，转而使用 PhpStudy、宝塔面板等国产集成环境，否则您的部署过程将充满痛苦与报错。<br>（关于网络问题的终极解决方案，可见系列最后一篇《疑难杂症篇》）</p>\n<p>身为开发者，拥有获取各类信息的 <strong>工具</strong> 和能力，比开发更重要</p>\n</blockquote>\n<h1 id=\"写在前面\"><a href=\"#写在前面\" class=\"headerlink\" title=\"写在前面\"></a>写在前面</h1><p>在 Windows 下开发 PHP 一直是一个让人纠结的话题。从早期的 XAMPP、WAMP，到后来国产方便快捷的 PhpStudy（小皮面板）、宝塔面板，再到更为现代化的 Docker 方案。每一个阶段都有它的痛点：</p>\n<ul>\n<li><strong>集成环境（XAMPP&#x2F;小皮等）</strong>：虽然安装简单，但往往环境版本更新滞后，且配置修改（如 php.ini）容易被覆盖或难以版本控制。还会把各种服务注册到 Windows 系统服务里，造成“环境污染”。</li>\n<li><strong>虚拟机（Vagrant &#x2F; Homestead）</strong>：虽然隔离性好了，但资源占用巨大，启动慢，文件同步性能一直是痛点。</li>\n<li><strong>本机硬撸（手动安装 PHP&#x2F;Composer&#x2F;Node）</strong>：最硬核，但也最脆弱。当你同时维护一个 PHP 7.4 的老项目和一个 PHP 8.2 的新项目时，不断的切换环境变量与版本会让你怀疑人生。</li>\n</ul>\n<p>在这个文档及其未来的文档，我计划开一个系列博客文章，叫做<strong>《Laravel Sail 开发环境部署一把过》</strong>，旨在为 Windows (WSL2) 用户提供目前最优雅、最舒适的 Laravel 开发环境解决方案。</p>\n<h2 id=\"系列计划\"><a href=\"#系列计划\" class=\"headerlink\" title=\"系列计划\"></a>系列计划</h2><ol>\n<li><strong>介绍篇（本文）</strong>：什么是 Laravel Sail？为什么它是终极方案？</li>\n<li><strong>环境配置篇</strong>：WSL2、Docker Desktop 安装与 Sail 初始化。</li>\n<li><strong>Git 同步与多机开发篇</strong>：异地开发、Docker 引导依赖安装。</li>\n<li><strong>日常使用篇</strong>：常用命令、别名配置、服务管理、Xdebug 调试。</li>\n<li><strong>疑难杂症篇</strong>：常见报错解决与性能优化技巧。</li>\n<li><strong>番外篇</strong>：工欲善其事——我的三套开发装备大公开（参考配置）。</li>\n</ol>\n<hr>\n<h1 id=\"什么是-Laravel-Sail？\"><a href=\"#什么是-Laravel-Sail？\" class=\"headerlink\" title=\"什么是 Laravel Sail？\"></a>什么是 Laravel Sail？</h1><p>在动手配置之前，我们需要先理清几个概念，防止新手朋友云里雾里。</p>\n<h3 id=\"1-Laravel\"><a href=\"#1-Laravel\" class=\"headerlink\" title=\"1. Laravel\"></a>1. Laravel</h3><p>Laravel 是目前 PHP 生态中最流行、最优雅的 Web 开发框架。</p>\n<ul>\n<li><strong>约定大于配置</strong>：这是 Laravel 的核心理念。这一特性在 AI 时代尤为重要——因为代码结构规范、可预测，<strong>非常适合 AI (LLM) 理解并生成高质量代码</strong>。</li>\n<li><strong>全能架构与繁荣生态</strong>：它提供了极度完善的工具链，“什么都有”。得益于 PHP 多年的积累，拥有一种老牌语言特有的从容自信。</li>\n<li><strong>老将新春</strong>：最新的 PHP 和 Laravel 都在积极拥抱 AI，在保持稳定性的同时不断焕发新的活力。</li>\n</ul>\n<h3 id=\"2-Docker\"><a href=\"#2-Docker\" class=\"headerlink\" title=\"2. Docker\"></a>2. Docker</h3><p>Docker 是目前全球最流行的容器化技术。你可以把它想象成一种轻量级的“虚拟机”。<br>在 Docker 的世界里，所有的服务（PHP, MySQL, Redis）都是一个个独立的<strong>容器</strong>。</p>\n<ul>\n<li>你需要 MySQL？启动一个 MySQL 容器。</li>\n<li>你需要 Redis？启动一个 Redis 容器。</li>\n<li>用完了？删掉容器，你的电脑依然干干净净，不留一丝痕迹。</li>\n</ul>\n<h3 id=\"3-Laravel-Sail\"><a href=\"#3-Laravel-Sail\" class=\"headerlink\" title=\"3. Laravel Sail\"></a>3. Laravel Sail</h3><p>虽然 Docker 很强大，但是 <code>docker run</code>、<code>docker-compose</code>、<code>Dockerfile</code> 这些复杂的配置文件和命令对于只想安心写代码的开发者来说，门槛还是太高了。</p>\n<p><strong>Laravel Sail 就是 Laravel 官方为了解决这个问题而推出的</strong>。</p>\n<p>Sail 本质上是一个轻量级的命令行界面（CLI），它帮你把复杂的 Docker 命令封装成了极为简单的 <code>sail</code> 命令。你不需要去研究怎么写 <code>docker-compose.yml</code>（虽然它在项目里，你也可以改），你只需要输入 <code>sail up</code>，你的整套开发环境（PHP, MySQL, Redis, 甚至邮件测试服务 Mailpit）就全部启动了。</p>\n<hr>\n<h1 id=\"为什么选择-Sail？\"><a href=\"#为什么选择-Sail？\" class=\"headerlink\" title=\"为什么选择 Sail？\"></a>为什么选择 Sail？</h1><p>市面上方案那么多，为什么我强烈推荐 Sail？</p>\n<h2 id=\"1-彻底的“环境隔离”与“零污染”\"><a href=\"#1-彻底的“环境隔离”与“零污染”\" class=\"headerlink\" title=\"1. 彻底的“环境隔离”与“零污染”\"></a>1. 彻底的“环境隔离”与“零污染”</h2><p>这是最核心的理由。<br>使用 Sail，你的 Windows 本机<strong>不需要安装 PHP</strong>，<strong>不需要安装 Composer</strong>，<strong>不需要安装 Node.js</strong>，甚至<strong>不需要安装 MySQL</strong>。</p>\n<p>所有的这一切，都运行在 Docker 容器里（配合 WSL2）。<br>这意味着：</p>\n<ul>\n<li><strong>多版本共存</strong>：你可以同时开启 Project A (PHP 8.2) 和 Project B (PHP 7.4)，互不干扰。</li>\n<li><strong>电脑洁癖福音</strong>：不想开发了？关掉 Docker，你的电脑就是一台纯净的办公本，没有任何残留服务在后台跑。</li>\n<li><strong>极高的容错率</strong>：无论你在容器里怎么折腾，哪怕把环境搞挂了，它绝对不会影响你的 Windows 原系统。大不了把 Docker 里的容器删了，甚至重装 Docker，然后只需一句 <code>sail up -d</code>，环境瞬间满血复活。</li>\n</ul>\n<h2 id=\"2-团队环境-100-一致\"><a href=\"#2-团队环境-100-一致\" class=\"headerlink\" title=\"2. 团队环境 100% 一致\"></a>2. 团队环境 100% 一致</h2><p>曾经无数次遇到过这种对话：</p>\n<blockquote>\n<p>“老王，为什么这个代码我跑报错？”<br>“不可能啊，我本地是好的。”</p>\n</blockquote>\n<p>这种 “It works on my machine” 的问题，通常是因为大家本地的 PHP 扩展不一样，或者 MySQL 版本有细微差异。<br>使用 Sail，项目根目录下的 <code>docker-compose.yml</code> 规定了环境的一切。<strong>代码库里长什么样，大家的开发环境就是什么样</strong>。新人入职，拉下代码，<code>sail up</code>，环境就配好了，不再需要写长长的 Wiki 告诉新人要装什么扩展。</p>\n<h2 id=\"3-官方原生支持，开箱即用\"><a href=\"#3-官方原生支持，开箱即用\" class=\"headerlink\" title=\"3. 官方原生支持，开箱即用\"></a>3. 官方原生支持，开箱即用</h2><p>Sail 是 Laravel 默认自带的。</p>\n<ul>\n<li>它自动配置好了 PHP 运行环境。</li>\n<li>它集成好了 Node&#x2F;NPM&#x2F;Vite 前端编译环境。</li>\n<li>它甚至预装好了各种常用扩展（ZIP, BCMath, GD, Redis …）。</li>\n</ul>\n<p>你不需要去网上找各种野路子教程，官方文档就是最好的说明书。</p>\n<h2 id=\"4-这里的坑，我来帮你踩\"><a href=\"#4-这里的坑，我来帮你踩\" class=\"headerlink\" title=\"4. 这里的坑，我来帮你踩\"></a>4. 这里的坑，我来帮你踩</h2><p>虽然 Sail 很好，但在国内的网络环境下，从 Docker 镜像下载到 WSL2 的配置，还是有一些坑点的。这也是我写这个《一把过》系列的初衷——<strong>让原本可能报错的步骤，变得丝般顺滑</strong>。</p>\n<hr>\n<h1 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h1><p>如果你是一名 Laravel 开发者，或者正准备入坑 Laravel，<strong>Laravel Sail + WSL2 + Docker</strong> 绝对是 Windows 平台上体验最好、最符合国际主流标准的开发环境配置。</p>\n<p>下一篇，我们将正式动手，从零开始搭建这套环境。准备好你的终端，我们开始吧！</p>\n",
            "tags": [
                "Laravel",
                "Sail"
            ]
        }
    ]
}