<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://nightingalewk.cn</id>
    <title>雪漫城的风宅 • Posts by &#34;sail&#34; tag</title>
    <link href="https://nightingalewk.cn" />
    <updated>2026-01-27T02:00:00.000Z</updated>
    <category term="迁移" />
    <category term="hexo" />
    <category term="主食" />
    <category term="电脑维修" />
    <category term="学习笔记" />
    <category term="pr" />
    <category term="bilibili" />
    <category term="热菜" />
    <category term="梦境" />
    <category term="甜品" />
    <category term="汤" />
    <category term="海鲜" />
    <category term="homestead" />
    <category term="代码更新" />
    <category term="oneinstack" />
    <category term="lnmp" />
    <category term="代码部署" />
    <category term="dcat admin" />
    <category term="oh-my-zsh" />
    <category term="debug" />
    <category term="指令" />
    <category term="道歉信" />
    <category term="免密" />
    <category term="vs code" />
    <category term="laravel sail" />
    <category term="PAC 清单" />
    <category term="fileinfo" />
    <category term="定时任务" />
    <category term="gpg" />
    <category term="sshppass" />
    <category term="awk" />
    <category term="net time" />
    <category term="swap" />
    <category term="端口查询" />
    <category term="表单验证" />
    <category term="事件" />
    <category term="blade" />
    <category term="wordpress" />
    <category term="队列" />
    <category term="redis" />
    <category term="特色小吃" />
    <category term="粥" />
    <category term="Cloudreve" />
    <category term="故障排除" />
    <category term="artisan 指令" />
    <category term="Font Awesome" />
    <category term="vite" />
    <category term="linux" />
    <category term="我的世界" />
    <category term="Minecraft" />
    <category term="膝盖中箭之地" />
    <category term="领域" />
    <category term="realms" />
    <category term="公告" />
    <category term="screen" />
    <category term="cursor" />
    <category term="人工智能" />
    <category term="prompt" />
    <category term="打印机" />
    <category term="京瓷" />
    <category term="教程" />
    <category term="Git" />
    <category term="GitHub" />
    <category term="版本控制" />
    <category term="Monorepo" />
    <category term="DevOps" />
    <category term="Laravel" />
    <category term="Docker" />
    <category term="容器化" />
    <category term="部署" />
    <category term="运维" />
    <category term="国产化" />
    <category term="信创" />
    <category term="TongHttpServer" />
    <category term="Ubuntu" />
    <category term="安装指南" />
    <category term="阿里云" />
    <category term="镜像源" />
    <category term="Rule" />
    <category term="Prompt" />
    <category term="gemini" />
    <category term="Nginx" />
    <category term="反向代理" />
    <category term="NPM" />
    <category term="HTTPS" />
    <category term="问题排查" />
    <category term="Sail" />
    <category term="WSL2" />
    <category term="Artisan" />
    <category term="Composer" />
    <category term="Troubleshooting" />
    <category term="Hardware" />
    <category term="Tooling" />
    <entry>
        <id>https://nightingalewk.cn/2026/01/27/87.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%95%AA%E5%A4%96%E7%AF%87%EF%BC%9A%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B%EF%BC%89/</id>
        <title>Laravel Sail 开发环境部署一把过（番外篇：工欲善其事）</title>
        <link rel="alternate" href="https://nightingalewk.cn/2026/01/27/87.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%95%AA%E5%A4%96%E7%AF%87%EF%BC%9A%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B%EF%BC%89/"/>
        <content type="html">&lt;h2 id=&#34;硬件选型参考-Hardware-Reference&#34;&gt;&lt;a href=&#34;#硬件选型参考-Hardware-Reference&#34; class=&#34;headerlink&#34; title=&#34;硬件选型参考 (Hardware Reference)&#34;&gt;&lt;/a&gt;硬件选型参考 (Hardware Reference)&lt;/h2&gt;&lt;p&gt;硬件部分是我自己正在使用的配置，可供参考。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Laravel Sail&lt;/strong&gt; 基于 Docker 容器化架构，其对硬件资源（特别是内存与 I&amp;#x2F;O）的需求显著高于传统集成环境。以下基于实际生产场景，提供不同层级的配置基准供选购参考。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-生产力工作站-Workstation&#34;&gt;&lt;a href=&#34;#1-生产力工作站-Workstation&#34; class=&#34;headerlink&#34; title=&#34;1. 生产力工作站 (Workstation)&#34;&gt;&lt;/a&gt;1. 生产力工作站 (Workstation)&lt;/h2&gt;&lt;p&gt;&lt;em&gt;适用场景&lt;/em&gt;：重度开发、微服务架构、本地 LLM 运行、多项目并行。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CPU&lt;/strong&gt;: Intel Xeon &amp;#x2F; Core i9 &amp;#x2F; AMD Ryzen 9 (多核性能优先)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RAM&lt;/strong&gt;: 32GB ECC&amp;#x2F;Non-ECC&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Storage&lt;/strong&gt;: NVMe SSD (Gen4&amp;#x2F;Gen5)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OS&lt;/strong&gt;: Windows 11 Pro for Workstations&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;技术分析&lt;/strong&gt;：&lt;br&gt;32GB 内存是 Docker 下流畅运行复杂栈（如 PHP + MySQL + Redis + Meilisearch + Selenium）的&lt;strong&gt;推荐配置&lt;/strong&gt;。充裕的内存允许 WSL2 保持较大的 Page Cache，显著减少磁盘 Swap 交换，提升容器冷启动速度。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-主流开发配置-Standard-Desktop&#34;&gt;&lt;a href=&#34;#2-主流开发配置-Standard-Desktop&#34; class=&#34;headerlink&#34; title=&#34;2. 主流开发配置 (Standard Desktop)&#34;&gt;&lt;/a&gt;2. 主流开发配置 (Standard Desktop)&lt;/h2&gt;&lt;p&gt;&lt;em&gt;适用场景&lt;/em&gt;：标准全栈开发、常规 Laravel 项目。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CPU&lt;/strong&gt;: Intel Core i7 &amp;#x2F; AMD Ryzen 7&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RAM&lt;/strong&gt;: 16GB DDR4&amp;#x2F;DDR5&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Storage&lt;/strong&gt;: NVMe SSD (512GB+)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;技术分析&lt;/strong&gt;：&lt;br&gt;16GB 内存是运行 Docker 开发环境的&lt;strong&gt;基准要求&lt;/strong&gt;。在并发运行 1-2 个 Sail 项目时表现良好。建议在 &lt;code&gt;.wslconfig&lt;/code&gt; 中限制 WSL2 最大内存占用（如 &lt;code&gt;memory=8GB&lt;/code&gt;），以避免宿主机系统卡顿。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-便携移动端-Portable&#34;&gt;&lt;a href=&#34;#3-便携移动端-Portable&#34; class=&#34;headerlink&#34; title=&#34;3. 便携移动端 (Portable)&#34;&gt;&lt;/a&gt;3. 便携移动端 (Portable)&lt;/h2&gt;&lt;p&gt;&lt;em&gt;适用场景&lt;/em&gt;：临时维护、远程办公、轻量级编码。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Device&lt;/strong&gt;: Surface Pro &amp;#x2F; MacBook Air &amp;#x2F; XPS 13&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Spec&lt;/strong&gt;: Core i5&amp;#x2F;i7 (Low Voltage) + 16GB RAM + SSD&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;技术分析&lt;/strong&gt;：&lt;br&gt;对于轻薄本，&lt;strong&gt;SSD 性能是瓶颈所在&lt;/strong&gt;。Docker 的 OverlayFS 对随机读写极其敏感。务必确保项目文件存储于 WSL2 内部文件系统，以规避跨系统文件协议（9P）带来的 I&amp;#x2F;O 延迟。&lt;br&gt;&lt;em&gt;Note: 不推荐在 8GB 内存设备上运行完整的 Docker 开发栈。&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;硬件选型总结&#34;&gt;&lt;a href=&#34;#硬件选型总结&#34; class=&#34;headerlink&#34; title=&#34;硬件选型总结&#34;&gt;&lt;/a&gt;硬件选型总结&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;组件&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;关键指标&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;建议&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;内存 (RAM)&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;容量&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;16GB (Min)&lt;/strong&gt; &amp;#x2F; **32GB (Rec)**。Docker 是内存密集型应用。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;磁盘 (Storage)&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;I&amp;#x2F;O 吞吐&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;必选 **SSD (NVMe)**。HDD 机械硬盘不具备运行容器环境的可行性。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;strong&gt;处理器 (CPU)&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;虚拟化&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;必须支持并开启 &lt;strong&gt;VT-x &amp;#x2F; AMD-V&lt;/strong&gt;。多核优势大于单核高频。&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-全栈工具链-Software-Toolchain&#34;&gt;&lt;a href=&#34;#4-全栈工具链-Software-Toolchain&#34; class=&#34;headerlink&#34; title=&#34;4. 全栈工具链 (Software Toolchain)&#34;&gt;&lt;/a&gt;4. 全栈工具链 (Software Toolchain)&lt;/h2&gt;&lt;p&gt;高效的开发离不开标准化的工具栈。以下是推荐的现代化 PHP 全栈开发方案。&lt;/p&gt;
&lt;h3 id=&#34;核心开发环境&#34;&gt;&lt;a href=&#34;#核心开发环境&#34; class=&#34;headerlink&#34; title=&#34;核心开发环境&#34;&gt;&lt;/a&gt;核心开发环境&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;IDE&lt;/strong&gt;: &lt;strong&gt;Antigravity&lt;/strong&gt; (配合 &lt;strong&gt;Gemini Advanced&lt;/strong&gt;)&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：AI-Native 集成开发环境。利用大模型上下文理解能力实现代码生成与重构。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DBMS&lt;/strong&gt;: &lt;strong&gt;DBeaver Community&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：通用数据库管理工具。支持 MySQL, PostgreSQL, Redis 等，开源且跨平台。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Terminal&lt;/strong&gt;: &lt;strong&gt;Windows Terminal&lt;/strong&gt; &amp;#x2F; &lt;strong&gt;Antigravity Integrated Terminal&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：现代化终端仿真器。支持多 Tab、GPU 加速渲染及 WSL 集成。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;基础设施与运维&#34;&gt;&lt;a href=&#34;#基础设施与运维&#34; class=&#34;headerlink&#34; title=&#34;基础设施与运维&#34;&gt;&lt;/a&gt;基础设施与运维&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SSH Client&lt;/strong&gt;: &lt;strong&gt;Xshell &amp;#x2F; Xftp&lt;/strong&gt; (Free for Home&amp;#x2F;School)&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：企业级终端模拟软件，连接稳定性优于开源替代品。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Remote Desktop&lt;/strong&gt;: &lt;strong&gt;ToDesk&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：低延迟远程桌面控制，适用于远程协助或应急运维。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cloud Provider&lt;/strong&gt;: &lt;strong&gt;Aliyun &amp;#x2F; Tencent Cloud&lt;/strong&gt; (Lightweight Server)&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：高性价比的测试&amp;#x2F;预发布环境托管。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;协作与生产力&#34;&gt;&lt;a href=&#34;#协作与生产力&#34; class=&#34;headerlink&#34; title=&#34;协作与生产力&#34;&gt;&lt;/a&gt;协作与生产力&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Knowledge Base&lt;/strong&gt;: &lt;strong&gt;Microsoft OneNote&lt;/strong&gt; (M365)&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：云同步笔记与技术文档归档。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Diagramming&lt;/strong&gt;: &lt;strong&gt;Diagrams.net (draw.io)&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：基于 Web 的架构图&amp;#x2F;ER 图绘制工具，支持 Git 存储后端。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Project Management&lt;/strong&gt;: &lt;strong&gt;PingCode&lt;/strong&gt;&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：敏捷研发项目管理系统。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;VCS&lt;/strong&gt;: &lt;strong&gt;GitHub&lt;/strong&gt; (Primary) &amp;#x2F; &lt;strong&gt;Gitee&lt;/strong&gt; (Mirror)&lt;ul&gt;
&lt;li&gt;&lt;em&gt;定位&lt;/em&gt;：分布式版本控制与代码托管。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Utility&lt;/strong&gt;: &lt;strong&gt;Snipaste&lt;/strong&gt; (截图&amp;#x2F;贴图) &amp;#x2F; &lt;strong&gt;Immersive Translate&lt;/strong&gt; (沉浸式翻译)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;结语&#34;&gt;&lt;a href=&#34;#结语&#34; class=&#34;headerlink&#34; title=&#34;结语&#34;&gt;&lt;/a&gt;结语&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;工欲善其事，必先利其器&lt;/strong&gt;。&lt;br&gt;标准化的硬件基准与现代化的软件工具链，是保障开发效率与代码质量的物理基础。希望这份清单能为团队的技术选型提供参考。&lt;/p&gt;
</content>
        <category term="Laravel" />
        <category term="Sail" />
        <category term="Hardware" />
        <category term="Tooling" />
        <updated>2026-01-27T02:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2026/01/26/86.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87%E7%AF%87%EF%BC%89/</id>
        <title>Laravel Sail 开发环境部署一把过（疑难杂症篇）</title>
        <link rel="alternate" href="https://nightingalewk.cn/2026/01/26/86.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87%E7%AF%87%EF%BC%89/"/>
        <content type="html">&lt;h2 id=&#34;故障排查概览&#34;&gt;&lt;a href=&#34;#故障排查概览&#34; class=&#34;headerlink&#34; title=&#34;故障排查概览&#34;&gt;&lt;/a&gt;故障排查概览&lt;/h2&gt;&lt;p&gt;本文汇总了在 Windows (WSL2) + Docker 环境下运行 Laravel Sail 时可能遇到的高频问题。我们将从网络、资源、权限与性能四个维度进行分析与解决。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-网络连接问题-Network-Connectivity&#34;&gt;&lt;a href=&#34;#1-网络连接问题-Network-Connectivity&#34; class=&#34;headerlink&#34; title=&#34;1. 网络连接问题 (Network Connectivity)&#34;&gt;&lt;/a&gt;1. 网络连接问题 (Network Connectivity)&lt;/h2&gt;&lt;p&gt;由于 Docker 镜像拉取及 Composer 依赖安装均需访问境外服务器，网络连接稳定性是环境部署的首要前提。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;典型症状&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;curl&lt;/code&gt; 安装脚本连接超时 (&lt;code&gt;Connection refused&lt;/code&gt;)。&lt;/li&gt;
&lt;li&gt;Docker 镜像拉取速度极慢或卡顿。&lt;/li&gt;
&lt;li&gt;Composer 依赖安装失败。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;解决方案&lt;/strong&gt;：&lt;br&gt;建议在宿主机配置能够处理 TUN 流量的代理工具（如 v2rayN 开启 TUN 模式）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;原理&lt;/strong&gt;：TUN 模式在网络层接管所有流量，能够自动代理 WSL2 及 Docker 容器发出的请求，无需单独配置复杂的 HTTP_PROXY 环境变量或 Docker 镜像源。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-端口冲突-Port-Conflicts&#34;&gt;&lt;a href=&#34;#2-端口冲突-Port-Conflicts&#34; class=&#34;headerlink&#34; title=&#34;2. 端口冲突 (Port Conflicts)&#34;&gt;&lt;/a&gt;2. 端口冲突 (Port Conflicts)&lt;/h2&gt;&lt;p&gt;Docker 容器尝试绑定的宿主机端口已被占用。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;典型症状&lt;/strong&gt;：&lt;br&gt;&lt;code&gt;sail up&lt;/code&gt; 启动失败，报错：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;Error response from daemon: Ports are not available: listen tcp 0.0.0.0:80: bind: An attempt was made to access a socket in a way forbidden by its access permissions.&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;根本原因&lt;/strong&gt;：&lt;br&gt;Sail 默认绑定端口：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;APP_PORT: 80 (常被 IIS, Apache, 或其他 Web 服务占用)&lt;/li&gt;
&lt;li&gt;MySQL: 3306 (常被本地 MySQL 服务占用)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;解决方案&lt;/strong&gt;：&lt;br&gt;修改项目根目录 &lt;code&gt;.env&lt;/code&gt; 文件，重映射 Docker 端口：&lt;/p&gt;
&lt;figure class=&#34;highlight ini&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;APP_PORT&lt;/span&gt;=&lt;span class=&#34;number&#34;&gt;8000&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;FORWARD_DB_PORT&lt;/span&gt;=&lt;span class=&#34;number&#34;&gt;33060&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;FORWARD_REDIS_PORT&lt;/span&gt;=&lt;span class=&#34;number&#34;&gt;63790&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;重启服务生效：&lt;code&gt;sail up -d&lt;/code&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-I-O-性能严重下降-Slow-Performance&#34;&gt;&lt;a href=&#34;#3-I-O-性能严重下降-Slow-Performance&#34; class=&#34;headerlink&#34; title=&#34;3. I&amp;#x2F;O 性能严重下降 (Slow Performance)&#34;&gt;&lt;/a&gt;3. I&amp;#x2F;O 性能严重下降 (Slow Performance)&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;典型症状&lt;/strong&gt;：&lt;br&gt;页面加载延迟极高（&amp;gt;2s），文件读写缓慢。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;根本原因&lt;/strong&gt;：&lt;br&gt;&lt;strong&gt;跨文件系统访问&lt;/strong&gt;。若项目代码存放于 Windows 文件系统（如 &lt;code&gt;/mnt/c/Users/...&lt;/code&gt;），WSL2 需通过 9P 协议进行跨跨系统文件读写，性能损耗巨大。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;最佳实践&lt;/strong&gt;：&lt;br&gt;务必将项目代码存储于 WSL2 原生文件系统中（如 &lt;code&gt;~/code&lt;/code&gt; 或 &lt;code&gt;/var/www&lt;/code&gt;）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;错误路径&lt;/em&gt;：&lt;code&gt;/mnt/c/Users/Admin/code/project&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;正确路径&lt;/em&gt;：&lt;code&gt;/home/Admin/code/project&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-文件权限问题-Permission-Denied&#34;&gt;&lt;a href=&#34;#4-文件权限问题-Permission-Denied&#34; class=&#34;headerlink&#34; title=&#34;4. 文件权限问题 (Permission Denied)&#34;&gt;&lt;/a&gt;4. 文件权限问题 (Permission Denied)&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;典型症状&lt;/strong&gt;：&lt;br&gt;应用日志无法写入，或缓存文件生成失败。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;根本原因&lt;/strong&gt;：&lt;br&gt;如果在 WSL2 中使用 &lt;code&gt;root&lt;/code&gt; 用户（或通过 &lt;code&gt;sudo&lt;/code&gt;）执行了生成文件的命令，会导致文件所有者变为 &lt;code&gt;root&lt;/code&gt;，而 Sail 容器内的 &lt;code&gt;sail&lt;/code&gt; 用户（UID 1000）无权写入。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解决方案&lt;/strong&gt;：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;修复权限&lt;/strong&gt;：使用 Sail 提供的辅助命令重置项目目录权限：&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sail root-shell &lt;span class=&#34;built_in&#34;&gt;chown&lt;/span&gt; -R sail:sail .&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;预防措施&lt;/strong&gt;：始终通过 &lt;code&gt;sail&lt;/code&gt; 别名执行命令（如 &lt;code&gt;sail npm install&lt;/code&gt;），避免直接使用 &lt;code&gt;sudo&lt;/code&gt;。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;5-外部数据库连接&#34;&gt;&lt;a href=&#34;#5-外部数据库连接&#34; class=&#34;headerlink&#34; title=&#34;5. 外部数据库连接&#34;&gt;&lt;/a&gt;5. 外部数据库连接&lt;/h2&gt;&lt;p&gt;若需使用宿主机的 GUI 工具（如 Navicat, TablePlus）连接容器数据库：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Host&lt;/strong&gt;: &lt;code&gt;localhost&lt;/code&gt; (Docker Desktop 会自动将端口转发至宿主机)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Port&lt;/strong&gt;: &lt;code&gt;3306&lt;/code&gt; (或 &lt;code&gt;.env&lt;/code&gt; 中定义的 &lt;code&gt;FORWARD_DB_PORT&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;User&lt;/strong&gt;: &lt;code&gt;sail&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Password&lt;/strong&gt;: &lt;code&gt;password&lt;/code&gt; (或 &lt;code&gt;.env&lt;/code&gt; 中定义的 &lt;code&gt;DB_PASSWORD&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;6-磁盘空间回收-Disk-Space-Reclamation&#34;&gt;&lt;a href=&#34;#6-磁盘空间回收-Disk-Space-Reclamation&#34; class=&#34;headerlink&#34; title=&#34;6. 磁盘空间回收 (Disk Space Reclamation)&#34;&gt;&lt;/a&gt;6. 磁盘空间回收 (Disk Space Reclamation)&lt;/h2&gt;&lt;p&gt;Docker Desktop 在 Windows 上使用 &lt;code&gt;ext4.vhdx&lt;/code&gt; 虚拟磁盘文件存储数据。该文件具有“动态增长，但不自动缩容”的特性，长期使用可能导致占用大量磁盘空间。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解决方案：Purge Data&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;若需释放空间，可使用 Docker Desktop 自带的清理功能（注意：此操作将&lt;strong&gt;即时删除所有&lt;/strong&gt;容器、镜像及数据卷）：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;打开 Docker Desktop -&amp;gt; &lt;strong&gt;Troubleshoot&lt;/strong&gt; (右上角甲虫图标)。&lt;/li&gt;
&lt;li&gt;选择 &lt;strong&gt;Clean &amp;#x2F; Purge data&lt;/strong&gt;。&lt;/li&gt;
&lt;li&gt;勾选 &lt;strong&gt;Disk image&lt;/strong&gt; 并点击 Delete。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;重建环境&lt;/strong&gt;：&lt;br&gt;清理完成后，只需在 WSL2 项目目录中执行两步即可完全恢复环境：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 1. 重新拉取镜像并启动&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail up -d&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 2. 重建数据库结构&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan migrate:fresh --seed&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这也体现了 &lt;strong&gt;Infrastructure as Code&lt;/strong&gt; 的优势：开发环境是可被快速销毁并重建的。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;结语&#34;&gt;&lt;a href=&#34;#结语&#34; class=&#34;headerlink&#34; title=&#34;结语&#34;&gt;&lt;/a&gt;结语&lt;/h2&gt;&lt;p&gt;至此，&lt;strong&gt;《Laravel Sail 开发环境部署一把过》&lt;/strong&gt; 系列的技术内容告一段落。&lt;br&gt;通过标准化、容器化的开发环境，我们消除了环境差异带来的不确定性。希望本系列能协助 Windows 开发者构建高效、稳定的 Laravel 工作流。&lt;/p&gt;
</content>
        <category term="Laravel" />
        <category term="Sail" />
        <category term="Troubleshooting" />
        <updated>2026-01-26T02:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2026/01/25/85.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E7%AF%87%EF%BC%89/</id>
        <title>Laravel Sail 开发环境部署一把过（日常使用篇）</title>
        <link rel="alternate" href="https://nightingalewk.cn/2026/01/25/85.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8%E7%AF%87%EF%BC%89/"/>
        <content type="html">&lt;h2 id=&#34;容器化开发范式-Development-Paradigm&#34;&gt;&lt;a href=&#34;#容器化开发范式-Development-Paradigm&#34; class=&#34;headerlink&#34; title=&#34;容器化开发范式 (Development Paradigm)&#34;&gt;&lt;/a&gt;容器化开发范式 (Development Paradigm)&lt;/h2&gt;&lt;p&gt;迁移至 Sail 环境后，开发者的核心工作流将发生本质变化：&lt;strong&gt;从调用本机二进制文件转向调用容器内运行时&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;Sail 本质上封装了 &lt;code&gt;docker-compose exec&lt;/code&gt; 指令。所有开发命令均应通过 &lt;code&gt;sail&lt;/code&gt; 代理执行，以确保运行环境与生产环境（容器镜像）的高度一致性。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;映射关系示例&lt;/strong&gt;：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;本地命令 (Deprecated)&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;容器化命令 (Recommended)&lt;/th&gt;
&lt;th align=&#34;left&#34;&gt;执行上下文&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;php artisan ...&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;sail artisan ...&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;laravel.test&lt;/code&gt; 容器 (PHP CLI)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;composer ...&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;sail composer ...&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;laravel.test&lt;/code&gt; 容器 (Composer)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;npm run ...&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;sail npm run ...&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;laravel.test&lt;/code&gt; 容器 (Node)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;mysql&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;sail mysql&lt;/code&gt;&lt;/td&gt;
&lt;td align=&#34;left&#34;&gt;&lt;code&gt;mysql&lt;/code&gt; 容器&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-后端工作流：Artisan-Composer&#34;&gt;&lt;a href=&#34;#1-后端工作流：Artisan-Composer&#34; class=&#34;headerlink&#34; title=&#34;1. 后端工作流：Artisan &amp;amp; Composer&#34;&gt;&lt;/a&gt;1. 后端工作流：Artisan &amp;amp; Composer&lt;/h2&gt;&lt;h3 id=&#34;1-1-Artisan-CLI&#34;&gt;&lt;a href=&#34;#1-1-Artisan-CLI&#34; class=&#34;headerlink&#34; title=&#34;1.1 Artisan CLI&#34;&gt;&lt;/a&gt;1.1 Artisan CLI&lt;/h3&gt;&lt;p&gt;在容器内执行 Artisan 命令，无需在宿主机配置 PHP 环境。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 生成资源 (Controller, Model, etc.)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan make:model Order -m&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 执行数据库迁移&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan migrate&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 开启队列监听&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan queue:work&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;1-2-依赖管理-Composer&#34;&gt;&lt;a href=&#34;#1-2-依赖管理-Composer&#34; class=&#34;headerlink&#34; title=&#34;1.2 依赖管理 (Composer)&#34;&gt;&lt;/a&gt;1.2 依赖管理 (Composer)&lt;/h3&gt;&lt;p&gt;使用 Sail 管理依赖可解决 PHP 版本不匹配问题（例如宿主机 PHP 8.0 而项目需 PHP 8.2）。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 安装生产依赖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail composer require guzzlehttp/guzzle&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 安装开发依赖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail composer require laravel/pint --dev&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 执行自动加载优化&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail composer dump-autoload -o&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;h2 id=&#34;2-前端工作流：Node-Vite&#34;&gt;&lt;a href=&#34;#2-前端工作流：Node-Vite&#34; class=&#34;headerlink&#34; title=&#34;2. 前端工作流：Node &amp;amp; Vite&#34;&gt;&lt;/a&gt;2. 前端工作流：Node &amp;amp; Vite&lt;/h2&gt;&lt;p&gt;Sail 默认集成了 Node.js 运行时，支持现代化的前端构建流程。这意味着宿主机也&lt;strong&gt;无需安装 Node&amp;#x2F;NPM&lt;/strong&gt;。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 安装前端依赖&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail npm install&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 启动开发服务器 (HMR hot-reload enabled)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail npm run dev&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 构建生产资源&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail npm run build&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;Sail 会自动处理 Docker 端口映射（默认 5173），确保 WSL2 中的 Vite Server 可被宿主机浏览器访问。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-服务生命周期管理&#34;&gt;&lt;a href=&#34;#3-服务生命周期管理&#34; class=&#34;headerlink&#34; title=&#34;3. 服务生命周期管理&#34;&gt;&lt;/a&gt;3. 服务生命周期管理&lt;/h2&gt;&lt;p&gt;基于 Docker Compose 的服务治理。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;启动服务栈&lt;/strong&gt; (Detached Mode):&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sail up -d&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;停止服务栈&lt;/strong&gt;:&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sail stop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;查看容器状态&lt;/strong&gt;:&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sail ps&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;em&gt;Output 示例&lt;/em&gt;:&lt;figure class=&#34;highlight text&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;NAME                    COMMAND                  STATUS              PORTS&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;example-app-laravel.test-1   &amp;quot;start-container&amp;quot;        Up                  0.0.0.0:80-&amp;gt;80/tcp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;example-app-mysql-1          &amp;quot;docker-entrypoint...&amp;quot;   Up                  0.0.0.0:3306-&amp;gt;3306/tcp&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-容器访问与调试&#34;&gt;&lt;a href=&#34;#4-容器访问与调试&#34; class=&#34;headerlink&#34; title=&#34;4. 容器访问与调试&#34;&gt;&lt;/a&gt;4. 容器访问与调试&lt;/h2&gt;&lt;h3 id=&#34;4-1-Shell-Access&#34;&gt;&lt;a href=&#34;#4-1-Shell-Access&#34; class=&#34;headerlink&#34; title=&#34;4.1 Shell Access&#34;&gt;&lt;/a&gt;4.1 Shell Access&lt;/h3&gt;&lt;p&gt;在特定场景下（如检查日志、手动调试脚本），需直接进入容器 Shell：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 以 workspace 用户 (sail) 进入应用容器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail shell&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 以 root 用户进入 (主要用于安装系统级依赖)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail root-shell&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;4-2-临时站点共享-Expose&#34;&gt;&lt;a href=&#34;#4-2-临时站点共享-Expose&#34; class=&#34;headerlink&#34; title=&#34;4.2 临时站点共享 (Expose)&#34;&gt;&lt;/a&gt;4.2 临时站点共享 (Expose)&lt;/h3&gt;&lt;p&gt;基于 &lt;code&gt;ngrok&lt;/code&gt; 或 &lt;code&gt;expose&lt;/code&gt; 的隧道服务，将本地开发环境暴露至公网，便于 Webhook 调试或远程演示。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sail share&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;执行后将获得一个 &lt;code&gt;http://&amp;lt;random&amp;gt;.sharedwithexpose.com&lt;/code&gt; 的公网链接。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;总结&#34;&gt;&lt;a href=&#34;#总结&#34; class=&#34;headerlink&#34; title=&#34;总结&#34;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;Sail 构建了一套完整的**容器化工具链 (Containerized Toolchain)**。通过简单的 CLI 封装，它屏蔽了 Docker 底层的复杂性，同时保留了容器化开发的所有优势：隔离、一致、可移植。&lt;/p&gt;
&lt;p&gt;在下一章《疑难杂症篇》中，我们将深入解决 Docker 环境下常见的运行时问题（网络、IO、权限）。&lt;/p&gt;
</content>
        <category term="Laravel" />
        <category term="Sail" />
        <category term="Artisan" />
        <category term="Composer" />
        <updated>2026-01-25T02:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2026/01/24/84.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88Git%20%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A4%9A%E6%9C%BA%E5%BC%80%E5%8F%91%E7%AF%87%EF%BC%89/</id>
        <title>Laravel Sail 开发环境部署一把过（Git 同步与多机开发篇）</title>
        <link rel="alternate" href="https://nightingalewk.cn/2026/01/24/84.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88Git%20%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A4%9A%E6%9C%BA%E5%BC%80%E5%8F%91%E7%AF%87%EF%BC%89/"/>
        <content type="html">&lt;h2 id=&#34;协同工作流概述&#34;&gt;&lt;a href=&#34;#协同工作流概述&#34; class=&#34;headerlink&#34; title=&#34;协同工作流概述&#34;&gt;&lt;/a&gt;协同工作流概述&lt;/h2&gt;&lt;p&gt;在多设备（如公司工作站与家用 PC）间同步 Laravel Sail 项目时，核心挑战在于&lt;strong&gt;依赖的引导与恢复&lt;/strong&gt;。&lt;br&gt;由于 &lt;code&gt;sail&lt;/code&gt; 命令行脚本位于 &lt;code&gt;/vendor/bin&lt;/code&gt; 目录下，而 &lt;code&gt;/vendor&lt;/code&gt; 目录通常被 Git 忽略。这导致在新设备拉取代码后，因缺少 &lt;code&gt;vendor&lt;/code&gt; 目录而无法直接调用 &lt;code&gt;sail&lt;/code&gt; 命令启动环境，进而无法安装依赖——这是一个典型的死锁问题。&lt;/p&gt;
&lt;p&gt;本文将介绍标准化的多机协同方案，通过 Docker 临时容器完成依赖的**初始化引导 (Bootstrapping)**。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-源代码提交-Source-Control&#34;&gt;&lt;a href=&#34;#1-源代码提交-Source-Control&#34; class=&#34;headerlink&#34; title=&#34;1. 源代码提交 (Source Control)&#34;&gt;&lt;/a&gt;1. 源代码提交 (Source Control)&lt;/h2&gt;&lt;p&gt;在首台设备（如初始化项目的机器）上，需确保 Git 忽略规则符合标准。Laravel 默认的 &lt;code&gt;.gitignore&lt;/code&gt; 已包含 &lt;code&gt;/vendor&lt;/code&gt; 与 &lt;code&gt;.env&lt;/code&gt;，请遵循此规范，&lt;strong&gt;切勿&lt;/strong&gt;将依赖包或敏感配置提交至版本控制系统。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 标准 Git 初始化流程&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git init&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git checkout -b main&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git add .&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git commit -m &lt;span class=&#34;string&#34;&gt;&amp;quot;feat: project init&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git remote add origin &amp;lt;repository_url&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git push -u origin main&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;h2 id=&#34;2-新环境拉取与依赖引导&#34;&gt;&lt;a href=&#34;#2-新环境拉取与依赖引导&#34; class=&#34;headerlink&#34; title=&#34;2. 新环境拉取与依赖引导&#34;&gt;&lt;/a&gt;2. 新环境拉取与依赖引导&lt;/h2&gt;&lt;p&gt;在第二台设备上，确保已部署好 WSL2 与 Docker Desktop 环境。&lt;/p&gt;
&lt;h3 id=&#34;2-1-克隆代码&#34;&gt;&lt;a href=&#34;#2-1-克隆代码&#34; class=&#34;headerlink&#34; title=&#34;2.1 克隆代码&#34;&gt;&lt;/a&gt;2.1 克隆代码&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;mkdir&lt;/span&gt; -p ~/code &amp;amp;&amp;amp; &lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; ~/code&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git &lt;span class=&#34;built_in&#34;&gt;clone&lt;/span&gt; &amp;lt;repository_url&amp;gt; project-name&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; project-name&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-2-依赖引导-Dependency-Bootstrapping&#34;&gt;&lt;a href=&#34;#2-2-依赖引导-Dependency-Bootstrapping&#34; class=&#34;headerlink&#34; title=&#34;2.2 依赖引导 (Dependency Bootstrapping)&#34;&gt;&lt;/a&gt;2.2 依赖引导 (Dependency Bootstrapping)&lt;/h3&gt;&lt;p&gt;此时无法直接运行 &lt;code&gt;sail up&lt;/code&gt;。我们需要通过 Docker 运行一个一次性的 PHP 容器来执行 &lt;code&gt;composer install&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;执行以下指令（Laravle 官方推荐方案）：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker run --&lt;span class=&#34;built_in&#34;&gt;rm&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -u &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;$(id -u)&lt;/span&gt;:&lt;span class=&#34;subst&#34;&gt;$(id -g)&lt;/span&gt;&amp;quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -v &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;$(pwd)&lt;/span&gt;:/var/www/html&amp;quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -w /var/www/html \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    laravelsail/php82-composer:latest \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    composer install --ignore-platform-reqs&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;指令解析&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--rm&lt;/code&gt;: 容器执行完毕后自动删除，不残留垃圾。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-u &amp;quot;$(id -u):$(id -g)&amp;quot;&lt;/code&gt;: 使用当前宿主机用户 ID 运行容器内进程，&lt;strong&gt;确保生成的 vendor 文件权限正确&lt;/strong&gt;（避免 root 权限问题）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-v &amp;quot;$(pwd):/var/www/html&amp;quot;&lt;/code&gt;: 将当前项目目录挂载至容器。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;laravelsail/php82-composer&lt;/code&gt;: 使用包含 PHP 8.2 和 Composer 的专用镜像。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;执行完毕后，宿主机目录下将生成标准的 &lt;code&gt;vendor&lt;/code&gt; 目录，此时 &lt;code&gt;sail&lt;/code&gt; 脚本已就位。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-环境配置与启动&#34;&gt;&lt;a href=&#34;#3-环境配置与启动&#34; class=&#34;headerlink&#34; title=&#34;3. 环境配置与启动&#34;&gt;&lt;/a&gt;3. 环境配置与启动&lt;/h2&gt;&lt;h3 id=&#34;3-1-配置文件初始化&#34;&gt;&lt;a href=&#34;#3-1-配置文件初始化&#34; class=&#34;headerlink&#34; title=&#34;3.1 配置文件初始化&#34;&gt;&lt;/a&gt;3.1 配置文件初始化&lt;/h3&gt;&lt;p&gt;复制环境变量模版文件。注意：生产环境密钥或特定基础设施配置（如 AWS Keys）需单独配置，不应包含在仓库中。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cp&lt;/span&gt; .env.example .&lt;span class=&#34;built_in&#34;&gt;env&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;3-2-启动容器栈&#34;&gt;&lt;a href=&#34;#3-2-启动容器栈&#34; class=&#34;headerlink&#34; title=&#34;3.2 启动容器栈&#34;&gt;&lt;/a&gt;3.2 启动容器栈&lt;/h3&gt;&lt;p&gt;拥有 &lt;code&gt;vendor&lt;/code&gt; 目录后，即可正常调用 Sail：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 启动环境&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail up -d&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 生成应用密钥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan key:generate&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 执行数据库迁移&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan migrate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;h2 id=&#34;4-验证与总结&#34;&gt;&lt;a href=&#34;#4-验证与总结&#34; class=&#34;headerlink&#34; title=&#34;4. 验证与总结&#34;&gt;&lt;/a&gt;4. 验证与总结&lt;/h2&gt;&lt;p&gt;访问 &lt;code&gt;http://localhost&lt;/code&gt; 确认服务运行正常。&lt;/p&gt;
&lt;p&gt;至此，我们建立了一套基于 &lt;strong&gt;Git + Docker Bootstrapping&lt;/strong&gt; 的标准化工作流：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;提交&lt;/strong&gt;：仅提交业务代码与声明文件 (&lt;code&gt;composer.json&lt;/code&gt;, &lt;code&gt;docker-compose.yml&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;拉取&lt;/strong&gt;：在任意新设备获取代码。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;引导&lt;/strong&gt;：使用 &lt;code&gt;docker run&lt;/code&gt; 引导安装依赖。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;启动&lt;/strong&gt;：使用 &lt;code&gt;sail up&lt;/code&gt; 一键拉起完整环境。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这种工作流确保了，无论在哪台设备，只要有 Docker，就能 100% 复刻出完全一致的开发环境。&lt;/p&gt;
</content>
        <category term="Git" />
        <category term="GitHub" />
        <category term="Laravel" />
        <category term="Sail" />
        <updated>2026-01-24T02:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/</id>
        <title>Laravel Sail 开发环境部署一把过（环境配置篇）</title>
        <link rel="alternate" href="https://nightingalewk.cn/2026/01/23/83.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87%EF%BC%89/"/>
        <content type="html">&lt;h2 id=&#34;部署目标&#34;&gt;&lt;a href=&#34;#部署目标&#34; class=&#34;headerlink&#34; title=&#34;部署目标&#34;&gt;&lt;/a&gt;部署目标&lt;/h2&gt;&lt;p&gt;本文将从零开始构建基于 &lt;strong&gt;WSL2 (Windows Subsystem for Linux 2)&lt;/strong&gt; 的标准化 Docker 开发环境，并完成首个 Laravel Sail 项目的初始化。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;环境要求&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OS&lt;/strong&gt;: Windows 11 (Build 22000+) 或 Windows 10 (Build 19041+).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;BIOS&lt;/strong&gt;: 开启 CPU 虚拟化 (Virtualization Technology).&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-基础设施准备&#34;&gt;&lt;a href=&#34;#1-基础设施准备&#34; class=&#34;headerlink&#34; title=&#34;1. 基础设施准备&#34;&gt;&lt;/a&gt;1. 基础设施准备&lt;/h2&gt;&lt;h3 id=&#34;1-1-验证虚拟化支持&#34;&gt;&lt;a href=&#34;#1-1-验证虚拟化支持&#34; class=&#34;headerlink&#34; title=&#34;1.1 验证虚拟化支持&#34;&gt;&lt;/a&gt;1.1 验证虚拟化支持&lt;/h3&gt;&lt;p&gt;Docker Desktop 依赖 Hypervisor 层支持。请确保 BIOS&amp;#x2F;UEFI 中已开启虚拟化（Intel VT-x 或 AMD-V）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;验证方式&lt;/em&gt;：任务管理器 -&amp;gt; 性能 -&amp;gt; CPU -&amp;gt; &lt;strong&gt;虚拟化：已启用&lt;/strong&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-2-部署-WSL2&#34;&gt;&lt;a href=&#34;#1-2-部署-WSL2&#34; class=&#34;headerlink&#34; title=&#34;1.2 部署 WSL2&#34;&gt;&lt;/a&gt;1.2 部署 WSL2&lt;/h3&gt;&lt;p&gt;使用管理员权限打开 PowerShell 或 Windows Terminal，执行以下指令完成 WSL2 及 Ubuntu 发行版的自动安装：&lt;/p&gt;
&lt;figure class=&#34;highlight powershell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;wsl &lt;span class=&#34;literal&#34;&gt;--install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: 安装完成后需&lt;strong&gt;重启系统&lt;/strong&gt;。重启后会自动弹出终端窗口，按提示设置 UNIX 用户名与密码即可。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;1-3-安装-Docker-Desktop&#34;&gt;&lt;a href=&#34;#1-3-安装-Docker-Desktop&#34; class=&#34;headerlink&#34; title=&#34;1.3 安装 Docker Desktop&#34;&gt;&lt;/a&gt;1.3 安装 Docker Desktop&lt;/h3&gt;&lt;p&gt;下载并安装 &lt;a href=&#34;https://www.docker.com/products/docker-desktop/&#34;&gt;Docker Desktop for Windows&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;关键配置检查&lt;/strong&gt;：&lt;br&gt;安装向导中务必勾选 &lt;strong&gt;Use WSL 2 instead of Hyper-V&lt;/strong&gt;（通常为默认选中）。&lt;br&gt;启动后，进入 Settings -&amp;gt; Resources -&amp;gt; WSL Integration：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;确保 &lt;strong&gt;Enable integration with my default WSL distro&lt;/strong&gt; 为开启状态。&lt;/li&gt;
&lt;li&gt;在下方 distro 列表中，确保 &lt;strong&gt;Ubuntu&lt;/strong&gt; 处于开启状态。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-初始化-Laravel-Sail-项目&#34;&gt;&lt;a href=&#34;#2-初始化-Laravel-Sail-项目&#34; class=&#34;headerlink&#34; title=&#34;2. 初始化 Laravel Sail 项目&#34;&gt;&lt;/a&gt;2. 初始化 Laravel Sail 项目&lt;/h2&gt;&lt;p&gt;所有后续操作建议直接在 WSL2 终端（Ubuntu）中执行，以获得原生的 Linux 开发体验。&lt;/p&gt;
&lt;h3 id=&#34;2-1-创建工作区&#34;&gt;&lt;a href=&#34;#2-1-创建工作区&#34; class=&#34;headerlink&#34; title=&#34;2.1 创建工作区&#34;&gt;&lt;/a&gt;2.1 创建工作区&lt;/h3&gt;&lt;p&gt;建议在 WSL 用户主目录下统一管理项目，避免 Windows 文件系统 (NTFS) 挂载带来的 I&amp;#x2F;O 性能损耗。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;mkdir&lt;/span&gt; -p ~/code &amp;amp;&amp;amp; &lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; ~/code&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-2-构建项目&#34;&gt;&lt;a href=&#34;#2-2-构建项目&#34; class=&#34;headerlink&#34; title=&#34;2.2 构建项目&#34;&gt;&lt;/a&gt;2.2 构建项目&lt;/h3&gt;&lt;p&gt;使用 Laravel 官方构建脚本初始化项目（通过临时 Docker 容器）：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 请将 &amp;#x27;example-app&amp;#x27; 替换为实际项目名&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;curl -s https://laravel.build/example-app | bash&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;该指令会自动拉取 &lt;code&gt;php-cli&lt;/code&gt; 镜像及相关依赖。&lt;/p&gt;
&lt;h3 id=&#34;2-3-配置-Shell-Alias-推荐&#34;&gt;&lt;a href=&#34;#2-3-配置-Shell-Alias-推荐&#34; class=&#34;headerlink&#34; title=&#34;2.3 配置 Shell Alias (推荐)&#34;&gt;&lt;/a&gt;2.3 配置 Shell Alias (推荐)&lt;/h3&gt;&lt;p&gt;为简化操作，建议将 &lt;code&gt;sail&lt;/code&gt; 执行脚本映射为 Shell 别名。编辑 &lt;code&gt;~/.bashrc&lt;/code&gt; 或 &lt;code&gt;~/.zshrc&lt;/code&gt;：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 添加至配置文件末尾&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;alias&lt;/span&gt; sail=&lt;span class=&#34;string&#34;&gt;&amp;#x27;[ -f sail ] &amp;amp;&amp;amp; bash sail || bash vendor/bin/sail&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;加载生效：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;source&lt;/span&gt; ~/.bashrc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;h2 id=&#34;3-启动与验证&#34;&gt;&lt;a href=&#34;#3-启动与验证&#34; class=&#34;headerlink&#34; title=&#34;3. 启动与验证&#34;&gt;&lt;/a&gt;3. 启动与验证&lt;/h2&gt;&lt;h3 id=&#34;3-1-启动环境&#34;&gt;&lt;a href=&#34;#3-1-启动环境&#34; class=&#34;headerlink&#34; title=&#34;3.1 启动环境&#34;&gt;&lt;/a&gt;3.1 启动环境&lt;/h3&gt;&lt;p&gt;进入项目目录并后台启动 Sail 服务栈：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; ~/code/example-app&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail up -d&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;Sail 将根据 &lt;code&gt;docker-compose.yml&lt;/code&gt;编排启动 PHP、MySQL、Redis 等容器。首次启动涉及镜像拉取，耗时取决于网络环境。&lt;/p&gt;
&lt;h3 id=&#34;3-2-服务验证&#34;&gt;&lt;a href=&#34;#3-2-服务验证&#34; class=&#34;headerlink&#34; title=&#34;3.2 服务验证&#34;&gt;&lt;/a&gt;3.2 服务验证&lt;/h3&gt;&lt;p&gt;服务启动后，通过宿主机浏览器访问 &lt;code&gt;http://localhost&lt;/code&gt;。&lt;br&gt;若显示 Laravel 欢迎页，即表示：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;✅ Docker 容器运行正常&lt;/li&gt;
&lt;li&gt;✅ 端口转发 (Port Forwarding) 正常&lt;/li&gt;
&lt;li&gt;✅ PHP 运行时挂载正常&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;下一步&#34;&gt;&lt;a href=&#34;#下一步&#34; class=&#34;headerlink&#34; title=&#34;下一步&#34;&gt;&lt;/a&gt;下一步&lt;/h2&gt;&lt;p&gt;基础环境已就绪。下一章节我们将讨论&lt;strong&gt;多端协作场景&lt;/strong&gt;：如何基于 Git 管理代码，并在不同设备间实现无缝的依赖引导与环境同步。&lt;/p&gt;
</content>
        <category term="Laravel" />
        <category term="Docker" />
        <category term="Sail" />
        <category term="WSL2" />
        <updated>2026-01-23T10:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://nightingalewk.cn/2026/01/22/82.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E4%BB%8B%E7%BB%8D%E7%AF%87%EF%BC%89/</id>
        <title>Laravel Sail 开发环境部署一把过（介绍篇）</title>
        <link rel="alternate" href="https://nightingalewk.cn/2026/01/22/82.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88%E4%BB%8B%E7%BB%8D%E7%AF%87%EF%BC%89/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;⚠️ 前置要求&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;本系列涉及的技术栈（Docker, WSL2, Composer）依赖稳定的国际互联网连接。&lt;/strong&gt;&lt;br&gt;如果无法解决网络访问问题（如 Docker Hub 镜像拉取），这套方案将难以实施。建议优先解决网络层设施，或退而求其次选择传统集成环境。&lt;br&gt;（网络解决方案详见系列第五篇《疑难杂症篇》）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;引言&#34;&gt;&lt;a href=&#34;#引言&#34; class=&#34;headerlink&#34; title=&#34;引言&#34;&gt;&lt;/a&gt;引言&lt;/h2&gt;&lt;p&gt;在 Windows 平台搭建标准的 PHP 开发环境，历来有多种技术选型。从早期的集成包（XAMPP&amp;#x2F;WAMP），到国产面板（PhpStudy&amp;#x2F;宝塔），再到完全虚拟化（Vagrant&amp;#x2F;Homestead）。每种方案在解决特定问题的同时，也引入了新的维护成本：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;集成环境&lt;/strong&gt;：安装便捷，但环境版本耦合严重，配置（如 php.ini）管理混乱，且会对宿主机注册大量系统服务，造成“环境污染”。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;虚拟机&lt;/strong&gt;：实现了隔离，但系统资源开销大，启动缓慢，且文件系统同步（I&amp;#x2F;O）性能始终是瓶颈。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;本机原生安装&lt;/strong&gt;：依赖手动管理 PHP 系统路径和扩展，多版本共存（e.g., Maintain PHP 7.4 Legacy &amp;amp; PHP 8.2 New Project）维护极其繁琐。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本系列文章旨在为 Windows (WSL2) 用户提供一套基于 &lt;strong&gt;Laravel Sail&lt;/strong&gt; 的现代化开发环境最佳实践，涵盖从环境初始化到团队协作的全流程。&lt;/p&gt;
&lt;h3 id=&#34;系列大纲&#34;&gt;&lt;a href=&#34;#系列大纲&#34; class=&#34;headerlink&#34; title=&#34;系列大纲&#34;&gt;&lt;/a&gt;系列大纲&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;介绍篇（本文）&lt;/strong&gt;：架构原理解析与技术选型优势。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;环境配置篇&lt;/strong&gt;：WSL2、Docker Desktop 安装及 Sail 项目初始化。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Git 同步与多机开发篇&lt;/strong&gt;：基于 Docker 临时容器的依赖引导与多端同步。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;日常使用篇&lt;/strong&gt;：Sail CLI 命令映射、服务管理与 Shell 常用技巧。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;疑难杂症篇&lt;/strong&gt;：常见网络、端口、权限及性能问题排查。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;番外篇&lt;/strong&gt;：开发设备选型与全栈工具链参考。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h2 id=&#34;什么是-Laravel-Sail？&#34;&gt;&lt;a href=&#34;#什么是-Laravel-Sail？&#34; class=&#34;headerlink&#34; title=&#34;什么是 Laravel Sail？&#34;&gt;&lt;/a&gt;什么是 Laravel Sail？&lt;/h2&gt;&lt;p&gt;在进入实操前，需明确其核心组件与设计理念。&lt;/p&gt;
&lt;h3 id=&#34;1-框架层：Laravel&#34;&gt;&lt;a href=&#34;#1-框架层：Laravel&#34; class=&#34;headerlink&#34; title=&#34;1. 框架层：Laravel&#34;&gt;&lt;/a&gt;1. 框架层：Laravel&lt;/h3&gt;&lt;p&gt;作为 PHP 生态中最主流的 Web 框架，Laravel 强调 **Convention over Configuration (约定优于配置)**。这一理念使得代码结构具有高度的可预测性，不仅利于团队协作，也使得当前的 AI 辅助编程工具（如 Copilot, Gemini）能更准确地理解上下文并生成高质量代码。&lt;/p&gt;
&lt;h3 id=&#34;2-容器层：Docker&#34;&gt;&lt;a href=&#34;#2-容器层：Docker&#34; class=&#34;headerlink&#34; title=&#34;2. 容器层：Docker&#34;&gt;&lt;/a&gt;2. 容器层：Docker&lt;/h3&gt;&lt;p&gt;Docker 提供了独立于宿主机的运行环境。在 Docker 架构中，应用及其依赖（Runtime, Database, Cache）被封装为标准化的**容器 (Container)**。这实现了“用完即焚”的轻量化管理，从根本上解决了环境残留问题。&lt;/p&gt;
&lt;h3 id=&#34;3-本地编排：Laravel-Sail&#34;&gt;&lt;a href=&#34;#3-本地编排：Laravel-Sail&#34; class=&#34;headerlink&#34; title=&#34;3. 本地编排：Laravel Sail&#34;&gt;&lt;/a&gt;3. 本地编排：Laravel Sail&lt;/h3&gt;&lt;p&gt;虽然 Docker 强大，但编写和维护 &lt;code&gt;Dockerfile&lt;/code&gt; 与 &lt;code&gt;docker-compose.yml&lt;/code&gt; 具有一定的学习曲线。&lt;br&gt;&lt;strong&gt;Laravel Sail 是 Laravel 官方提供的轻量级 CLI 接口&lt;/strong&gt;，用于与 Docker 开发环境进行交互。&lt;/p&gt;
&lt;p&gt;它本质上是对 docker-compose 的封装。开发者无需手动执行复杂的 Docker 指令，只需通过简单的 &lt;code&gt;sail&lt;/code&gt; 命令即可管理包含 PHP, MySQL, Redis 等服务的完整技术栈。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;为什么选择-Sail？&#34;&gt;&lt;a href=&#34;#为什么选择-Sail？&#34; class=&#34;headerlink&#34; title=&#34;为什么选择 Sail？&#34;&gt;&lt;/a&gt;为什么选择 Sail？&lt;/h2&gt;&lt;p&gt;在众多方案中推荐 Sail，主要基于以下技术考量：&lt;/p&gt;
&lt;h3 id=&#34;1-彻底的环境隔离-Isolation&#34;&gt;&lt;a href=&#34;#1-彻底的环境隔离-Isolation&#34; class=&#34;headerlink&#34; title=&#34;1. 彻底的环境隔离 (Isolation)&#34;&gt;&lt;/a&gt;1. 彻底的环境隔离 (Isolation)&lt;/h3&gt;&lt;p&gt;这是现代化开发环境的核心诉求。&lt;br&gt;在 Sail 架构下，&lt;strong&gt;宿主机（Host OS）无需安装 PHP、Composer、Node.js 或 MySQL&lt;/strong&gt;。所有运行时均托管于 Docker 容器内。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;多版本并行&lt;/strong&gt;：可同时运行基于不同 PHP 版本的项目，容器间网络与文件系统互不干扰。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;零污染&lt;/strong&gt;：开发服务不占用本地系统服务资源，容器停止后，宿主机保持纯净。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;高容错&lt;/strong&gt;：环境配置失误仅影响容器本身，通过重建容器即可快速恢复。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-Infrastructure-as-Code-IaC-与环境一致性&#34;&gt;&lt;a href=&#34;#2-Infrastructure-as-Code-IaC-与环境一致性&#34; class=&#34;headerlink&#34; title=&#34;2. Infrastructure as Code (IaC) 与环境一致性&#34;&gt;&lt;/a&gt;2. Infrastructure as Code (IaC) 与环境一致性&lt;/h3&gt;&lt;p&gt;“Look, it works on my machine” 是团队协作中的典型低效场景，通常源于本地扩展、库版本或配置文件的细微差异。&lt;br&gt;Sail 项目根目录下的 &lt;code&gt;docker-compose.yml&lt;/code&gt; 显式定义了环境拓扑。&lt;strong&gt;代码库即环境&lt;/strong&gt;。新成员拉取代码后，只需执行启动命令，即可获得与 CI&amp;#x2F;CD 管道及生产环境高度一致的运行环境，显著降低了 Onboarding 成本。&lt;/p&gt;
&lt;h3 id=&#34;3-官方原生支持&#34;&gt;&lt;a href=&#34;#3-官方原生支持&#34; class=&#34;headerlink&#34; title=&#34;3. 官方原生支持&#34;&gt;&lt;/a&gt;3. 官方原生支持&lt;/h3&gt;&lt;p&gt;作为框架的一等公民（First-party Integration）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;预置了适配 Laravel 的 &lt;code&gt;php.ini&lt;/code&gt; 配置。&lt;/li&gt;
&lt;li&gt;集成了 Node&amp;#x2F;NPM 及 Vite 热更新支持。&lt;/li&gt;
&lt;li&gt;内置了常用 PHP 扩展（BCMath, Intl, GD 等）及辅助服务（Mailpit, Selenium）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;官方维护保证了环境镜像的安全性与更新及时性。&lt;/p&gt;
&lt;h3 id=&#34;4-针对性优化&#34;&gt;&lt;a href=&#34;#4-针对性优化&#34; class=&#34;headerlink&#34; title=&#34;4. 针对性优化&#34;&gt;&lt;/a&gt;4. 针对性优化&lt;/h3&gt;&lt;p&gt;尽管 Docker on Windows 体验已大幅提升，但在文件系统（NTFS vs ext4）和网络层面仍存在特定坑点。本系列将针对国内网络环境及 WSL2 的 I&amp;#x2F;O 性能特性，提供经过验证的最佳实践配置。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;总结&#34;&gt;&lt;a href=&#34;#总结&#34; class=&#34;headerlink&#34; title=&#34;总结&#34;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;对于追求工程标准化的 Laravel 开发者，&lt;strong&gt;Laravel Sail + WSL2 + Docker&lt;/strong&gt; 是目前 Windows 平台上最符合业界标准的开发环境方案。&lt;/p&gt;
&lt;p&gt;下一章我们将进入实施阶段，完成基础环境的搭建。&lt;/p&gt;
</content>
        <category term="Laravel" />
        <category term="Sail" />
        <updated>2026-01-22T06:00:00.000Z</updated>
    </entry>
</feed>
