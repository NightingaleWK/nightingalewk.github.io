<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>雪漫城的风宅 • Posts by &#34;github&#34; tag</title>
        <link>https://nightingalewk.cn</link>
        <description>この世界は好都合に未完成 だから知りたいんだ —— チ。-地球の運動について-</description>
        <language>zh-CN</language>
        <pubDate>Sat, 24 Jan 2026 10:00:00 +0800</pubDate>
        <lastBuildDate>Sat, 24 Jan 2026 10:00:00 +0800</lastBuildDate>
        <category>迁移</category>
        <category>电脑维修</category>
        <category>hexo</category>
        <category>pr</category>
        <category>bilibili</category>
        <category>主食</category>
        <category>学习笔记</category>
        <category>汤</category>
        <category>热菜</category>
        <category>梦境</category>
        <category>甜品</category>
        <category>海鲜</category>
        <category>homestead</category>
        <category>代码更新</category>
        <category>oneinstack</category>
        <category>lnmp</category>
        <category>代码部署</category>
        <category>dcat admin</category>
        <category>oh-my-zsh</category>
        <category>debug</category>
        <category>指令</category>
        <category>免密</category>
        <category>道歉信</category>
        <category>vs code</category>
        <category>laravel sail</category>
        <category>fileinfo</category>
        <category>PAC 清单</category>
        <category>定时任务</category>
        <category>gpg</category>
        <category>sshppass</category>
        <category>awk</category>
        <category>net time</category>
        <category>端口查询</category>
        <category>swap</category>
        <category>表单验证</category>
        <category>事件</category>
        <category>blade</category>
        <category>wordpress</category>
        <category>特色小吃</category>
        <category>队列</category>
        <category>redis</category>
        <category>粥</category>
        <category>artisan 指令</category>
        <category>Cloudreve</category>
        <category>Font Awesome</category>
        <category>vite</category>
        <category>故障排除</category>
        <category>我的世界</category>
        <category>Minecraft</category>
        <category>膝盖中箭之地</category>
        <category>领域</category>
        <category>realms</category>
        <category>公告</category>
        <category>linux</category>
        <category>screen</category>
        <category>cursor</category>
        <category>人工智能</category>
        <category>prompt</category>
        <category>打印机</category>
        <category>京瓷</category>
        <category>教程</category>
        <category>Git</category>
        <category>GitHub</category>
        <category>版本控制</category>
        <category>国产化</category>
        <category>信创</category>
        <category>TongHttpServer</category>
        <category>DevOps</category>
        <category>Monorepo</category>
        <category>Laravel</category>
        <category>Docker</category>
        <category>容器化</category>
        <category>部署</category>
        <category>运维</category>
        <category>Ubuntu</category>
        <category>安装指南</category>
        <category>阿里云</category>
        <category>镜像源</category>
        <category>Rule</category>
        <category>Prompt</category>
        <category>gemini</category>
        <category>Nginx</category>
        <category>反向代理</category>
        <category>NPM</category>
        <category>HTTPS</category>
        <category>问题排查</category>
        <category>Sail</category>
        <category>Troubleshooting</category>
        <category>WSL2</category>
        <category>Artisan</category>
        <category>Composer</category>
        <category>Hardware</category>
        <category>Tooling</category>
        <item>
            <guid isPermalink="true">https://nightingalewk.cn/2026/01/24/84.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88Git%20%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A4%9A%E6%9C%BA%E5%BC%80%E5%8F%91%E7%AF%87%EF%BC%89/</guid>
            <title>Laravel Sail 开发环境部署一把过（Git 同步与多机开发篇）</title>
            <link>https://nightingalewk.cn/2026/01/24/84.%20Laravel%20Sail%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%E4%B8%80%E6%8A%8A%E8%BF%87%EF%BC%88Git%20%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%A4%9A%E6%9C%BA%E5%BC%80%E5%8F%91%E7%AF%87%EF%BC%89/</link>
            <category>Git</category>
            <category>GitHub</category>
            <category>Laravel</category>
            <category>Sail</category>
            <pubDate>Sat, 24 Jan 2026 10:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;协同工作流概述&#34;&gt;&lt;a href=&#34;#协同工作流概述&#34; class=&#34;headerlink&#34; title=&#34;协同工作流概述&#34;&gt;&lt;/a&gt;协同工作流概述&lt;/h2&gt;&lt;p&gt;在多设备（如公司工作站与家用 PC）间同步 Laravel Sail 项目时，核心挑战在于&lt;strong&gt;依赖的引导与恢复&lt;/strong&gt;。&lt;br&gt;由于 &lt;code&gt;sail&lt;/code&gt; 命令行脚本位于 &lt;code&gt;/vendor/bin&lt;/code&gt; 目录下，而 &lt;code&gt;/vendor&lt;/code&gt; 目录通常被 Git 忽略。这导致在新设备拉取代码后，因缺少 &lt;code&gt;vendor&lt;/code&gt; 目录而无法直接调用 &lt;code&gt;sail&lt;/code&gt; 命令启动环境，进而无法安装依赖——这是一个典型的死锁问题。&lt;/p&gt;
&lt;p&gt;本文将介绍标准化的多机协同方案，通过 Docker 临时容器完成依赖的 &lt;strong&gt;初始化引导 （Bootstrapping）&lt;/strong&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-源代码提交&#34;&gt;&lt;a href=&#34;#1-源代码提交&#34; class=&#34;headerlink&#34; title=&#34;1. 源代码提交&#34;&gt;&lt;/a&gt;1. 源代码提交&lt;/h2&gt;&lt;p&gt;在首台设备（如初始化项目的机器）上，需确保 Git 忽略规则符合标准。Laravel 默认的 &lt;code&gt;.gitignore&lt;/code&gt; 已包含 &lt;code&gt;/vendor&lt;/code&gt; 与 &lt;code&gt;.env&lt;/code&gt;，请遵循此规范，&lt;strong&gt;切勿&lt;/strong&gt;将依赖包或敏感配置提交至版本控制系统。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 标准 Git 初始化流程&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git init&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git checkout -b main&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git add .&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git commit -m &lt;span class=&#34;string&#34;&gt;&amp;quot;feat: project init&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git remote add origin &amp;lt;repository_url&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git push -u origin main&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;h2 id=&#34;2-新环境拉取与依赖引导&#34;&gt;&lt;a href=&#34;#2-新环境拉取与依赖引导&#34; class=&#34;headerlink&#34; title=&#34;2. 新环境拉取与依赖引导&#34;&gt;&lt;/a&gt;2. 新环境拉取与依赖引导&lt;/h2&gt;&lt;p&gt;在第二台设备上，确保已部署好 WSL2 与 Docker Desktop 环境。&lt;/p&gt;
&lt;h3 id=&#34;2-1-克隆代码&#34;&gt;&lt;a href=&#34;#2-1-克隆代码&#34; class=&#34;headerlink&#34; title=&#34;2.1 克隆代码&#34;&gt;&lt;/a&gt;2.1 克隆代码&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;mkdir&lt;/span&gt; -p ~/code &amp;amp;&amp;amp; &lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; ~/code&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git &lt;span class=&#34;built_in&#34;&gt;clone&lt;/span&gt; &amp;lt;repository_url&amp;gt; project-name&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; project-name&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-2-依赖引导&#34;&gt;&lt;a href=&#34;#2-2-依赖引导&#34; class=&#34;headerlink&#34; title=&#34;2.2 依赖引导&#34;&gt;&lt;/a&gt;2.2 依赖引导&lt;/h3&gt;&lt;p&gt;此时无法直接运行 &lt;code&gt;sail up&lt;/code&gt;。我们需要通过 Docker 运行一个一次性的 PHP 容器来执行 &lt;code&gt;composer install&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;执行以下指令（Laravel 官方推荐方案）：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;docker run --&lt;span class=&#34;built_in&#34;&gt;rm&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -u &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;$(id -u)&lt;/span&gt;:&lt;span class=&#34;subst&#34;&gt;$(id -g)&lt;/span&gt;&amp;quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -v &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;subst&#34;&gt;$(pwd)&lt;/span&gt;:/var/www/html&amp;quot;&lt;/span&gt; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -w /var/www/html \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    laravelsail/php82-composer:latest \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    composer install --ignore-platform-reqs&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;指令解析&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--rm&lt;/code&gt;: 容器执行完毕后自动删除，不残留垃圾。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-u &amp;quot;$(id -u):$(id -g)&amp;quot;&lt;/code&gt;: 使用当前宿主机用户 ID 运行容器内进程，&lt;strong&gt;确保生成的 vendor 文件权限正确&lt;/strong&gt;（避免 root 权限问题）。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-v &amp;quot;$(pwd):/var/www/html&amp;quot;&lt;/code&gt;: 将当前项目目录挂载至容器。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;laravelsail/php82-composer&lt;/code&gt;: 使用包含 PHP 8.2 和 Composer 的专用镜像。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;执行完毕后，宿主机目录下将生成标准的 &lt;code&gt;vendor&lt;/code&gt; 目录，此时 &lt;code&gt;sail&lt;/code&gt; 脚本已就位。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-环境配置与启动&#34;&gt;&lt;a href=&#34;#3-环境配置与启动&#34; class=&#34;headerlink&#34; title=&#34;3. 环境配置与启动&#34;&gt;&lt;/a&gt;3. 环境配置与启动&lt;/h2&gt;&lt;h3 id=&#34;3-1-配置文件初始化&#34;&gt;&lt;a href=&#34;#3-1-配置文件初始化&#34; class=&#34;headerlink&#34; title=&#34;3.1 配置文件初始化&#34;&gt;&lt;/a&gt;3.1 配置文件初始化&lt;/h3&gt;&lt;p&gt;复制环境变量模版文件。注意：生产环境密钥或特定基础设施配置（如 AWS Keys）需单独配置，不应包含在仓库中。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cp&lt;/span&gt; .env.example .&lt;span class=&#34;built_in&#34;&gt;env&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;3-2-启动容器栈&#34;&gt;&lt;a href=&#34;#3-2-启动容器栈&#34; class=&#34;headerlink&#34; title=&#34;3.2 启动容器栈&#34;&gt;&lt;/a&gt;3.2 启动容器栈&lt;/h3&gt;&lt;p&gt;拥有 &lt;code&gt;vendor&lt;/code&gt; 目录后，即可正常调用 Sail：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 启动环境&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail up -d&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 生成应用密钥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan key:generate&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 执行数据库迁移&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sail artisan migrate&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;h2 id=&#34;4-验证与总结&#34;&gt;&lt;a href=&#34;#4-验证与总结&#34; class=&#34;headerlink&#34; title=&#34;4. 验证与总结&#34;&gt;&lt;/a&gt;4. 验证与总结&lt;/h2&gt;&lt;p&gt;访问 &lt;code&gt;http://localhost&lt;/code&gt; 确认服务运行正常。&lt;/p&gt;
&lt;p&gt;至此，我们建立了一套基于 &lt;strong&gt;Git + Docker Bootstrapping&lt;/strong&gt; 的标准化工作流：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;提交&lt;/strong&gt;：仅提交业务代码与声明文件 (&lt;code&gt;composer.json&lt;/code&gt;, &lt;code&gt;docker-compose.yml&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;拉取&lt;/strong&gt;：在任意新设备获取代码。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;引导&lt;/strong&gt;：使用 &lt;code&gt;docker run&lt;/code&gt; 引导安装依赖。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;启动&lt;/strong&gt;：使用 &lt;code&gt;sail up&lt;/code&gt; 一键拉起完整环境。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这种工作流确保了，无论在哪台设备，只要有 Docker，就能 100% 复刻出完全一致的开发环境。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://nightingalewk.cn/2025/06/26/74.%20%E4%BF%AE%E6%94%B9%E7%BA%BF%E4%B8%8A%20git%20%E4%BB%93%E5%BA%93%20master%20%E4%B8%BB%E5%88%86%E6%94%AF%E4%B8%BA%20main/</guid>
            <title>如何将 Git 仓库的默认分支从 master 修改为 main</title>
            <link>https://nightingalewk.cn/2025/06/26/74.%20%E4%BF%AE%E6%94%B9%E7%BA%BF%E4%B8%8A%20git%20%E4%BB%93%E5%BA%93%20master%20%E4%B8%BB%E5%88%86%E6%94%AF%E4%B8%BA%20main/</link>
            <category>教程</category>
            <category>Git</category>
            <category>GitHub</category>
            <category>版本控制</category>
            <pubDate>Thu, 26 Jun 2025 09:15:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;随着技术社区对包容性语言的倡导，将 Git 仓库的默认分支从 &lt;code&gt;master&lt;/code&gt; 修改为 &lt;code&gt;main&lt;/code&gt; 已成为一种普遍的推荐做法。本文将提供一个详细、安全的操作指南，帮助你顺利完成这一迁移。&lt;/p&gt;
&lt;p&gt;整个过程主要分为四个核心步骤，外加一个针对团队协作的同步步骤。我们将依次进行操作，确保万无一失。&lt;/p&gt;
&lt;h2 id=&#34;1-重命名本地分支&#34;&gt;&lt;a href=&#34;#1-重命名本地分支&#34; class=&#34;headerlink&#34; title=&#34;1. 重命名本地分支&#34;&gt;&lt;/a&gt;1. 重命名本地分支&lt;/h2&gt;&lt;p&gt;首先，我们需要在本地的 Git 仓库中进行操作。打开你的项目终端或命令行工具。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;切换到 &lt;code&gt;master&lt;/code&gt; 分支并拉取最新代码&lt;/strong&gt;，确保本地与远程是同步的。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;git checkout master&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;git pull origin master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;使用 &lt;code&gt;-m&lt;/code&gt; (&lt;code&gt;--move&lt;/code&gt;) 参数重命名分支&lt;/strong&gt;。这将把本地的 &lt;code&gt;master&lt;/code&gt; 分支直接更名为 &lt;code&gt;main&lt;/code&gt;。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;git branch -m master main&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;执行后，你的本地主分支名就修改完成了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-推送新分支到远程仓库&#34;&gt;&lt;a href=&#34;#2-推送新分支到远程仓库&#34; class=&#34;headerlink&#34; title=&#34;2. 推送新分支到远程仓库&#34;&gt;&lt;/a&gt;2. 推送新分支到远程仓库&lt;/h2&gt;&lt;p&gt;本地分支改名后，需要将这个新的 &lt;code&gt;main&lt;/code&gt; 分支推送到你的远程仓库（如 GitHub 或 GitLab），并建立跟踪关系。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;推送 &lt;code&gt;main&lt;/code&gt; 分支&lt;/strong&gt;。使用 &lt;code&gt;-u&lt;/code&gt; (&lt;code&gt;--set-upstream&lt;/code&gt;) 参数，这样 Git 会记住本地 &lt;code&gt;main&lt;/code&gt; 分支对应远程的 &lt;code&gt;main&lt;/code&gt; 分支，方便以后直接使用 &lt;code&gt;git push&lt;/code&gt; 和 &lt;code&gt;git pull&lt;/code&gt;。&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;git push -u origin main&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
此时，你的远程仓库会同时存在 &lt;code&gt;master&lt;/code&gt; 和 &lt;code&gt;main&lt;/code&gt; 两个分支，它们的内容完全相同。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-修改平台的默认分支（关键步骤）&#34;&gt;&lt;a href=&#34;#3-修改平台的默认分支（关键步骤）&#34; class=&#34;headerlink&#34; title=&#34;3. 修改平台的默认分支（关键步骤）&#34;&gt;&lt;/a&gt;3. 修改平台的默认分支（关键步骤）&lt;/h2&gt;&lt;p&gt;这是整个流程中最关键的一步，必须在代码托管平台的网页上完成。**只有修改了默认分支，新的克隆 (clone) 和拉取请求 (Pull Request) 才会默认指向 &lt;code&gt;main&lt;/code&gt;**。&lt;/p&gt;
&lt;p&gt;以 &lt;strong&gt;GitHub&lt;/strong&gt; 为例：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;进入你的仓库主页，点击右上角的 &lt;strong&gt;Settings&lt;/strong&gt; (设置)。&lt;/li&gt;
&lt;li&gt;在左侧菜单栏找到并点击 &lt;strong&gt;Branches&lt;/strong&gt; (分支)。&lt;/li&gt;
&lt;li&gt;在 “Default branch” (默认分支) 区域，点击切换按钮（通常是两个箭头图标）。&lt;/li&gt;
&lt;li&gt;在弹出的窗口中，将默认分支从 &lt;code&gt;master&lt;/code&gt; 选为 &lt;code&gt;main&lt;/code&gt;，然后点击 &lt;strong&gt;Update&lt;/strong&gt; 确认。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;其他平台（如 GitLab, Gitee）的操作也类似，通常都在仓库的“设置”或“仓库管理”中的“分支”选项里。&lt;/p&gt;
&lt;h2 id=&#34;4-清理远程的-master-分支&#34;&gt;&lt;a href=&#34;#4-清理远程的-master-分支&#34; class=&#34;headerlink&#34; title=&#34;4. 清理远程的 master 分支&#34;&gt;&lt;/a&gt;4. 清理远程的 master 分支&lt;/h2&gt;&lt;p&gt;在确认 &lt;code&gt;main&lt;/code&gt; 已成为默认分支，并且所有相关的自动化流程（如 CI&amp;#x2F;CD）都已更新后，你就可以安全地删除远程的 &lt;code&gt;master&lt;/code&gt; 分支了，以避免团队成员产生混淆。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;执行删除命令&lt;/strong&gt;：&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;git push origin --delete master&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;至此，你的仓库就完全迁移到 &lt;code&gt;main&lt;/code&gt; 作为主分支了。&lt;/p&gt;
&lt;h2 id=&#34;注意事项与协作者指南&#34;&gt;&lt;a href=&#34;#注意事项与协作者指南&#34; class=&#34;headerlink&#34; title=&#34;注意事项与协作者指南&#34;&gt;&lt;/a&gt;注意事项与协作者指南&lt;/h2&gt;&lt;p&gt;如果你的项目是多人协作的，请务必通知所有成员，并让他们在自己的本地仓库执行以下命令来同步变更：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;# 1. 切换到旧的 master 分支
git checkout master

# 2. 从远程拉取最新的分支结构信息
git fetch origin

# 3. 将本地的 master 也重命名为 main
git branch -m master main

# 4. 重新设置本地 main 分支去跟踪远程的 main 分支
git branch --set-upstream-to=origin/main main

# 5. (推荐) 清理本地无效的远程跟踪分支
git remote prune origin
&lt;/code&gt;&lt;/pre&gt;
 ]]></description>
        </item>
    </channel>
</rss>
